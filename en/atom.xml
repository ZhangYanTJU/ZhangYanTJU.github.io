<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>OpenFOAM using &amp; programming skills</title>
  
  
  <link href="/en/atom.xml" rel="self"/>
  
  <link href="https://openfoam.top/"/>
  <updated>2020-02-09T23:00:00.000Z</updated>
  <id>https://openfoam.top/</id>
  
  <author>
    <name>Yan Zhang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>OpenFOAM Learning Resources</title>
    <link href="https://openfoam.top/studyMaterials/"/>
    <id>https://openfoam.top/studyMaterials/</id>
    <published>2019-05-27T22:00:00.000Z</published>
    <updated>2020-02-09T23:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>I think this is the most comprehensive learning resources about OpenFOAM.</p><a id="more"></a><h1 id="official-websites"><a class="markdownIt-Anchor" href="#official-websites"></a> Official websites</h1><ol><li><a href="https://openfoam.org/" target="_blank" rel="external nofollow noopener noreferrer">https://openfoam.org/</a></li><li><a href="https://github.com/OpenFOAM/OpenFOAM-dev" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/OpenFOAM/OpenFOAM-dev</a></li><li><a href="https://www.openfoam.com/" target="_blank" rel="external nofollow noopener noreferrer">https://www.openfoam.com/</a></li><li><a href="https://develop.openfoam.com/Development/OpenFOAM-plus/" target="_blank" rel="external nofollow noopener noreferrer">https://develop.openfoam.com/Development/OpenFOAM-plus/</a></li><li><a href="https://sourceforge.net/projects/openfoamplus" target="_blank" rel="external nofollow noopener noreferrer">https://sourceforge.net/projects/openfoamplus</a></li><li><a href="https://sourceforge.net/projects/foam-extend/" target="_blank" rel="external nofollow noopener noreferrer">https://sourceforge.net/projects/foam-extend/</a></li><li><a href="http://openfoamworkshop.org/" target="_blank" rel="external nofollow noopener noreferrer">http://openfoamworkshop.org/</a></li></ol><h1 id="installation"><a class="markdownIt-Anchor" href="#installation"></a> Installation</h1><ol><li><a href="https://openfoam.org/download/" target="_blank" rel="external nofollow noopener noreferrer">online installation</a></li><li><a href="http://openfoamwiki.net/index.php/Installation" target="_blank" rel="external nofollow noopener noreferrer">compilation</a></li><li><a href="https://bitbucket.org/bgschaid/ansiblefoaminstallation" target="_blank" rel="external nofollow noopener noreferrer">ansibleFoamInstallation</a></li></ol><h1 id="complete"><a class="markdownIt-Anchor" href="#complete"></a> Complete</h1><ol><li><a href="https://cfd.direct/openfoam/user-guide/" target="_blank" rel="external nofollow noopener noreferrer">User Guide</a></li><li><a href="https://www.cfd-online.com/Forums/openfoam/146697-getting-started-openfoam.html" target="_blank" rel="external nofollow noopener noreferrer">Getting Started with OpenFOAM-wyldckat</a></li><li><a href="http://www.wolfdynamics.com/our-services/training/openfoam-intro-training.html?id=50" target="_blank" rel="external nofollow noopener noreferrer">University of Genoa</a></li><li><a href="https://wiki.openfoam.com/" target="_blank" rel="external nofollow noopener noreferrer">wikiOpenFOAM</a> <a href="https://wiki.openfoam.com/%223_weeks%22_series" target="_blank" rel="external nofollow noopener noreferrer">“3 weeks” series</a>。</li><li><a href="https://github.com/ParticulateFlow/OSCCAR-doc" target="_blank" rel="external nofollow noopener noreferrer">A little User-Manual</a></li><li><a href="http://www.tfd.chalmers.se/~hani/kurser/OS_CFD/" target="_blank" rel="external nofollow noopener noreferrer">CFD with OpenSource Software-Chalmers</a>。</li><li><a href="http://openfoamwiki.net/index.php/Main_Page" target="_blank" rel="external nofollow noopener noreferrer">OpenFOAMwiki</a></li><li><a href="https://github.com/psu-efd/PSU-OpenFOAM-Course-Notes" target="_blank" rel="external nofollow noopener noreferrer">PSU-OpenFOAM-Course-Notes</a></li><li><a href="https://github.com/UnnamedMoose/BasicOpenFOAMProgrammingTutorials" target="_blank" rel="external nofollow noopener noreferrer">BasicOpenFOAMProgrammingTutorials</a></li><li><a href="https://www.researchgate.net/project/OpenFOAM-Tutoring" target="_blank" rel="external nofollow noopener noreferrer">OpenFOAM-Tutoring</a></li><li><a href="https://www.researchgate.net/project/OpenFOAM-study" target="_blank" rel="external nofollow noopener noreferrer">OpenFOAM-study</a></li><li><a href="https://www.cypriensoulaine.com/openfoam" target="_blank" rel="external nofollow noopener noreferrer">Cyprien Soulaine-OPENFOAM® TRAINING</a></li><li><a href="https://eprints.soton.ac.uk/166633/" target="_blank" rel="external nofollow noopener noreferrer">OpenFOAM workshop</a></li></ol><h1 id="openfoam-books"><a class="markdownIt-Anchor" href="#openfoam-books"></a> OpenFOAM books</h1><ol><li>The finite volume method in computational fluid dynamics : an advanced introduction with OpenFOAM® and Matlab®——<a href="http://download.library1.org/main/1505000/2116544840216f17655dc061da311d9a/%28Fluid%20mechanics%20and%20its%20applications%20volume%20113%29%20Darwish%2C%20M._%20Mangani%2C%20L._%20Moukalled%2C%20F%20-%20The%20finite%20volume%20method%20in%20computational%20fluid%20dynamics%20_%20an%20advanced%20introduction%20with%20OpenFOAM%C2%AE%20and%20Matlab.pdf" target="_blank" rel="external nofollow noopener noreferrer">download</a></li><li>Mathematics, Numerics, Derivations and OpenFOAM®——<a href="https://www.researchgate.net/publication/307546712_Mathematics_Numerics_Derivations_and_OpenFOAMR" target="_blank" rel="external nofollow noopener noreferrer">download</a></li><li>The OpenFOAM Technology Primer——<a href="http://sourceflux.de/book/" target="_blank" rel="external nofollow noopener noreferrer">download</a></li><li>Getting Started with OpenFOAM® Technology: RAW——<a href="https://kupdf.net/download/getting-started-with-openfoam-reg-technology-raw-ebook_58ff2a83dc0d60ba43959ea9_pdf" target="_blank" rel="external nofollow noopener noreferrer">download</a></li><li>Jasak Phd thesis ——<a href="https://foam-extend.fsb.hr/wp-content/uploads/2016/12/Jasak_PhD_1996.pdf" target="_blank" rel="external nofollow noopener noreferrer">download</a></li><li>Algorithm on Solvers and Models in OpenFOAM——<a href="https://wenku.baidu.com/view/7b2fc1db8bd63186bdebbc0c" target="_blank" rel="external nofollow noopener noreferrer">download</a></li></ol><h1 id="personal-blogs"><a class="markdownIt-Anchor" href="#personal-blogs"></a> Personal blogs</h1><ol><li><a href="http://blog.sina.com.cn/s/articlelist_1608493030_0_1.html" target="_blank" rel="external nofollow noopener noreferrer">Junwei Su</a></li><li><a href="../sources/OFblog_su.pdf">Junwei Su - blog collection</a></li><li><a href="https://foam-extend.fsb.hr/openfoam/tutorials/" target="_blank" rel="external nofollow noopener noreferrer">Jasak</a></li><li>[<a href="http://cfdyna.com/index.html" target="_blank" rel="external nofollow noopener noreferrer">http://cfdyna.com/index.html</a>)</li><li><a href="http://dyfluid.com" target="_blank" rel="external nofollow noopener noreferrer">dyfluid</a></li><li><a href="http://blog.sina.com.cn/s/blog_97cadb820102vxyk.html" target="_blank" rel="external nofollow noopener noreferrer">WayneWangY</a></li><li><a href="http://xiaopingqiu.github.io/categories/OpenFOAM/" target="_blank" rel="external nofollow noopener noreferrer">Giskard’s CFD Learning Tricks</a></li><li><a href="https://holzmann-cfd.de/" target="_blank" rel="external nofollow noopener noreferrer">Tobias Holzmann</a></li><li><a href="http://sourceflux.de/blog/" target="_blank" rel="external nofollow noopener noreferrer">sourceflux</a></li><li><a href="http://caefn.com/" target="_blank" rel="external nofollow noopener noreferrer">Fumiya</a></li><li><a href="https://marinecfd.xyz" target="_blank" rel="external nofollow noopener noreferrer">Zhaoweiwen</a></li><li><a href="http://blog.sina.com.cn/s/articlelist_5593422497_10_1.html" target="_blank" rel="external nofollow noopener noreferrer">Cu2SO4</a></li><li><a href="http://penguinitis.g1.xrea.com/" target="_blank" rel="external nofollow noopener noreferrer">penguinitis</a></li><li><a href="https://jibranhaider.weebly.com/" target="_blank" rel="external nofollow noopener noreferrer">Jibran</a></li><li><a href="http://www.cfdnotes.com/" target="_blank" rel="external nofollow noopener noreferrer">Hiroaki</a></li><li><a href="http://blog.pfan.cn/bioexplore" target="_blank" rel="external nofollow noopener noreferrer">CFD——OpenFOAM</a></li><li><a href="https://www.cfdsupport.com/OpenFOAM-Training-by-CFD-Support/" target="_blank" rel="external nofollow noopener noreferrer">CFD SUPPORT</a></li><li><a href="https://snow-stone.github.io/" target="_blank" rel="external nofollow noopener noreferrer">snow-stone</a></li><li><a href="http://pavanakumar.github.io/compressibleFoam/index.html" target="_blank" rel="external nofollow noopener noreferrer">compressibleFoam</a></li><li><a href="http://cfd.at/tutorials" target="_blank" rel="external nofollow noopener noreferrer">TU Wien</a></li><li><a href="https://chengdi123000.github.io" target="_blank" rel="external nofollow noopener noreferrer">chengdi</a></li><li><a href="http://www.probabilisticmoney.com/?page_id=84" target="_blank" rel="external nofollow noopener noreferrer">probabilisticmoney</a></li><li><a href="https://zhulianhua.github.io" target="_blank" rel="external nofollow noopener noreferrer">zhulianhua</a></li><li><a href="https://www.thefoamhouse.es/" target="_blank" rel="external nofollow noopener noreferrer">thefoamhouse</a></li><li><a href="http://maoyanjun.top/" target="_blank" rel="external nofollow noopener noreferrer">Mao Yanjun</a></li><li><a href="https://albertopassalacqua.com/" target="_blank" rel="external nofollow noopener noreferrer">Alberto</a></li><li><a href="https://openfoam.tech/" target="_blank" rel="external nofollow noopener noreferrer">openfoam.tech</a></li><li><a href="http://hassankassem.me/posts/" target="_blank" rel="external nofollow noopener noreferrer">Hassan</a></li><li><a href="https://ddai.me/" target="_blank" rel="external nofollow noopener noreferrer">Dezhi Dai</a></li><li><a href="https://foamscience.github.io/" target="_blank" rel="external nofollow noopener noreferrer">foamscience</a></li><li><a href="https://petebachant.me/posts/" target="_blank" rel="external nofollow noopener noreferrer">petebachant</a></li><li><a href="http://olesenm.github.io/" target="_blank" rel="external nofollow noopener noreferrer">Mark Olesen</a></li><li><a href="https://blog.csdn.net/xxyhjy" target="_blank" rel="external nofollow noopener noreferrer">xxyhjy</a></li><li><a href="http://blog.sina.com.cn/s/articlelist_1395915742_2_1.html" target="_blank" rel="external nofollow noopener noreferrer">Jay_见贤思齐</a></li><li><a href="http://blog.sina.com.cn/s/articlelist_1784149880_1_1.html" target="_blank" rel="external nofollow noopener noreferrer">蝇王</a></li></ol><h1 id="youtube"><a class="markdownIt-Anchor" href="#youtube"></a> YouTube</h1><ol><li><a href="https://www.youtube.com/playlist?list=PLqxhJj6bcnY9RoIgzeF6xDh5L9bbeK3BL" target="_blank" rel="external nofollow noopener noreferrer">Jasak</a></li><li><a href="https://www.youtube.com/channel/UCqCLabkRddpbHj4wYNFYjAA" target="_blank" rel="external nofollow noopener noreferrer">Kenneth Hoste</a></li><li><a href="https://www.youtube.com/user/fifaman114" target="_blank" rel="external nofollow noopener noreferrer">Theo Ong</a></li></ol><h1 id="forums"><a class="markdownIt-Anchor" href="#forums"></a> Forums</h1><ol><li><a href="https://www.cfd-online.com/Forums/openfoam/" target="_blank" rel="external nofollow noopener noreferrer">cfd-online</a></li><li><a href="http://www.cfd-china.com/" target="_blank" rel="external nofollow noopener noreferrer">cfd-china</a></li></ol><h1 id="others"><a class="markdownIt-Anchor" href="#others"></a> Others</h1><ol><li><a href="https://openfoamwiki.net/index.php/Handy_links" target="_blank" rel="external nofollow noopener noreferrer">openfoamwiki</a></li><li><a href="http://www.sourceflux.de/blog/101-things-read-starting-openfoam/" target="_blank" rel="external nofollow noopener noreferrer">101-things-read-starting-openfoam</a></li><li><a href="http://openfoam-extend.sourceforge.net/OpenFOAM_Workshops/OFW11_2016_Guimaraes/courses.html" target="_blank" rel="external nofollow noopener noreferrer">OpenFOAM_Workshops courses</a></li><li><a href="https://sourceforge.net/projects/openfoam-extend/files/OpenFOAM_Workshops/" target="_blank" rel="external nofollow noopener noreferrer">OpenFOAM_Workshops courses resources</a></li><li><a href="https://cfd.direct/openfoam/productive-cfd/" target="_blank" rel="external nofollow noopener noreferrer">cfd.direct</a></li><li><a href="https://www.researchgate.net/post/Where_could_I_find_specific_material_to_learn_OpenFOAM" target="_blank" rel="external nofollow noopener noreferrer">researchgate Questions</a></li><li><a href="http://www.cloudpyme.eu/en/training/inclass/" target="_blank" rel="external nofollow noopener noreferrer">cloudpyme</a></li><li><a href="http://homepages.cae.wisc.edu/~hessel/openfoam/Resources/index_OpenFOAMResources.html" target="_blank" rel="external nofollow noopener noreferrer">cae.wisc.edu</a></li><li><a href="https://eprints.soton.ac.uk/200155/" target="_blank" rel="external nofollow noopener noreferrer">Programming session: from the C++ basics to the compilation of user libraries</a></li><li><a href="https://qmplus.qmul.ac.uk/pluginfile.php/624310/mod_resource/content/2/mohamed.pdf" target="_blank" rel="external nofollow noopener noreferrer">Getting started with CFD packages OpenFOAM and FLUENT</a></li></ol><iframe src="https://docs.google.com/spreadsheets/d/17JCGN5AthdLDKMrCLHMzWkcg8Dmn7q19Qc0aHIf7wgE/pubhtml" name="target" width="650" height="600" frameborder="0" scrolling="auto"></iframe><p><a href="https://docs.google.com/spreadsheets/export?format=pdf&amp;id=17JCGN5AthdLDKMrCLHMzWkcg8Dmn7q19Qc0aHIf7wgE" target="_blank" rel="external nofollow noopener noreferrer">download1</a></p><p><a href="../sources/OpenFOAM_google_sheets.pdf">download2</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;I think this is the most comprehensive learning resources about OpenFOAM.&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>How to lookup an object?</title>
    <link href="https://openfoam.top/lookupObject/"/>
    <id>https://openfoam.top/lookupObject/</id>
    <published>2019-03-23T23:00:00.000Z</published>
    <updated>2019-03-23T23:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>foundObject, if I can find this object<br>lookupObject, return a object, which can only use const member functions<br>lookupObjectRef, return a object, which can use non-const member functions</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><h2 id="最简单的场量"><a class="markdownIt-Anchor" href="#最简单的场量"></a> 最简单的场量：</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>-&gt;mesh().objectRegistry::lookupObject&lt;volScalarField&gt;(<span class="string">"rho"</span>)</span><br><span class="line"><span class="keyword">this</span>-&gt;mesh().objectRegistry::lookupObject&lt;volVectorField&gt;(<span class="string">"U"</span>)</span><br><span class="line"><span class="keyword">this</span>-&gt;mesh().objectRegistry::lookupObject&lt;PtrList&lt;scalarField&gt;&gt;(<span class="string">"this-&gt;thermo().composition().Y()"</span>)</span><br></pre></td></tr></table></figure><h2 id="模型"><a class="markdownIt-Anchor" href="#模型"></a> 模型</h2><h3 id="湍流模型"><a class="markdownIt-Anchor" href="#湍流模型"></a> 湍流模型</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> compressible::turbulenceModel&amp; turbModel =</span><br><span class="line">    <span class="keyword">this</span>-&gt;db().objectRegistry::lookupObject&lt;compressible::turbulenceModel&gt;</span><br><span class="line">    (<span class="string">"turbulence"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compressible::turbulenceModel&amp; turbModel =</span><br><span class="line">lookupObject&lt;compressible::turbulenceModel&gt;</span><br><span class="line">(</span><br><span class="line">    turbulenceModel::propertiesName</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compressible::turbulenceModel&amp; turbModel =</span><br><span class="line"><span class="keyword">this</span>-&gt;db().lookupObject&lt;compressible::turbulenceModel&gt;</span><br><span class="line">(</span><br><span class="line">    turbulenceModel::propertiesName</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compressible::turbulenceModel&amp; turbModel =</span><br><span class="line">db().lookupObject&lt;compressible::turbulenceModel&gt;</span><br><span class="line">(</span><br><span class="line">    IOobject::groupName</span><br><span class="line">    (</span><br><span class="line">        compressible::turbulenceModel::propertiesName,</span><br><span class="line">        internalField().group()</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">const</span> compressible::LESModel&amp; lesModel =</span><br><span class="line">YO2.db().lookupObject&lt;compressible::LESModel&gt;</span><br><span class="line">(</span><br><span class="line">    turbulenceModel::propertiesName</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="喷雾模型"><a class="markdownIt-Anchor" href="#喷雾模型"></a> 喷雾模型</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;mesh().objectRegistry::foundObject&lt;sprayCloud&gt;(Foam::sprayCloud::typeName))</span><br><span class="line"><span class="keyword">const</span> basicSprayCloud&amp; spray_ = <span class="keyword">dynamic_cast</span>&lt;<span class="keyword">const</span> basicSprayCloud&amp;&gt;(<span class="keyword">this</span>-&gt;mesh().objectRegistry::lookupObject&lt;sprayCloud&gt;(Foam::sprayCloud::typeName));</span><br><span class="line">basicSprayCloud&amp; spray_ = <span class="keyword">dynamic_cast</span>&lt; basicSprayCloud&amp;&gt;(<span class="keyword">this</span>-&gt;mesh().objectRegistry::lookupObjectRef&lt;sprayCloud&gt;(Foam::sprayCloud::typeName));</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;foundObject, if I can find this object&lt;br&gt;lookupObject, return a object, which can only use const member functions&lt;br&gt;lookupObjectRef, return a object, which can use non-const member functions&lt;/p&gt;
    
    </summary>
    
    
      <category term="code analysis" scheme="https://openfoam.top/categories/code-analysis/"/>
    
    
      <category term="lookupObject" scheme="https://openfoam.top/tags/lookupObject/"/>
    
  </entry>
  
  <entry>
    <title>TurbulenceModels in OpenFOAM</title>
    <link href="https://openfoam.top/turb/"/>
    <id>https://openfoam.top/turb/</id>
    <published>2018-06-26T22:00:00.000Z</published>
    <updated>2018-08-08T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>compressible turbulence models in OpenFOAM</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><p>继承关系：</p><img src="http://www.plantuml.com/plantuml/svg/rHdRRjisz5rVGI20qIw9kyjRuWReSW46B6qGUzsZGKkKJLWI1P9oPgJvzns9aYLA8YLPHhVc8ObvBZpt2_t75u-wah88ypsQVRlqs4jqYMJ2Lqb08fSyCey4JkrpYUYoCEP42BeAoA96v0POY3ghLmV1ptA9dZYJn9N4GnwM64uom9dB8Y7HWePaWdWIfVze47_tICHcWaBuhG5sBFWA_1X_e2Jm9kWl3IeIxcENp5qSu0831_46Fs_OquPsuiQ0Wv32YWZcV-CWkAE0l2-EGQL74gu8Hmz9b5bK54gTxoYN2GxGYh40SOAzT-_HH_Ip0bOrbl0ROEeePtpULBn4qVchmzAX4pWXldy71mUImxqq2cX4aC5w1NuBReSjTSf2D1d6ioRXJMfOdK3TKRNn1EtDF45mZL-KD3NLPAWXAzG0ho2gOopT3RMIDw-JxmOItFl-C98m6OelXn8Cbcax39t4WWOiwYRQX-62H88LXCzcaXsZ7jhXW4BzWAHf0RgCSvA5VahyvbYALLdHQe0hz3iMr6slRHQ6_UgSRYUeU1kslEui9qRQaQdNvGoFx235dqbNiFWxLKiUiUJq7w2ZkxkIj55gx1xEdNWV4RxUBpYEHCmu-1JykIOi9725-oKY6JCqctAwtiXfqukVqWBbw3Qpe8EmZXyar5ji20yPO0R4RqCyIAJYmZ76rQsbKzxs2inK4WmLqVSJGNTKxgsnMJkTPGQuI1MxQ2MxgAboqo-2iy9VRG9v_EPWgV6Sb9_BC7zUp0-H_Pcyz8p-nhrjNSHu-r7zvBKKVfeUluteBcarojnaSVtCv92X5klNN5uvWLajGd93nULDHTUmXwwXJTS1HhOAyK6TfaLobEs7T51TeFJgdzI_MUVlDeiS9qUbCHUIAE7EKJ-tf0miKPWEcNczQ9INMLkPi4VXw73SuZZ6PSQPeY57wr9VeOrmW5PPZDBaM5tIABInqbXgbsX17d5TPhsM01nYV7luzTEuHOGX5k_E0CW1XtZU_YiLBXCG-MNJtTwhoJLFakBZx1xGAwdIsImzMEmY0Mb0FAKWkWqJC-mNC-XNC-Wt8qZGTOYtTZ2ejimttDgOj5sYOXcjW_B1VedABRYqWAa2dBKDU9-pidQuHXidrOt5EBcTiuIxfBO4MqboCNN2OzPs1MWBrRjjTOdIQmNqYkM7t0TGkOl3Gm2tyijbxiCrSrqBtruRtE3jpRPfGJuvpf_tyyFiUedIbmFCiznAn5ocmuvXS7t-T1oToaqjWpjwbo5BQy6T6lWaKLriDaU_4VLyWkWSYiRrWn7h-yZLNHNfbeWeAxNc_ceeJQSwp114bQ3jIQ72haMeZk0xBWJwB-KbldqHBrVllXJA-zbJmqMTskg-t5Q5LuxBpif3DJ1A7pLpmFo5GY1NNfhryvZJIDwc3w6YoUdmG6fiZjj76Xc1UMcqeR2GhF41uOXIKf4_zy0Bux3sodrCte_T2IknTbrTdHjwJ393w35cHEhWL5gjaryLjODhOUXEdYNYuEVpeG-yZOwThMxMHYsQtCoFr4t-1RnoItxqrj6uYoojpRR79ciz3vwuR6-pQbCvIQSzVgJx0VQkzYquHIm4_4zsCcJVYmV9rxsm8UVDgGMe6XUBtc9eritd3KLMusMWRhjIZHt5s62T4GgaqNqF6FsWVUyC9v8zIJvxO3YykW95G7M9q_a5_lm_UsFlVd2wbbd_KbRxXYSprP6TQ5oVwUeSI6rzZKUKIpGFyPg1ayHsdoT3vUGKpoZR8R7JljRaNnOeM7Mudg0rnvusvvwWztpNRJnpJVDrA_lUAwjU-jvqg5VwDdq2Fv7bA0FLjBu6rVu5"><p>solver 中：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Info &lt;&lt; &quot;Creating turbulence model.\n&quot; &lt;&lt; nl;</span><br><span class="line">autoPtr&lt;compressible::turbulenceModel&gt; turbulence</span><br><span class="line">(</span><br><span class="line">    compressible::turbulenceModel::New</span><br><span class="line">    (</span><br><span class="line">        rho,</span><br><span class="line">        U,</span><br><span class="line">        phi,</span><br><span class="line">        thermo</span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>其中 <code>Foam::compressible::turbulenceModel</code> 是 <code>Foam::compressible::ThermalDiffusivity&lt;CompressibleTurbulenceModel&lt;fluidThermo&gt;&gt;</code> 的 <code>typedef</code></p><p>所以这里首先调用的是 <code>ThermalDiffusivity</code> 中的 <code>New</code>：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">template&lt;class BasicTurbulenceModel&gt;</span><br><span class="line">Foam::autoPtr&lt;Foam::ThermalDiffusivity&lt;BasicTurbulenceModel&gt;&gt;</span><br><span class="line">Foam::ThermalDiffusivity&lt;BasicTurbulenceModel&gt;::New</span><br><span class="line">(</span><br><span class="line">    const volScalarField&amp; rho,</span><br><span class="line">    const volVectorField&amp; U,</span><br><span class="line">    const surfaceScalarField&amp; phi,</span><br><span class="line">    const transportModel&amp; transport,</span><br><span class="line">    const word&amp; propertiesName</span><br><span class="line">)</span><br><span class="line">&#123;</span><br><span class="line">    return autoPtr&lt;ThermalDiffusivity&gt;</span><br><span class="line">    (</span><br><span class="line">        static_cast&lt;ThermalDiffusivity*&gt;(</span><br><span class="line">        BasicTurbulenceModel::New</span><br><span class="line">        (</span><br><span class="line">            rho,</span><br><span class="line">            U,</span><br><span class="line">            phi,</span><br><span class="line">            transport,</span><br><span class="line">            propertiesName</span><br><span class="line">        ).ptr())</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>CompressibleTurbulenceModel&lt;class TransportModel&gt;</code> 是 <code>BasicTurbulenceModel</code> 的实例化，<br>因此接下来来到了 <code>CompressibleTurbulenceModel</code><br>声明：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">template&lt;class TransportModel&gt;</span><br><span class="line">class CompressibleTurbulenceModel</span><br><span class="line">:</span><br><span class="line">    public TurbulenceModel</span><br><span class="line">    &lt;</span><br><span class="line">        geometricOneField,</span><br><span class="line">        volScalarField,</span><br><span class="line">        compressibleTurbulenceModel,</span><br><span class="line">        TransportModel</span><br><span class="line">    &gt;</span><br></pre></td></tr></table></figure><p><code>New</code> 函数：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">template&lt;class TransportModel&gt;</span><br><span class="line">Foam::autoPtr&lt;Foam::CompressibleTurbulenceModel&lt;TransportModel&gt;&gt;</span><br><span class="line">Foam::CompressibleTurbulenceModel&lt;TransportModel&gt;::New</span><br><span class="line">(</span><br><span class="line">    const volScalarField&amp; rho,</span><br><span class="line">    const volVectorField&amp; U,</span><br><span class="line">    const surfaceScalarField&amp; phi,</span><br><span class="line">    const transportModel&amp; transport,</span><br><span class="line">    const word&amp; propertiesName</span><br><span class="line">)</span><br><span class="line">&#123;</span><br><span class="line">    return autoPtr&lt;CompressibleTurbulenceModel&gt;</span><br><span class="line">    (</span><br><span class="line">        static_cast&lt;CompressibleTurbulenceModel*&gt;(</span><br><span class="line">        TurbulenceModel</span><br><span class="line">        &lt;</span><br><span class="line">            geometricOneField,</span><br><span class="line">            volScalarField,</span><br><span class="line">            compressibleTurbulenceModel,</span><br><span class="line">            transportModel</span><br><span class="line">        &gt;::New</span><br><span class="line">        (</span><br><span class="line">            geometricOneField(),</span><br><span class="line">            rho,</span><br><span class="line">            U,</span><br><span class="line">            phi,</span><br><span class="line">            phi,</span><br><span class="line">            transport,</span><br><span class="line">            propertiesName</span><br><span class="line">        ).ptr())</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接着来到 <code>TurbulenceModel</code> 这里用到了 RTS<br><code>New</code> 函数：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">static autoPtr&lt;TurbulenceModel&gt; New</span><br><span class="line">(</span><br><span class="line">    const alphaField&amp; alpha,</span><br><span class="line">    const rhoField&amp; rho,</span><br><span class="line">    const volVectorField&amp; U,</span><br><span class="line">    const surfaceScalarField&amp; alphaRhoPhi,</span><br><span class="line">    const surfaceScalarField&amp; phi,</span><br><span class="line">    const transportModel&amp; transport,</span><br><span class="line">    const word&amp; propertiesName &#x3D; turbulenceModel::propertiesName</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>构造函数：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Foam::TurbulenceModel&lt;Alpha, Rho, BasicTurbulenceModel, TransportModel&gt;::</span><br><span class="line">TurbulenceModel</span><br><span class="line">(</span><br><span class="line">    const alphaField&amp; alpha,</span><br><span class="line">    const rhoField&amp; rho,</span><br><span class="line">    const volVectorField&amp; U,</span><br><span class="line">    const surfaceScalarField&amp; alphaRhoPhi,</span><br><span class="line">    const surfaceScalarField&amp; phi,</span><br><span class="line">    const transportModel&amp; transport,</span><br><span class="line">    const word&amp; propertiesName</span><br><span class="line">)</span><br><span class="line">:</span><br><span class="line">    BasicTurbulenceModel</span><br><span class="line">    (</span><br><span class="line">        rho,</span><br><span class="line">        U,</span><br><span class="line">        alphaRhoPhi,</span><br><span class="line">        phi,</span><br><span class="line">        propertiesName</span><br><span class="line">    ),</span><br><span class="line">    alpha_(alpha),</span><br><span class="line">    transport_(transport)</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure><p>它的模板基类 <code>BasicTurbulenceModel</code> 的实例化是 <code>compressibleTurbulenceModel</code>：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Foam::compressibleTurbulenceModel::compressibleTurbulenceModel</span><br><span class="line">(</span><br><span class="line">    const volScalarField&amp; rho,</span><br><span class="line">    const volVectorField&amp; U,</span><br><span class="line">    const surfaceScalarField&amp; alphaRhoPhi,</span><br><span class="line">    const surfaceScalarField&amp; phi,</span><br><span class="line">    const word&amp; propertiesName</span><br><span class="line">)</span><br><span class="line">:</span><br><span class="line">    turbulenceModel</span><br><span class="line">    (</span><br><span class="line">        U,</span><br><span class="line">        alphaRhoPhi,</span><br><span class="line">        phi,</span><br><span class="line">        propertiesName</span><br><span class="line">    ),</span><br><span class="line">    rho_(rho)</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure><p>最后终于来到了幕后大 Boss：<code>turbulenceModel</code> 面前：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Foam::turbulenceModel::turbulenceModel</span><br><span class="line">(</span><br><span class="line">    const volVectorField&amp; U,</span><br><span class="line">    const surfaceScalarField&amp; alphaRhoPhi,</span><br><span class="line">    const surfaceScalarField&amp; phi,</span><br><span class="line">    const word&amp; propertiesName</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>初始化列表中：<code>alphaRhoPhi_(alphaRhoPhi)</code><br>另有函数：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">inline const surfaceScalarField&amp; alphaRhoPhi() const</span><br><span class="line">&#123;</span><br><span class="line">    return alphaRhoPhi_;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>combustionModel.H</code> 中：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">inline Foam::tmp&lt;Foam::surfaceScalarField&gt; Foam::combustionModel::phi() const</span><br><span class="line">&#123;</span><br><span class="line">    return turbulence().alphaRhoPhi();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>就是说，<code>solver</code> 中 <code>#include &quot;compressibleCreatePhi.H&quot;</code> 创建的 <code>phi</code> 逐级传到了湍流模型中，我可以使用 <code>Foam::combustionModel::phi()</code> 来调用它！！！这是合理的！！！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;compressible turbulence models in OpenFOAM&lt;/p&gt;
    
    </summary>
    
    
      <category term="OpenFOAM" scheme="https://openfoam.top/categories/OpenFOAM/"/>
    
      <category term="code analysis" scheme="https://openfoam.top/categories/OpenFOAM/code-analysis/"/>
    
    
      <category term="TurbulenceModels" scheme="https://openfoam.top/tags/TurbulenceModels/"/>
    
  </entry>
  
  <entry>
    <title>calculations about chemistry reaction in OpenFOAM</title>
    <link href="https://openfoam.top/chemistry/"/>
    <id>https://openfoam.top/chemistry/</id>
    <published>2018-06-07T22:00:00.000Z</published>
    <updated>2018-06-10T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>This post analyze the classes regarding combustion and chemistry.</p><a id="more"></a><p>首先给出 UML 图，右键在新标签页中打开链接，可以获得更好的阅读体验。</p><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><img src="http://www.plantuml.com/plantuml/svg/nLbBRziu4BxhLn0e83YedIwmjy3hG-q4CT0WNTkNOh4mQ8cokT739IadHhV_VKSKzQ14qPBROdD8RFARuN1cEAyidttg2Ph4c9tHzD-9dxp64xJ3d7hp0uae5-pybFWaTBmGSsxQ-UOW-DbkqMUM2E89uYCV2mmhSkETbyHSeE3qHFZ1HH7yLXlhLogy0_8ARXgUUpZ4305_WJVPWSkOsW5F-4q1JacubhiFb8J-tTqo5eJ5EAo1jssXdqYq8mmzfB5K22ylGEEGnWHrSNLhR4StXGJKHrx26B1MQt1MrmdlrGbjJOrkyaKDrjIR3ZfH9bAuQuXt94Jn-aWyIWe8-WFzPeIj29OojO6QRFrqO1Bd4lrgDSeXkK2qK-0XB80uezKPYEWuxM8oGx3gfI4MfC7jFLCQekFwCfVghKkBck9cdb0m7TsqBwGScIVXYOmClZs4H5x7xIPitts6XDVj7IRydtuYD8hlGECO0aCLJpvsnXF3phJmnSs1i2YPNOelEjn5GlxTzdrqPdBrQ7Nlxu8gV__kE1zjMbWB7FkO-Gr5F2_krsSkI9GXEr57JlNZqVJsjWECxXgYEZpDP0q1l64uviU42JjzJhSv7uaob1dPiDMuHbUt6ps1xtTQOW9tFsQlOveVjP3UAtcOFBtQBXtzWeTy5kmJoDpqP1TzqJ9A0IlkDArT1i150E16eXhMLL5XKtF4TreurjUAyzIgkl96dcUzGJrkhLOA6gK2xq9I3mZ8i-pvdY-ko8ON9PBnU63gwsi1OrhiQGzpUb8yZ4dJXcpcJKqYpP8MX5j23BaZYSWUcuAyDzQInKR_UXph6G6iNCHizMDCAVNJJ5O08uolbiL5nw3yw0LZgKCNXIjIBHzPXM05WW52axvRzkL8PVz2-lzTN7izK3oGv4GOepwDzmZl8Bw2y2WeNmkDJPNtxQFv6Gskigwki7v6PLMywgMbi1fOCLrLBGsfb8PLIRrj3AL0swQDIlt-QpF-QQxb4vbjwObmNJN2_12weeI1zJ_OItOKnzVnLIlhhobcv0aBHjzW8_2zXf8OoNp4HoAfEfnrPZfMAaQJAZThFQEvNlacDzL3BJ_bvYw_ydItKELohQILGKQLFcM1zkrYDhFOojJ9sEprPjBhkQ7Ni_zcPs-sMI_UWV_MPREpNlux7MLaMVas37bdR0KQeAaEclLN_Yzr2wVfbB9eZvEvlco6tQSXOKieTgb7XHa2TtKSPsaSotX9j4jvjgpfJL-zUXoJRm2t8oESKwWJDodRWSInHoHdQ7XWGH_UPA7xLDIpDPczX0I1NYc_9in7KSOegoIsFtaeqbFwVC72GO_ZaCiFYH6TnNoUiW1xH8lxnmErSC-rvYgrMO2LAbsbIqlCBmTDvWO-EEKIvWyOMeLHyv9VVd00eAAbxeYLtyuRVclkPHkeTXERkti3rZajk1WcEhlvbXBwTFzbV73cNMh82QjjfxbGGJdK225P2tAimKsB5Sd3Ud41uTCWIFbbJZGEQ4m52SyFc8ioi3bTTYi0DLujstKgnK1T6BgzCtGqX5EHG4CuxJ5bcbNv1oYsF-n5mpr8FYDm7uCwIss5EA8G59I6r3UBLlB1IrqdarsIP4si87kMrUAAT0MVXqm1UfJ7lLErFYU_CdGD2rkJoUIHO94LcmHpWZ9LeBzUzX-Y3_ptltLUKc7GfFWWO1xfbDuhitp6wrLxzNunTpedRuNYky9SsNnVTlaertBGCfBKRj5UhGNxH08nUeOFyFpXDy5HDLEfgx55kABxGo_AJAvq1-LDxdC24drbT73g53gUlBERowHczTHQsH3ZY6YhEHE-oSPPnNn7bHiJEV-fdp93uS6ooSfDBYzOltcVIq_oWfC8DM3A9Np4_02HH4hOD6Bnz1TmNUZhIUynMQOCLsh3EA2kRtUM5cqDk9b-1bAm0xVzeyT4ih-6fYMPnVusvZh17lErZKRrII_1g34PiioDYjRNof3f35-2Lt_yQuyOp526E9cB_WC0"><p>使用 QtCreator 发现 <code>Reaction</code> 的基类是 <code>Foam::species::thermo</code></p><p><code>Reaction</code> 本身是 <code>Reaction&lt;sutherlandTransport&gt;</code></p><p>在 dev 版本的 reactingFoam 中，创建了哪些和燃烧化学相关的对象呢？</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">autoPtr&lt;psiReactionThermo&gt; <span class="title">pThermo</span><span class="params">(psiReactionThermo::New(mesh))</span></span>;</span><br><span class="line">psiReactionThermo&amp; thermo = pThermo();</span><br><span class="line">basicSpecieMixture&amp; composition = thermo.composition();</span><br><span class="line">PtrList&lt;volScalarField&gt;&amp; Y = composition.Y();</span><br><span class="line">autoPtr&lt;CombustionModel&lt;psiReactionThermo&gt;&gt; reaction</span><br><span class="line">(</span><br><span class="line">    CombustionModel&lt;psiReactionThermo&gt;::New(thermo, turbulence())</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><code>reaction</code> 如何使用呢？在 <code>YEqn.H</code> 中</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">reaction-&gt;correct();</span><br><span class="line">Qdot = reaction-&gt;Qdot();</span><br></pre></td></tr></table></figure><p>另外组分方程的源项也通过它调用：<code>reaction-&gt;R(Yi)</code>。</p><p>结合上边的 UML 图，这里的 <code>reaction</code> 的类型实际上是 <code>laminar</code>。<br>函数 <code>correct()</code> 的关键代码是：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>-&gt;chemistryPtr_-&gt;solve(<span class="keyword">this</span>-&gt;mesh().time().deltaTValue());</span><br></pre></td></tr></table></figure><p>其中的 <code>chemistryPtr_</code> 定义于 <code>laminar</code> 的基类 <code>ChemistryCombustion</code>：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">autoPtr&lt;BasicChemistryModel&lt;ReactionThermo&gt;&gt; chemistryPtr_;</span><br></pre></td></tr></table></figure><p>即，通过 <code>BasicChemistryModel</code> 调用其派生类 <code>StandardChemistryModel</code> 中的 <code>solve(const scalar deltaT)</code><br>但是 <code>BasicChemistryModel</code> 中并没有定义这个 <code>solve</code> 函数，事实上，它是定义在基类 <code>basicChemistryModel</code> 中的纯虚函数。<br>然后在 <code>StandardChemistryModel</code> 中，这个 <code>solve</code> 又调用了同一 <code>class</code> 中的实际干活的另一个 <code>solve(const DeltaTType&amp; deltaT)</code> 函数，在其中，调用了同一 <code>class</code> 的 5 参数的 <code>solve</code> 函数。<br>5 参数的 <code>solve</code> 函数在 <code>EulerImplicit</code> 和 <code>ode</code> 中重新定义。<br>所以这里的 <code>reaction-&gt;correct()</code> 就相当于在这里求解化学反应！</p><p><code>laminar</code> 中的函数 <code>Qdot()</code> 最初的纯虚函数定义于<code>combustionModel</code>，在 <code>laminar</code> 实际定义，返回值是 <code>this-&gt;chemistryPtr_-&gt;Qdot()</code>。<br>因此跳转到了 <code>BasicChemistryModel</code> 类中，和上边的 <code>solve</code> 一样，它也是 <code>basicChemistryModel</code> 的纯虚函数，实际定义于 <code>StandardChemistryModel</code>，返回值是一个 <code>tmp&lt;Foam::volScalarField&gt;</code>，实际计算如下：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">forAll(Y_, i)</span><br><span class="line">&#123;</span><br><span class="line">    forAll(Qdot, celli)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">const</span> scalar hi = specieThermo_[i].Hc();</span><br><span class="line">        Qdot[celli] -= hi*RR_[i][celli];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中，<code>Hc()</code> 是该组分的化学焓（英文是 chemical enthalpy，又叫 formation enthalpy），公式是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup></mrow><annotation encoding="application/x-tex">\Delta h^0_{f,k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2333239999999999em;vertical-align:-.4192159999999999em"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-2.4168920000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4192159999999999em"><span></span></span></span></span></span></span></span></span></span>，它的计算见 <a href="https://cpp.openfoam.org/v3/a10297_source.html" target="_blank" rel="external nofollow noopener noreferrer">janafThermoI.H</a>。另一篇博客正好给出来燃烧反应能量方程，其中的源项，就是这里的 <code>Qdot</code>。</p><p>函数 <code>R(volScalarField&amp; Y)</code> 的返回值是 <code>tmp&lt;Foam::fvScalarMatrix&gt;</code>，我对matrix不太熟悉，这个矩阵应该是由此组成：<code>this-&gt;chemistryPtr_-&gt;RR(specieI)</code>。<br>又来到了 BasicChemistryModel 类中，照旧，纯虚函数定义于 <code>basicChemistryModel</code>，实际定义于 <code>StandardChemistryModel</code>（在 StandardChemistryModelI.H 中定义），返回值是 <code>RR_</code>，它的类型是 <code>PtrList&lt;volScalarField::Internal&gt;</code>，代码中的描述是 List of reaction rate per specie [kg/m3/s]。</p><p>总结起来，就是在 solver 中，定义一个燃烧的对象：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">autoPtr&lt;CombustionModel&lt;psiReactionThermo&gt;&gt; reaction</span><br><span class="line">(</span><br><span class="line">    CombustionModel&lt;psiReactionThermo&gt;::New(thermo, turbulence())</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>然后在燃烧模型 <code>ChemistryCombustion</code> 里边，有一个化学模型的指针（Protected data，只能它自己或其派生类能够访问，它的对象不能访问）</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">autoPtr&lt;BasicChemistryModel&lt;ReactionThermo&gt;&gt; chemistryPtr_</span><br></pre></td></tr></table></figure><p>所有关于化学的使用，都是通过它调用。<br>比如求解化学反应方程，就是 <code>reaction-&gt;correct()</code>。而这个 <code>correct</code> 函数的内容是</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this-&gt;chemistryPtr_-&gt;solve(this-&gt;mesh().time().deltaTValue());</span><br></pre></td></tr></table></figure><p>调用了化学模型里边的 <code>solve</code> 函数。</p><p>三个函数完整定义如下：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ReactionThermo</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">Foam</span>:</span>:combustionModels::laminar&lt;ReactionThermo&gt;::correct()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;active())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (integrateReactionRate_)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (fv::localEulerDdt::enabled(<span class="keyword">this</span>-&gt;mesh()))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">const</span> scalarField&amp; rDeltaT =</span><br><span class="line">                    fv::localEulerDdt::localRDeltaT(<span class="keyword">this</span>-&gt;mesh());</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;coeffs().found(<span class="string">"maxIntegrationTime"</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    scalar maxIntegrationTime</span><br><span class="line">                    (</span><br><span class="line">                        readScalar(<span class="keyword">this</span>-&gt;coeffs().lookup(<span class="string">"maxIntegrationTime"</span>))</span><br><span class="line">                    );</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>-&gt;chemistryPtr_-&gt;solve</span><br><span class="line">                    (</span><br><span class="line">                        <span class="built_in">min</span>(<span class="number">1.0</span>/rDeltaT, maxIntegrationTime)()</span><br><span class="line">                    );</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">this</span>-&gt;chemistryPtr_-&gt;solve((<span class="number">1.0</span>/rDeltaT)());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">this</span>-&gt;chemistryPtr_-&gt;solve(<span class="keyword">this</span>-&gt;mesh().time().deltaTValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;chemistryPtr_-&gt;calculate();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ReactionThermo</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Foam</span>:</span>:tmp&lt;Foam::fvScalarMatrix&gt;</span><br><span class="line">Foam::combustionModels::laminar&lt;ReactionThermo&gt;::R(volScalarField&amp; Y) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">tmp&lt;fvScalarMatrix&gt; <span class="title">tSu</span><span class="params">(<span class="keyword">new</span> fvScalarMatrix(Y, dimMass/dimTime))</span></span>;</span><br><span class="line"></span><br><span class="line">    fvScalarMatrix&amp; Su = tSu.ref();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;active())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">const</span> label specieI =</span><br><span class="line">            <span class="keyword">this</span>-&gt;thermo().composition().species()[Y.member()];</span><br><span class="line"></span><br><span class="line">        Su += <span class="keyword">this</span>-&gt;chemistryPtr_-&gt;RR(specieI);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> tSu;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ReactionThermo</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Foam</span>:</span>:tmp&lt;Foam::volScalarField&gt;</span><br><span class="line">Foam::combustionModels::laminar&lt;ReactionThermo&gt;::Qdot() <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    tmp&lt;volScalarField&gt; tQdot</span><br><span class="line">    (</span><br><span class="line">        <span class="keyword">new</span> volScalarField</span><br><span class="line">        (</span><br><span class="line">            IOobject</span><br><span class="line">            (</span><br><span class="line">                <span class="keyword">this</span>-&gt;thermo().phasePropertyName(typeName + <span class="string">":Qdot"</span>),</span><br><span class="line">                <span class="keyword">this</span>-&gt;mesh().time().timeName(),</span><br><span class="line">                <span class="keyword">this</span>-&gt;mesh(),</span><br><span class="line">                IOobject::NO_READ,</span><br><span class="line">                IOobject::NO_WRITE,</span><br><span class="line">                <span class="literal">false</span></span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">this</span>-&gt;mesh(),</span><br><span class="line">            dimensionedScalar(<span class="string">"Qdot"</span>, dimEnergy/dimVolume/dimTime, <span class="number">0.0</span>)</span><br><span class="line">        )</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;active())</span><br><span class="line">    &#123;</span><br><span class="line">        tQdot.ref() = <span class="keyword">this</span>-&gt;chemistryPtr_-&gt;Qdot();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> tQdot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;This post analyze the classes regarding combustion and chemistry.&lt;/p&gt;
    
    </summary>
    
    
      <category term="OpenFOAM" scheme="https://openfoam.top/categories/OpenFOAM/"/>
    
      <category term="code analysis" scheme="https://openfoam.top/categories/OpenFOAM/code-analysis/"/>
    
    
      <category term="thermophysicalModels" scheme="https://openfoam.top/tags/thermophysicalModels/"/>
    
      <category term="combustionModels" scheme="https://openfoam.top/tags/combustionModels/"/>
    
  </entry>
  
  <entry>
    <title>calculation of alpha and alphat</title>
    <link href="https://openfoam.top/alpha/"/>
    <id>https://openfoam.top/alpha/</id>
    <published>2018-06-04T22:00:00.000Z</published>
    <updated>2018-06-04T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>calculation of alpha and alphat in the thermophysical and trubulence library</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><h1 id="background"><a class="markdownIt-Anchor" href="#background"></a> background</h1><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ν</mi></mrow><annotation encoding="application/x-tex">\nu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.06366em">ν</span></span></span></span>, kinematic viscosity, [m^2/s]</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">μ</span></span></span></span>, dynamic viscosity, [kg/(m*s)]</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.0037em">α</span></span></span></span>, thermal diffusivity of enthalpy, [kg/(m*s)], <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mo>=</mo><mfrac><mi>λ</mi><msub><mi>C</mi><mi>p</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">\alpha=\frac{\lambda}{C_p}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.0037em">α</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.4224279999999998em;vertical-align:-.5423199999999999em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8801079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285716em"><span style="top:-2.357em;margin-left:-.07153em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">λ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>κ</mi></mrow><annotation encoding="application/x-tex">\kappa</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">κ</span></span></span></span> (OF uses kappa), i.e. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">λ</span></span></span></span> (some papers use lambda), Thermal conductivity, [W/(m*K)]</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>r</mi></msub><mo>=</mo><mfrac><mi>ν</mi><msub><mi>D</mi><mi>t</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">P_r=\frac{\nu}{D_t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.140492em;vertical-align:-.44509999999999994em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.695392em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.29634285714285713em"><span style="top:-2.357em;margin-left:-.02778em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.06366em">ν</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.44509999999999994em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> diffusivity of momentum <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ν</mi></mrow><annotation encoding="application/x-tex">\nu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.06366em">ν</span></span></span></span> over thermal diffusivity <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>D</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">D_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>D</mi><mi>t</mi></msub><mo>=</mo><mfrac><mi>λ</mi><mrow><mi>ρ</mi><msub><mi>C</mi><mi>p</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">D_t=\frac{\lambda}{\rho C_p}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.4224279999999998em;vertical-align:-.5423199999999999em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8801079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">ρ</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285716em"><span style="top:-2.357em;margin-left:-.07153em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">λ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>. Yields <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>r</mi></msub><mo>=</mo><mfrac><mi>ν</mi><msub><mi>D</mi><mi>t</mi></msub></mfrac><mo>=</mo><mfrac><mi>ν</mi><mrow><mi>λ</mi><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>ρ</mi><msub><mi>C</mi><mi>p</mi></msub><mo stretchy="false">)</mo></mrow></mfrac><mo>=</mo><mfrac><mi>μ</mi><mrow><mi>λ</mi><mi mathvariant="normal">/</mi><msub><mi>C</mi><mi>p</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mi>μ</mi><mi>α</mi></mfrac></mrow><annotation encoding="application/x-tex">P_r=\frac{\nu}{D_t}=\frac{\nu}{\lambda/(\rho C_p)}=\frac{\mu}{\lambda /C_p}=\frac{\mu}{\alpha}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.140492em;vertical-align:-.44509999999999994em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.695392em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.29634285714285713em"><span style="top:-2.357em;margin-left:-.02778em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.06366em">ν</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.44509999999999994em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.237712em;vertical-align:-.5423199999999999em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.695392em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">λ</span><span class="mord mtight">/</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">ρ</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285716em"><span style="top:-2.357em;margin-left:-.07153em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.06366em">ν</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.28982em;vertical-align:-.5423199999999999em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7475em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">λ</span><span class="mord mtight">/</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285716em"><span style="top:-2.357em;margin-left:-.07153em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">μ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0925em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7475em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.0037em">α</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">μ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mi>e</mi></msub><mo>=</mo><mfrac><msub><mi>D</mi><mi>t</mi></msub><msub><mi>D</mi><mi>k</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">L_e=\frac{D_t}{D_k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.3392909999999998em;vertical-align:-.4508599999999999em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8884309999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.02778em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.4101em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.29634285714285713em"><span style="top:-2.357em;margin-left:-.02778em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4508599999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> thermal diffusivity <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>D</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">D_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> over mass diffusion coefficient</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>c</mi></msub><mo>=</mo><mfrac><mi>ν</mi><msub><mi>D</mi><mi>k</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">S_c=\frac{\nu}{D_k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.146252em;vertical-align:-.4508599999999999em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.695392em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.02778em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.06366em">ν</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4508599999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> diffusivity of momentum <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ν</mi></mrow><annotation encoding="application/x-tex">\nu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.06366em">ν</span></span></span></span> over mass diffusion coefficient<br>Assume <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>r</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">P_r=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>, we get <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi><mo>=</mo><mi>μ</mi><msub><mi>C</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\lambda=\mu C_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.969438em;vertical-align:-.286108em"></span><span class="mord mathdefault">μ</span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mo>=</mo><mi>μ</mi></mrow><annotation encoding="application/x-tex">\alpha=\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.0037em">α</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">μ</span></span></span></span><br>Assume <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mi>e</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">L_e=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>, we get <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>D</mi><mi>k</mi></msub><mo>=</mo><mfrac><mi>λ</mi><mrow><mi>ρ</mi><msub><mi>C</mi><mi>p</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">D_k=\frac{\lambda}{\rho C_p}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.4224279999999998em;vertical-align:-.5423199999999999em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8801079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">ρ</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285716em"><span style="top:-2.357em;margin-left:-.07153em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">λ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><br>Assume <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>c</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">S_c=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>, we get <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>D</mi><mi>k</mi></msub><mo>=</mo><mi>ν</mi></mrow><annotation encoding="application/x-tex">D_k=\nu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.06366em">ν</span></span></span></span></li></ul><h2 id="in-openfoam"><a class="markdownIt-Anchor" href="#in-openfoam"></a> in OpenFOAM</h2><p><code>moleWeight_</code> can be accessed by <code>W()</code>, [kg/kmol]<br><code>cp</code>, [J/(kmol<em>K)]<br><code>C_p=\frac{cv}{W}</code>, [J/(kg</em>K)], general use this in many books.<br><code>h_s</code>, [J/kmol]<br><code>H_s</code>, [J/kg]</p><h1 id="calculation-of-alpha-and-alphat"><a class="markdownIt-Anchor" href="#calculation-of-alpha-and-alphat"></a> calculation of alpha and alphat</h1><p>本文代码几乎全部在 <code>/src/thermophysicalModels</code> 文件夹下。</p><p>代码在 <a href="https://cpp.openfoam.org/v3/a09892_source.html" target="_blank" rel="external nofollow noopener noreferrer">/basic/psiThermo/hePsiThermo.C</a> 中：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">forAll(TCells, celli)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">typename</span> MixtureType::thermoType&amp; mixture_ =</span><br><span class="line">        <span class="keyword">this</span>-&gt;cellMixture(celli);</span><br><span class="line">    TCells[celli] = mixture_.THE</span><br><span class="line">    (</span><br><span class="line">        hCells[celli],</span><br><span class="line">        pCells[celli],</span><br><span class="line">        TCells[celli]</span><br><span class="line">    );</span><br><span class="line">    psiCells[celli] = mixture_.psi(pCells[celli], TCells[celli]);</span><br><span class="line">    muCells[celli] = mixture_.mu(pCells[celli], TCells[celli]);</span><br><span class="line">    alphaCells[celli] = mixture_.alphah(pCells[celli], TCells[celli]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://cpp.openfoam.org/v3/a10311_source.html" target="_blank" rel="external nofollow noopener noreferrer">/specie/transport/sutherland/sutherlandTransportI.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">Thermo</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">inline</span> <span class="title">Foam</span>:</span>:scalar Foam::sutherlandTransport&lt;Thermo&gt;::alphah</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> kappa(p, T)/<span class="keyword">this</span>-&gt;Cp(p, T);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://cpp.openfoam.org/v3/a10648_source.html" target="_blank" rel="external nofollow noopener noreferrer">RASModel.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> tmp&lt;volScalarField&gt; <span class="title">alphaEff</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> thermo().alphaEff(alphat());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://cpp.openfoam.org/v3/a09887_source.html" target="_blank" rel="external nofollow noopener noreferrer">heThermo.C</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">BasicThermo</span>, <span class="title">class</span> <span class="title">MixtureType</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Foam</span>:</span>:tmp&lt;Foam::volScalarField&gt;</span><br><span class="line">Foam::heThermo&lt;BasicThermo, MixtureType&gt;::alphaEff</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> volScalarField&amp; alphat</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">tmp&lt;Foam::volScalarField&gt; <span class="title">alphaEff</span><span class="params">(<span class="keyword">this</span>-&gt;CpByCpv()*(<span class="keyword">this</span>-&gt;alpha_ + alphat))</span></span>;</span><br><span class="line">    alphaEff().rename(<span class="string">"alphaEff"</span>);</span><br><span class="line">    <span class="keyword">return</span> alphaEff;</span><br><span class="line">&#125;</span><br><span class="line">其中理想气体的 CpByCpv 等于 <span class="number">1</span></span><br></pre></td></tr></table></figure><p>这里的 <code>alpha_</code> 是层流的，另外<code>alpha()</code>函数会返回<code>alpha_</code>，通过修改<code>aloha()</code>函数也能更新<code>alpha_</code>。</p><p><code>alphat()</code>在哪里计算？</p><p><a href="https://cpp.openfoam.org/v3/a10636_source.html" target="_blank" rel="external nofollow noopener noreferrer">KEpsilon.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//- Return the turbulence thermal diffusivity</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> tmp&lt;volScalarField&gt; <span class="title">alphat</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> alphat_;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://cpp.openfoam.org/v3/a10635_source.html" target="_blank" rel="external nofollow noopener noreferrer">KEpsilon.C</a>在构造函数里边：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">mut_ = Cmu_*rho_*sqr(k_)/epsilon_;</span><br><span class="line">alphat_ = mut_/Prt_;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;calculation of alpha and alphat in the thermophysical and trubulence library&lt;/p&gt;
    
    </summary>
    
    
      <category term="OpenFOAM" scheme="https://openfoam.top/categories/OpenFOAM/"/>
    
      <category term="code analysis" scheme="https://openfoam.top/categories/OpenFOAM/code-analysis/"/>
    
    
      <category term="thermophysicalModels" scheme="https://openfoam.top/tags/thermophysicalModels/"/>
    
  </entry>
  
  <entry>
    <title>errors and solutions when compiling your own code</title>
    <link href="https://openfoam.top/compile/"/>
    <id>https://openfoam.top/compile/</id>
    <published>2018-05-29T22:00:00.000Z</published>
    <updated>2018-05-29T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="collections-about-errors-and-solutions-when-compiling-your-own-openfoam-code"><a class="markdownIt-Anchor" href="#collections-about-errors-and-solutions-when-compiling-your-own-openfoam-code"></a> collections about errors and solutions when compiling your own OpenFOAM code</h3><p>===</p><p style="font-family:verdana;color:#fff;font-size:20px;text-align:left">The `T` is a const refrence, but I want to assign a value to it.</p><p style="font-family:verdana;color:#fff;font-size:20px;text-align:left">solution: there are non-const `T()` in `thermo` library, use this version of `T()` when define your `T` in your OpenFOAM solver. i.e. `volScalarField& T = thermo.T();`</p><h1 id="-0-"><a class="markdownIt-Anchor" href="#-0-"></a><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">YEEqn.H:<span class="number">86</span>:<span class="number">6</span>: error: </span><br><span class="line">passing ‘<span class="keyword">const</span> volScalarField </span><br><span class="line">&#123;aka <span class="keyword">const</span> GeometricField&lt;<span class="keyword">double</span>, fvPatchField, volMesh&gt;&#125;’ </span><br><span class="line">as ‘<span class="keyword">this</span>’ argument discards qualifiers [-fpermissive]</span><br><span class="line">     T=G;</span><br></pre></td></tr></table></figure></h1><p style="font-family:verdana;color:#fff;font-size:20px;text-align:left">The `radiation` is an `autoPtr`, but I want to convert it to its derived class.</p><p style="font-family:verdana;color:#fff;font-size:20px;text-align:left">solution: use `radiation()` instead of `radiation`. The `()` returns reference to the object data.</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">YEEqn.H:85:61: error: </span><br><span class="line">cannot dynamic_cast ‘radiation’ </span><br><span class="line">(of type ‘class autoPtr&lt;radiation::radiationModel&gt;’) </span><br><span class="line">to type ‘const class radiation::fvDOM&amp;’ </span><br><span class="line">(source type is not polymorphic)</span><br><span class="line"> T&#x3D;pow(dynamic_cast&lt;const radiation::fvDOM &amp;&gt;(radiation).G()&#x2F;4,0.25);</span><br></pre></td></tr></table></figure>===<p style="font-family:verdana;color:#fff;font-size:20px;text-align:left">Forget to define some functions in library with just declaration.</p>![](//ws2.sinaimg.cn/large/a2a8de49ly1fs84vnrcjmj20xt056q41.jpg) ===<p style="font-family:verdana;color:#fff;font-size:20px;text-align:left">The `R(Yi)` is ``tmp,fvMatrix,scalar,,``, it doesn't overload the operator `*` with `volScalarField` or `scalar`.</p><p style="font-family:verdana;color:#fff;font-size:20px;text-align:left">solution: but `scalar` overload the operator `*` with ``tmp,fvMatrix,scalar,,``. i.e. you can use `efficiency_/TF_*reaction->R(Yi)`.</p><h1 id="-2-"><a class="markdownIt-Anchor" href="#-2-"></a><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">YEqn.H(<span class="number">30</span>): error: no <span class="keyword">operator</span> <span class="string">"*"</span> matches these operands</span><br><span class="line">In file included from reactingFoam.C(<span class="number">76</span>):</span><br><span class="line">operand types are: </span><br><span class="line">Foam::tmp&lt;Foam::fvMatrix&lt;Foam::scalar&gt;&gt; * Foam::volScalarField </span><br><span class="line">In file included from reactingFoam.C(<span class="number">76</span>):</span><br><span class="line">reaction-&gt;R(Yi)*efficiency_/TF_</span><br><span class="line">compilation aborted <span class="keyword">for</span> reactingFoam.C (code <span class="number">2</span>)</span><br><span class="line">make: *** [Make/linux64IccDPOpt/reactingFoam.o] error <span class="number">2</span></span><br></pre></td></tr></table></figure></h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;collections-about-errors-and-solutions-when-compiling-your-own-openfoam-code&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#collections-about-
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>energy equations in combustion</title>
    <link href="https://openfoam.top/hEqn/"/>
    <id>https://openfoam.top/hEqn/</id>
    <published>2018-03-18T23:00:00.000Z</published>
    <updated>2018-04-05T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>several types of energy equations in combustion</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><h1 id="绝对焓的输运方程"><a class="markdownIt-Anchor" href="#绝对焓的输运方程"></a> 绝对焓的输运方程：</h1><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><mi>h</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><mi>h</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><mi>J</mi><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial \rho h}{\partial t}+\frac{\rho u_i h}{\partial x_i}=\frac{dp}{dt}+\nabla\cdot J+\tau_{ij}\frac{\partial u_i}{\partial x_j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord mathdefault">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord mathdefault">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">∇</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>J</mi><mo>=</mo><mi>k</mi><mi mathvariant="normal">∇</mi><mi>T</mi><mo>−</mo><mi>ρ</mi><mo>∑</mo><msub><mi>h</mi><mi>s</mi></msub><msub><mi>V</mi><mi>k</mi></msub><msub><mi>Y</mi><mi>k</mi></msub><mo>−</mo><mi>ρ</mi><mo>∑</mo><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>V</mi><mi>k</mi></msub><msub><mi>Y</mi><mi>k</mi></msub><mo>=</mo><msub><mi>J</mi><mi>s</mi></msub><mo>−</mo><mi>ρ</mi><mo>∑</mo><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>V</mi><mi>k</mi></msub><msub><mi>Y</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">J=k\nabla T-\rho\sum h_sV_kY_k-\rho\sum\Delta h_{f,k}^0 V_kY_k=J_s-\rho\sum\Delta h_{f,k}^0 V_kY_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.77777em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord">∇</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-.25001em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.2333239999999999em;vertical-align:-.4192159999999999em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-2.4168920000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4192159999999999em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.09618em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.2333239999999999em;vertical-align:-.4192159999999999em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-2.4168920000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4192159999999999em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><br>即 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>J</mi><mi>s</mi></msub><mo>=</mo><mi>k</mi><mi mathvariant="normal">∇</mi><mi>T</mi><mo>−</mo><mi>ρ</mi><mo>∑</mo><msub><mi>h</mi><mi>s</mi></msub><msub><mi>V</mi><mi>k</mi></msub><msub><mi>Y</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">J_s=k\nabla T-\rho\sum h_sV_kY_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.09618em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.77777em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord">∇</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-.25001em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.09618em">J</span></span></span></span><br>显焓 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>h</mi><mi>s</mi></msub><mo>=</mo><mi>h</mi><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>Y</mi><mi>k</mi></msub></mrow></mrow><annotation encoding="application/x-tex">h_s=h-\sum_{k = 1}^N {\Delta h_{f,k}^0{Y_k}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.84444em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.77777em;vertical-align:-.08333em"></span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.4004469999999998em;vertical-align:-.4192159999999999em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.981231em"><span style="top:-2.40029em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29971000000000003em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-2.4168920000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4192159999999999em"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></span> 代入绝对焓的输运方程，得到：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><mfrac><mrow><msub><mi>h</mi><mi>s</mi></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>Y</mi><mi>k</mi></msub></mrow></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>h</mi><mi>s</mi></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>Y</mi><mi>k</mi></msub></mrow><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><mi>J</mi><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\partial\rho\frac{ h_s+\sum_{k = 1}^N {\Delta h_{f,k}^0{Y_k}}}{\partial t}+\partial\frac{\rho u_i (h_s+\sum_{k = 1}^N {\Delta h_{f,k}^0{Y_k}})}{\partial x_i} =\frac{dp}{dt}+\nabla\cdot J+\tau_{ij}\frac{\partial u_i}{\partial x_j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.476447em;vertical-align:-.686em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.790447em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.809216em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.981231em"><span style="top:-2.40029em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29971000000000003em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-2.4168920000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4192159999999999em"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.6264469999999998em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.790447em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.809216em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.981231em"><span style="top:-2.40029em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29971000000000003em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-2.4168920000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4192159999999999em"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">∇</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>移项，得到：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable rowspacing="0.15999999999999992em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><mi>J</mi><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>−</mo><mi mathvariant="normal">∂</mi><mi>ρ</mi><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>Y</mi><mi>k</mi></msub></mrow></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>−</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>Y</mi><mi>k</mi></msub></mrow></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><msub><mi>J</mi><mi>s</mi></msub><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>−</mo><mi mathvariant="normal">∂</mi><mi>ρ</mi><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>Y</mi><mi>k</mi></msub></mrow></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>−</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>Y</mi><mi>k</mi></msub></mrow></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>−</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mo stretchy="false">(</mo><mi>ρ</mi><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mi>V</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><msub><mi>Y</mi><mi>k</mi></msub></mrow><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><msub><mi>J</mi><mi>s</mi></msub><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>−</mo><mo>∑</mo><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><mo stretchy="false">[</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><mo>+</mo><msub><mi>V</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><msub><mi>J</mi><mi>s</mi></msub><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>−</mo><mo>∑</mo><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><msub><mi>J</mi><mi>s</mi></msub><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{ll} &amp;\frac{\partial \rho h_s}{\partial t}+\partial\frac{\rho u_i h_s}{\partial x_i}\\ &amp;= \frac{dp}{dt}+\nabla\cdot J + \tau_{ij}\frac{\partial u_i}{\partial x_j} - \partial\rho\frac{\sum_{k = 1}^N {\Delta h_{f,k}^0{Y_k}}}{\partial t} -\partial\frac{\rho u_i\sum_{k = 1}^N {\Delta h_{f,k}^0{Y_k}}}{\partial x_i}\\ &amp;= \frac{dp}{dt}+\nabla\cdot J_s+\tau_{ij}\frac{\partial u_i}{\partial x_j}-\partial\rho\frac{\sum_{k = 1}^N {\Delta h_{f,k}^0{Y_k}}}{\partial t}-\partial\frac{\rho u_i\sum_{k = 1}^N {\Delta h_{f,k}^0{Y_k}}}{\partial x_i} -\partial\frac{(\rho\sum_{k = 1}^N{\Delta h_{f,k}^0V_{k,i}{Y_k}})}{\partial x_i}\\ &amp;= \frac{dp}{dt}+\nabla\cdot J_s+\tau_{ij}\frac{\partial u_i}{\partial x_j}-\sum\Delta h_{f,k}^0[\frac{\partial\rho Y_k}{\partial t}+\partial\frac{\rho(u_i+V_{k,i})Y_k}{\partial x_i}]\\ &amp;= \frac{dp}{dt}+\nabla\cdot J_s+\tau_{ij}\frac{\partial u_i}{\partial x_j}-\sum\Delta h_{f,k}^0\dot\omega_k\\ &amp;=\frac{dp}{dt}+\nabla\cdot J_s+\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T \end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:9.492998em;vertical-align:-4.496498999999999em"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:.5em"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.996499em"><span style="top:-7.315068em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"></span></span><span style="top:-5.619183000000001em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"></span></span><span style="top:-3.8260780000000008em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"></span></span><span style="top:-2.245678000000001em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"></span></span><span style="top:-.7711420000000013em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"></span></span><span style="top:.7033939999999992em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.496498999999999em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.996499em"><span style="top:-7.315068em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9322159999999999em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mathdefault mtight">ρ</span><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285719em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9322159999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">ρ</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285719em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.44509999999999994em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-5.619183000000001em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9322159999999999em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">∇</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8962079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.4101em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.250785em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.60742em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9190928571428572em"><span style="top:-2.1785614285714283em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.32143857142857146em"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8913142857142857em"><span style="top:-2.214em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.42488571428571426em"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.250785em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.60742em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">ρ</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9190928571428572em"><span style="top:-2.1785614285714283em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.32143857142857146em"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8913142857142857em"><span style="top:-2.214em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.42488571428571426em"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.44509999999999994em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.8260780000000008em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9322159999999999em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">∇</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.09618em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8962079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.4101em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.250785em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.60742em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9190928571428572em"><span style="top:-2.1785614285714283em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.32143857142857146em"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8913142857142857em"><span style="top:-2.214em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.42488571428571426em"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.250785em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.60742em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">ρ</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9190928571428572em"><span style="top:-2.1785614285714283em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.32143857142857146em"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8913142857142857em"><span style="top:-2.214em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.42488571428571426em"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.44509999999999994em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.250785em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.60742em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">ρ</span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9190928571428572em"><span style="top:-2.1785614285714283em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.32143857142857146em"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8913142857142857em"><span style="top:-2.214em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.42488571428571426em"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29011428571428566em"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.44509999999999994em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.245678000000001em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9322159999999999em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">∇</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.09618em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8962079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.4101em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-2.4168920000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4192159999999999em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9322159999999999em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mathdefault mtight">ρ</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.03808em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.51308em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">ρ</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29011428571428566em"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.44509999999999994em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span><span style="top:-.7711420000000013em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9322159999999999em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">∇</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.09618em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8962079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.4101em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-2.4168920000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4192159999999999em"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:.7033939999999992em"><span class="pstrut" style="height:3.250785em"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9322159999999999em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">∇</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.09618em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8962079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.4101em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.496498999999999em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span></span></span></span></span></span></span></p><p>上边推导的最后一步，是由组分的输运方程得到的：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><mo>+</mo><msub><mi>V</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>=</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\frac{\partial\rho Y_k}{\partial t}+\partial\frac{\rho(u_i+V_{k,i})Y_k}{\partial x_i}=\dot\omega_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.263em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub><mo>=</mo><mo>−</mo><mo>∑</mo><mi mathvariant="normal">Δ</mi><msubsup><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow><mn>0</mn></msubsup><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\dot\omega_T=-\sum\Delta h_{f,k}^0\dot\omega_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.2333239999999999em;vertical-align:-.4192159999999999em"></span><span class="mord">−</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-2.4168920000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4192159999999999em"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> is heat release due to combustion.</p><h1 id="显焓的输运方程"><a class="markdownIt-Anchor" href="#显焓的输运方程"></a> 显焓的输运方程：</h1><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><msub><mi>J</mi><mi>s</mi></msub><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\frac{\partial \rho h_s}{\partial t}+\partial\frac{\rho u_i h_s}{\partial x_i} =\frac{dp}{dt}+\nabla\cdot J_s+\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">∇</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.09618em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>J</mi><mi>s</mi></msub><mo>=</mo><mi>k</mi><mi mathvariant="normal">∇</mi><mi>T</mi><mo>−</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mi>s</mi></msub><msub><mi>V</mi><mi>k</mi></msub><msub><mi>Y</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">J_s=k\nabla T-\rho\sum_{k = 1}^N h_sV_kY_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.09618em">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.09618em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.77777em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord">∇</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><mo stretchy="false">(</mo><mi>k</mi><mi mathvariant="normal">∇</mi><mi>T</mi><mo>−</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mi>s</mi></msub><msub><mi>V</mi><mi>k</mi></msub><msub><mi>Y</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\frac{\partial \rho h_s}{\partial t}+\partial\frac{\rho u_i h_s}{\partial x_i} =\frac{dp}{dt}+\nabla\cdot (k\nabla T-\rho\sum_{k = 1}^N h_sV_kY_k)+\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">∇</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord">∇</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">(</mo><mi>k</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>T</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">)</mo><mo>−</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><mo>∑</mo><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mi>V</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\frac{\partial \rho h_s}{\partial t}+\partial\frac{\rho u_i h_s}{\partial x_i} = \frac{dp}{dt} + \frac{\partial}{\partial x_i}(k\frac{\partial T}{\partial x_i})-\partial\frac{\rho\sum h_{s,k}V_{k,i}Y_k}{\partial x_i} +\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.263em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><mo>∑</mo><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mi>V</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\partial\frac{\rho\sum h_{s,k}V_{k,i}Y_k}{\partial x_i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.48318em;vertical-align:-.44509999999999994em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.03808em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.51308em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">ρ</span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mop op-symbol small-op mtight" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29011428571428566em"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29011428571428566em"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.44509999999999994em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> 经常被视为0<br>所以显焓的输运方程：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">(</mo><mi>κ</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>T</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">)</mo><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\frac{\partial \rho h_s}{\partial t}+\partial\frac{\rho u_i h_s}{\partial x_i} = \frac{dp}{dt} + \frac{\partial}{\partial x_i}(\kappa\frac{\partial T}{\partial x_i}) +\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault">κ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>κ</mi></mrow><annotation encoding="application/x-tex">\kappa</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">κ</span></span></span></span> 就是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">λ</span></span></span></span>，导热系数。<br>由于温度和焓的关系： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mo>=</mo><mfrac><mi>λ</mi><msub><mi>C</mi><mi>p</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">\alpha=\frac{\lambda}{C_p}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.0037em">α</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.4224279999999998em;vertical-align:-.5423199999999999em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8801079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285716em"><span style="top:-2.357em;margin-left:-.07153em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">λ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>， 代入上式，得：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">(</mo><mi>α</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">)</mo><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\frac{\partial \rho h_s}{\partial t}+\partial\frac{\rho u_i h_s}{\partial x_i} = \frac{dp}{dt} + \frac{\partial}{\partial x_i}(\alpha\frac{\partial h_s}{\partial x_i}) +\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.0037em">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\tau_{ij}\frac{\partial u_i}{\partial x_j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4385279999999998em;vertical-align:-.5423199999999999em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8962079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2818857142857143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.4101em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.5423199999999999em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> 这一项也被忽略了，因为粘性热远小于化学热？？？</p><h1 id="温度的输运方程"><a class="markdownIt-Anchor" href="#温度的输运方程"></a> 温度的输运方程:</h1><p>显焓的输运方程：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ρ</mi><mfrac><mrow><mi>d</mi><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ρ</mi><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><msub><mi>u</mi><mi>i</mi></msub><msub><mi>h</mi><mi>s</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">(</mo><mi>k</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>T</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">)</mo><mo>−</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><mo>∑</mo><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mi>V</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\rho\frac{d h_s}{dt}=\frac{\partial \rho h_s}{\partial t}+\partial\frac{\rho u_i h_s}{\partial x_i} = \frac{dp}{dt} + \frac{\partial}{\partial x_i}(k\frac{\partial T}{\partial x_i})-\partial\frac{\rho\sum h_{s,k}V_{k,i}Y_k}{\partial x_i} +\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-.686em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.263em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>h</mi><mi>s</mi></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>Y</mi><mi>k</mi></msub><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">h_s=\sum_{k = 1}^N Y_k{h_{s,k}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.84444em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>代入显焓输运方程得到：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ρ</mi><mfrac><mi>d</mi><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>Y</mi><mi>k</mi></msub><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">(</mo><mi>k</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>T</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">)</mo><mo>−</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mi>V</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\rho\frac{d }{dt}\sum_{k = 1}^N Y_k{h_{s,k}} = \frac{dp}{dt} + \frac{\partial}{\partial x_i}(k\frac{\partial T}{\partial x_i})-\partial\frac{\rho\sum_{k = 1}^N h_{s,k}V_{k,i}Y_k}{\partial x_i} +\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.5069410000000003em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.670941em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.6897100000000003em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.981231em"><span style="top:-2.40029em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29971000000000003em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p>方程第一项：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ρ</mi><mfrac><mi>d</mi><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>Y</mi><mi>k</mi></msub><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mfrac><mi>d</mi><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo stretchy="false">(</mo><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mi>Y</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>Y</mi><mi>k</mi></msub><mfrac><mrow><mi>d</mi><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo stretchy="false">)</mo><mo>+</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mfrac><mrow><mi>d</mi><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\rho\frac{d }{dt}\sum_{k = 1}^N (Y_k{h_{s,k}})=\rho\sum_{k = 1}^N \frac{d}{dt}(h_{s,k}Y_k)=\rho\sum_{k = 1}^N (Y_k\frac{dh_{s,k}}{dt})+\rho\sum_{k = 1}^N h_{s,k}\frac{dY_k}{dt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>将 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mo>=</mo><msubsup><mo>∫</mo><mrow><mi>T</mi><mn>0</mn></mrow><mi>T</mi></msubsup><msub><mi>C</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mi>d</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">h_{s,k}=\int_{T0}^TC_{p,k}dT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.980548em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.392051em;vertical-align:-.35582em"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:.19445em;position:relative;top:-.0005599999999999772em">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.036231em"><span style="top:-2.34418em;margin-left:-.19445em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.35582em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span> 代入上式，得到：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>=</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>Y</mi><mi>k</mi></msub><mfrac><mi>d</mi><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><msubsup><mo>∫</mo><mrow><mi>T</mi><mn>0</mn></mrow><mi>T</mi></msubsup><msub><mi>C</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mi>d</mi><mi>T</mi><mo>+</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mfrac><mrow><mi>d</mi><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mi>ρ</mi><mfrac><mrow><mi>d</mi><msubsup><mo>∫</mo><mrow><mi>T</mi><mn>0</mn></mrow><mi>T</mi></msubsup><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>Y</mi><mi>k</mi></msub><msub><mi>C</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mi>d</mi><mi>T</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mfrac><mrow><mi>d</mi><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">=\rho\sum_{k = 1}^N Y_k\frac{d}{dt}\int_{T0}^TC_{p,k}dT+\rho\sum_{k = 1}^N h_{s,k}\frac{dY_k}{dt}=\rho\frac{d\int_{T0}^T\sum_{k = 1}^N Y_kC_{p,k}dT}{dt}+\rho\sum_{k = 1}^N h_{s,k}\frac{dY_k}{dt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:.44445em;position:relative;top:-.0011249999999999316em">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5912310000000005em"><span style="top:-1.7880500000000001em;margin-left:-.44445em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.812900000000001em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9119499999999999em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.468051em;vertical-align:-.686em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.782051em"><span style="top:-2.350231em"><span class="pstrut" style="height:3.036231em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.266231em"><span class="pstrut" style="height:3.036231em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.782051em"><span class="pstrut" style="height:3.036231em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:.19445em;position:relative;top:-.0005599999999999772em">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.036231em"><span style="top:-2.34418em;margin-left:-.19445em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.35582em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.981231em"><span style="top:-2.40029em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29971000000000003em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>又有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>C</mi><mi>p</mi></msub><mo>=</mo><mo>∑</mo><msub><mi>Y</mi><mi>k</mi></msub><msub><mi>C</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">C_p=\sum Y_k{C_{p,k}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.969438em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span></span>， 因此：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>=</mo><mi>ρ</mi><mfrac><mrow><mi>d</mi><msubsup><mo>∫</mo><mrow><mi>T</mi><mn>0</mn></mrow><mi>T</mi></msubsup><msub><mi>C</mi><mi>p</mi></msub><mi>d</mi><mi>T</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mfrac><mrow><mi>d</mi><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mi>ρ</mi><msub><mi>C</mi><mi>p</mi></msub><mfrac><mrow><mi>d</mi><mi>T</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mfrac><mrow><mi>d</mi><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">=\rho\frac{d\int_{T0}^TC_pdT}{dt}+\rho\sum_{k = 1}^N h_{s,k}\frac{dY_k}{dt}=\rho C_p\frac{dT}{dt}+\rho\sum_{k = 1}^N h_{s,k}\frac{dY_k}{dt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.468051em;vertical-align:-.686em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.782051em"><span style="top:-2.350231em"><span class="pstrut" style="height:3.036231em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.266231em"><span class="pstrut" style="height:3.036231em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.782051em"><span class="pstrut" style="height:3.036231em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:.19445em;position:relative;top:-.0005599999999999772em">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.036231em"><span style="top:-2.34418em;margin-left:-.19445em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.35582em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-.686em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>接下来呢？</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ρ</mi><msub><mi>C</mi><mi>p</mi></msub><mfrac><mrow><mi>d</mi><mi>T</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mfrac><mrow><mi>d</mi><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">(</mo><mi>k</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>T</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">)</mo><mo>−</mo><mi mathvariant="normal">∂</mi><mfrac><mrow><mi>ρ</mi><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mi>V</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\rho C_p\frac{dT}{dt}+\rho\sum_{k = 1}^N h_{s,k}\frac{dY_k}{dt}=\frac{dp}{dt} + \frac{\partial}{\partial x_i}(k\frac{\partial T}{\partial x_i})-\partial\frac{\rho\sum_{k = 1}^N h_{s,k}V_{k,i}Y_k}{\partial x_i} +\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-.686em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.5069410000000003em;vertical-align:-.8360000000000001em"></span><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.670941em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.6897100000000003em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.981231em"><span style="top:-2.40029em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.29971000000000003em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p>把组分输运方程： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ρ</mi><mfrac><mrow><mi>d</mi><msub><mi>Y</mi><mi>k</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mo>−</mo><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mi>ρ</mi><msub><mi>V</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><msub><mi>Y</mi><mi>k</mi></msub><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\rho\frac{dY_k}{dt}=-\frac{\partial}{\partial x_i}\rho V_{k,i}Y_k+\dot\omega_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2469679999999999em;vertical-align:-.345em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9019679999999999em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.41586em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:-.22222em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.325208em;vertical-align:-.44509999999999994em"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8801079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:.05556em">∂</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.44509999999999994em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 代入上式左边第二项，得到：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ρ</mi><msub><mi>C</mi><mi>p</mi></msub><mfrac><mrow><mi>d</mi><mi>T</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>k</mi></msub><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">(</mo><mi>k</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>T</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">)</mo><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\rho C_p\frac{dT}{dt}+\sum_{k = 1}^N h_{s,k}\dot\omega_k=\frac{dp}{dt} + \frac{\partial}{\partial x_i}(k\frac{\partial T}{\partial x_i}) +\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-.686em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p>移项，得：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ρ</mi><msub><mi>C</mi><mi>p</mi></msub><mfrac><mrow><mi>d</mi><mi>T</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>d</mi><mi>p</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">(</mo><mi>κ</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>T</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>i</mi></msub></mrow></mfrac><mo stretchy="false">)</mo><mo>+</mo><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>i</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><msubsup><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi><mo mathvariant="normal">′</mo></msubsup></mrow><annotation encoding="application/x-tex">\rho C_p\frac{dT}{dt}=\frac{dp}{dt}+\frac{\partial}{\partial x_i}(\kappa\frac{\partial T}{\partial x_i}) +\tau_{ij}\frac{\partial u_i}{\partial x_j}+\dot\omega&#x27;_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-.686em"></span><span class="mord mathdefault">ρ</span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.20744em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault">κ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-.972108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord" style="margin-right:.05556em">∂</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.972108em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.048892em;vertical-align:-.247em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8018919999999999em"><span style="top:-2.4530000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span><span style="top:-3.113em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.247em"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi><mo mathvariant="normal">′</mo></msubsup><mo>=</mo><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>T</mi></msub><mo>−</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>k</mi></msub><mo>=</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mi mathvariant="normal">Δ</mi><msub><mi>h</mi><mrow><mi>f</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>k</mi></msub><mo>−</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>k</mi></msub><mo>=</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>h</mi><mi>k</mi></msub><msub><mover accent="true"><mi>ω</mi><mo>˙</mo></mover><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\dot\omega&#x27;_T =\dot\omega_T-\sum_{k = 1}^N h_{s,k}\dot\omega_k =-\sum_{k = 1}^N\Delta h_{f,k}\dot\omega_k-\sum_{k = 1}^N h_{s,k}\dot\omega_k =-\sum_{k = 1}^N h_k\dot \omega_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.048892em;vertical-align:-.247em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8018919999999999em"><span style="top:-2.4530000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span><span style="top:-3.113em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.247em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.81786em;vertical-align:-.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord">−</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em"></span><span class="mord">−</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em"><span style="top:-1.8478869999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="margin-right:.03588em">ω</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.13889em">˙</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;several types of energy equations in combustion&lt;/p&gt;
    
    </summary>
    
    
      <category term="combustion" scheme="https://openfoam.top/categories/combustion/"/>
    
    
      <category term="hEqn" scheme="https://openfoam.top/tags/hEqn/"/>
    
      <category term="energy equation" scheme="https://openfoam.top/tags/energy-equation/"/>
    
  </entry>
  
  <entry>
    <title>RANS vs LES</title>
    <link href="https://openfoam.top/RANS_LES/"/>
    <id>https://openfoam.top/RANS_LES/</id>
    <published>2018-03-14T23:00:00.000Z</published>
    <updated>2018-04-04T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>RANS&amp;LES</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><h1 id="rans"><a class="markdownIt-Anchor" href="#rans"></a> RANS</h1><p>雷诺应力</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo>−</mo><mover accent="true"><mi>ρ</mi><mo>ˉ</mo></mover><mover accent="true"><mrow><msubsup><mi>u</mi><mi>i</mi><mo mathvariant="normal">′</mo></msubsup><msubsup><mi>u</mi><mi>j</mi><mo mathvariant="normal">′</mo></msubsup></mrow><mo stretchy="true">~</mo></mover></mrow><annotation encoding="application/x-tex">\tau_{ij}=-\bar\rho\widetilde{u_i&#x27;u_j&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.432664em;vertical-align:-.4129719999999999em"></span><span class="mord">−</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.56778em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault">ρ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.16666em">ˉ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.19444em"><span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.019692em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.27686399999999994em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.733692em"><span class="pstrut" style="height:3em"></span><span style="height:.286em"><svg width="100%" height="0.286em" viewbox="0 0 1033 286" preserveaspectratio="none"><path d="M344 55.266c-142 0-300.638 81.316-311.5 86.418-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751 181.476 676 181.476c-149 0-189-126.21-332-126.21z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span></span></span></span></span></p><p>湍动能</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mover accent="true"><mrow><msubsup><mi>u</mi><mi>i</mi><mo mathvariant="normal">′</mo></msubsup><msubsup><mi>u</mi><mi>i</mi><mo mathvariant="normal">′</mo></msubsup></mrow><mo stretchy="true">~</mo></mover><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><msub><mi>τ</mi><mrow><mi>i</mi><mi>i</mi></mrow></msub><mi mathvariant="normal">/</mi><mover accent="true"><mi>ρ</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">k=\frac{1}{2}\widetilde{u_i&#x27;u_i&#x27;}=-\frac{1}{2}\tau_{ii}/\bar\rho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.019692em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.27686399999999994em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.27686399999999994em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.733692em"><span class="pstrut" style="height:3em"></span><span style="height:.286em"><svg width="100%" height="0.286em" viewbox="0 0 1033 286" preserveaspectratio="none"><path d="M344 55.266c-142 0-300.638 81.316-311.5 86.418-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751 181.476 676 181.476c-149 0-189-126.21-332-126.21z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.27686399999999994em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-.686em"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.56778em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault">ρ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.16666em">ˉ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.19444em"><span></span></span></span></span></span></span></span></span></span></p><p>Boussinesq 假设</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>−</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><msub><mi>τ</mi><mrow><mi>k</mi><mi>k</mi></mrow></msub><msub><mi>δ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mn>2</mn><msub><mi>μ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mover accent="true"><msub><mi>S</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="true">~</mo></mover><mo>−</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mover accent="true"><msub><mi>S</mi><mrow><mi>k</mi><mi>k</mi></mrow></msub><mo stretchy="true">~</mo></mover><msub><mi>δ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\tau_{ij}-\frac{1}{3}\tau_{kk}\delta_{ij}=2\mu_t(\widetilde{S_{ij}}-\frac{1}{3}\widetilde{S_{kk}}\delta_{ij})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8694379999999999em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03785em">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.03785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.229438em;vertical-align:-.286108em"></span><span class="mord">2</span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.94333em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.6833299999999998em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.94333em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.6833299999999998em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03785em">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.03785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><h1 id="les"><a class="markdownIt-Anchor" href="#les"></a> LES</h1><p>亚格子应力</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mover accent="true"><mi>ρ</mi><mo>ˉ</mo></mover><mo stretchy="false">(</mo><mover accent="true"><mrow><msub><mi>u</mi><mi>i</mi></msub><msub><mi>u</mi><mi>j</mi></msub></mrow><mo stretchy="true">~</mo></mover><mo>−</mo><mover accent="true"><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="true">~</mo></mover><mover accent="true"><msub><mi>u</mi><mi>j</mi></msub><mo stretchy="true">~</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\tau_{ij}=\bar\rho(\widetilde{u_iu_j}-\widetilde{u_i}\widetilde{u_j})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.56778em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault">ρ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.16666em">ˉ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.19444em"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.71656em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.286em"><svg width="100%" height="0.286em" viewbox="0 0 1033 286" preserveaspectratio="none"><path d="M344 55.266c-142 0-300.638 81.316-311.5 86.418-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751 181.476 676 181.476c-149 0-189-126.21-332-126.21z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.69056em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.6905600000000001em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>亚格子湍动能</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><mover accent="true"><mrow><msub><mi>u</mi><mi>i</mi></msub><msub><mi>u</mi><mi>j</mi></msub></mrow><mo stretchy="true">~</mo></mover><mo>−</mo><mover accent="true"><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="true">~</mo></mover><mover accent="true"><msub><mi>u</mi><mi>j</mi></msub><mo stretchy="true">~</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mfrac><msub><mi>τ</mi><mrow><mi>i</mi><mi>i</mi></mrow></msub><mover accent="true"><mi>ρ</mi><mo>ˉ</mo></mover></mfrac></mrow><annotation encoding="application/x-tex">k=\frac{1}{2}(\widetilde{u_iu_j}-\widetilde{u_i}\widetilde{u_j})=\frac{1}{2}\frac{\tau_{ii}}{\bar\rho}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.71656em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.286em"><svg width="100%" height="0.286em" viewbox="0 0 1033 286" preserveaspectratio="none"><path d="M344 55.266c-142 0-300.638 81.316-311.5 86.418-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751 181.476 676 181.476c-149 0-189-126.21-332-126.21z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.69056em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.6905600000000001em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.20188em;vertical-align:-.8804400000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1075599999999999em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.56778em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault">ρ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.16666em">ˉ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.19444em"><span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8804400000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>Boussinesq 假设</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>−</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><msub><mi>τ</mi><mrow><mi>k</mi><mi>k</mi></mrow></msub><msub><mi>δ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo>−</mo><mn>2</mn><msub><mi>μ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mover accent="true"><msub><mi>S</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="true">~</mo></mover><mo>−</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mover accent="true"><msub><mi>S</mi><mrow><mi>k</mi><mi>k</mi></mrow></msub><mo stretchy="true">~</mo></mover><msub><mi>δ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\tau_{ij}-\frac{1}{3}\tau_{kk}\delta_{ij}=-2\mu_t(\widetilde{S_{ij}}-\frac{1}{3}\widetilde{S_{kk}}\delta_{ij})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8694379999999999em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03785em">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.03785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.229438em;vertical-align:-.286108em"></span><span class="mord">−</span><span class="mord">2</span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.94333em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.6833299999999998em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.94333em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.6833299999999998em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03785em">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.03785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>RANS 和 LES 的联系：</p><p>首先有：脉动的平均 =0 ？？？</p><p>并且有：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><msub><mi>u</mi><mi>i</mi></msub><msub><mi>u</mi><mi>j</mi></msub></mrow><mo stretchy="true">~</mo></mover><mo>=</mo><mover accent="true"><mrow><mo stretchy="false">(</mo><mover accent="true"><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="true">~</mo></mover><mo>+</mo><msubsup><mi>u</mi><mi>i</mi><mo mathvariant="normal">′</mo></msubsup><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mover accent="true"><msub><mi>u</mi><mi>j</mi></msub><mo stretchy="true">~</mo></mover><mo>+</mo><msubsup><mi>u</mi><mi>j</mi><mo mathvariant="normal">′</mo></msubsup><mo stretchy="false">)</mo></mrow><mo stretchy="true">~</mo></mover><mo>=</mo><mover accent="true"><mrow><mover accent="true"><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="true">~</mo></mover><mover accent="true"><msub><mi>u</mi><mi>j</mi></msub><mo stretchy="true">~</mo></mover><mo>+</mo><mover accent="true"><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="true">~</mo></mover><msubsup><mi>u</mi><mi>j</mi><mo mathvariant="normal">′</mo></msubsup><mo>+</mo><msubsup><mi>u</mi><mi>i</mi><mo mathvariant="normal">′</mo></msubsup><mover accent="true"><msub><mi>u</mi><mi>j</mi></msub><mo stretchy="true">~</mo></mover><mo>+</mo><msubsup><mi>u</mi><mi>i</mi><mo mathvariant="normal">′</mo></msubsup><msubsup><mi>u</mi><mi>j</mi><mo mathvariant="normal">′</mo></msubsup></mrow><mo stretchy="true">~</mo></mover><mo>=</mo><mover accent="true"><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="true">~</mo></mover><mover accent="true"><msub><mi>u</mi><mi>j</mi></msub><mo stretchy="true">~</mo></mover><mo>+</mo><mover accent="true"><mrow><msubsup><mi>u</mi><mi>i</mi><mo mathvariant="normal">′</mo></msubsup><msubsup><mi>u</mi><mi>j</mi><mo mathvariant="normal">′</mo></msubsup></mrow><mo stretchy="true">~</mo></mover></mrow><annotation encoding="application/x-tex">\widetilde{u_iu_j}=\widetilde{(\widetilde{u_i}+u_i&#x27;)(\widetilde{u_j}+u_j&#x27;)}= \widetilde{ \widetilde{u_i}\widetilde{u_j}+\widetilde{u_i}u_j&#x27;+u_i&#x27;\widetilde{u_j}+u_i&#x27;u_j&#x27; }= \widetilde{u_i}\widetilde{u_j}+\widetilde{u_i&#x27;u_j&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.002668em;vertical-align:-.286108em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.71656em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.286em"><svg width="100%" height="0.286em" viewbox="0 0 1033 286" preserveaspectratio="none"><path d="M344 55.266c-142 0-300.638 81.316-311.5 86.418-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751 181.476 676 181.476c-149 0-189-126.21-332-126.21z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.502972em;vertical-align:-.4129719999999999em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.09em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.69056em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.27686399999999994em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.6905600000000001em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="svg-align" style="top:-3.75em"><span class="pstrut" style="height:3em"></span><span style="height:.34em"><svg width="100%" height="0.34em" viewbox="0 0 2340 312" preserveaspectratio="none"><path d="M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409 -175.236-744-175.236z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.486664em;vertical-align:-.4129719999999999em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.073692em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.69056em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.6905600000000001em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.69056em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.27686399999999994em"><span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.6905600000000001em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.27686399999999994em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.733692em"><span class="pstrut" style="height:3em"></span><span style="height:.34em"><svg width="100%" height="0.34em" viewbox="0 0 2340 312" preserveaspectratio="none"><path d="M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409 -175.236-744-175.236z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.9766680000000001em;vertical-align:-.286108em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.69056em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.6905600000000001em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.432664em;vertical-align:-.4129719999999999em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.019692em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.27686399999999994em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.733692em"><span class="pstrut" style="height:3em"></span><span style="height:.286em"><svg width="100%" height="0.286em" viewbox="0 0 1033 286" preserveaspectratio="none"><path d="M344 55.266c-142 0-300.638 81.316-311.5 86.418-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751 181.476 676 181.476c-149 0-189-126.21-332-126.21z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span></span></span></span></span></p><p>于是得到：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>τ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo>−</mo><mover accent="true"><mi>ρ</mi><mo>ˉ</mo></mover><mover accent="true"><mrow><msubsup><mi>u</mi><mi>i</mi><mo mathvariant="normal">′</mo></msubsup><msubsup><mi>u</mi><mi>j</mi><mo mathvariant="normal">′</mo></msubsup></mrow><mo stretchy="true">~</mo></mover><mo>=</mo><mo>−</mo><mover accent="true"><mi>ρ</mi><mo>ˉ</mo></mover><mo stretchy="false">(</mo><mover accent="true"><mrow><msub><mi>u</mi><mi>i</mi></msub><msub><mi>u</mi><mi>j</mi></msub></mrow><mo stretchy="true">~</mo></mover><mo>−</mo><mover accent="true"><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="true">~</mo></mover><mover accent="true"><msub><mi>u</mi><mi>j</mi></msub><mo stretchy="true">~</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><msub><mi>τ</mi><mrow><mi>s</mi><mi>g</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tau_{ij}=-\bar\rho\widetilde{u_i&#x27;u_j&#x27;}=-\bar\rho(\widetilde{u_iu_j}-\widetilde{u_i}\widetilde{u_j})=-\tau_{sgs}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.432664em;vertical-align:-.4129719999999999em"></span><span class="mord">−</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.56778em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault">ρ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.16666em">ˉ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.19444em"><span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.019692em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.27686399999999994em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.733692em"><span style="top:-2.4231360000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span><span style="top:-3.0448000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.733692em"><span class="pstrut" style="height:3em"></span><span style="height:.286em"><svg width="100%" height="0.286em" viewbox="0 0 1033 286" preserveaspectratio="none"><path d="M344 55.266c-142 0-300.638 81.316-311.5 86.418-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751 181.476 676 181.476c-149 0-189-126.21-332-126.21z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4129719999999999em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord">−</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.56778em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault">ρ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.16666em">ˉ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.19444em"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.71656em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.286em"><svg width="100%" height="0.286em" viewbox="0 0 1033 286" preserveaspectratio="none"><path d="M344 55.266c-142 0-300.638 81.316-311.5 86.418-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751 181.476 676 181.476c-149 0-189-126.21-332-126.21z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.69056em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.6905600000000001em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.43056em"><span class="pstrut" style="height:3em"></span><span style="height:.26em"><svg width="100%" height="0.26em" viewbox="0 0 600 260" preserveaspectratio="none"><path d="M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8694379999999999em;vertical-align:-.286108em"></span><span class="mord">−</span><span class="mord"><span class="mord mathdefault" style="margin-right:.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.1132em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight" style="margin-right:.03588em">g</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span></span></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;RANS&amp;amp;LES&lt;/p&gt;
    
    </summary>
    
    
      <category term="TurbulenceModels" scheme="https://openfoam.top/categories/TurbulenceModels/"/>
    
    
      <category term="RANS" scheme="https://openfoam.top/tags/RANS/"/>
    
      <category term="LES" scheme="https://openfoam.top/tags/LES/"/>
    
  </entry>
  
  <entry>
    <title>debug with qtcreator</title>
    <link href="https://openfoam.top/qtcreator/"/>
    <id>https://openfoam.top/qtcreator/</id>
    <published>2018-03-04T23:00:00.000Z</published>
    <updated>2018-05-20T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>debug OpenFOAM with qtcreator</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><ol><li>install qtcreator(in ubuntu: sudo apt-get install qtcreator)</li><li>compile OpenFOAM in debug mode (take OF-4.1 as an example)<ul><li>add a new alias in your <code>.bashrc</code>:</li></ul></li></ol><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alias of41Debug&#x3D;&#39;source \$HOME&#x2F;OpenFOAM&#x2F;OpenFOAM-4.1&#x2F;etc&#x2F;bashrc WM_COMPILE_OPTION&#x3D;Debug&#39;</span><br></pre></td></tr></table></figure><pre><code>- exec `of41Debug` in the terminal, and using `Allwmake` to compile.</code></pre><ol><li>configure qtcreator<ul><li>New Project, Import Project, Imort Existing Project<br><img src="//wx4.sinaimg.cn/large/a2a8de49ly1frok2y4zgcj20ot0giaau.jpg" alt="image"></li><li>For example: sprayFoam. You can also import <code>\src\thermophysicalModels</code>, or <code>\src\thermophysicalModels\basic</code>.<br><img src="//wx4.sinaimg.cn/large/a2a8de49ly1frok2ys2qtj20e70350ss.jpg" alt="image"></li><li>add two filters, <code>*.C</code> and <code>*.H</code>.<br><img src="//wx1.sinaimg.cn/large/a2a8de49ly1frok2zpq0vj20hh0geq3f.jpg" alt="image"></li><li>configure Projects: delete <code>make all</code> and add a new <code>Custom Process Step</code> following below pictures.<br>PS: only <code>solvers</code> need this step. <code>lib</code> can skip this.<br><img src="//wx2.sinaimg.cn/large/a2a8de49ly1frok32gpkjj20e30avwfi.jpg" alt="image"><br><img src="//wx3.sinaimg.cn/large/a2a8de49ly1frok33epybj20a906aq33.jpg" alt="image"><br><img src="//wx3.sinaimg.cn/large/a2a8de49ly1frok348893j20eq0bfwf5.jpg" alt="image"></li></ul></li><li>enjoy debugging! Switch to solver if you open more than one projects. Ant click the debug button!<br>simple notes: F5–&gt; next break point; F10–&gt;next statement.<br><img src="//wx4.sinaimg.cn/large/a2a8de49ly1frok3543otj202005ogli.jpg" alt="image"></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;debug OpenFOAM with qtcreator&lt;/p&gt;
    
    </summary>
    
    
      <category term="OpenFOAM" scheme="https://openfoam.top/categories/OpenFOAM/"/>
    
    
      <category term="debug" scheme="https://openfoam.top/tags/debug/"/>
    
      <category term="qtcreator" scheme="https://openfoam.top/tags/qtcreator/"/>
    
  </entry>
  
  <entry>
    <title>thermophysicalModels LIB in OpenFOAM</title>
    <link href="https://openfoam.top/thermodynamicLIB/"/>
    <id>https://openfoam.top/thermodynamicLIB/</id>
    <published>2018-03-02T23:00:00.000Z</published>
    <updated>2018-05-06T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>This post analyze classes about species, mixture and thermo in thermophysicalModels LIB.</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><h1 id="uml-类图"><a class="markdownIt-Anchor" href="#uml-类图"></a> UML 类图</h1><p>下图是热物理库部分类的 <a href="https://baike.baidu.com/item/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80/3160571?fr=aladdin&amp;fromid=446747&amp;fromtitle=UML" target="_blank" rel="external nofollow noopener noreferrer">UML 类图</a> 。欲获取更佳阅读体验，可以右键在新标签页打开该图。</p><img src="http://www.plantuml.com/plantuml/svg/hHfPRnj5-Ds_OjHAbbFSghpQ8L8QagPIBpKMLGKecgp7sOMzs5qxX12fegW7L9GN1ArQ2QGY8gHI97Xe2nL_9axR9_u2S-tkpExCxevD7rBFVCTyrtp7s2tBXN4CuX1P3W9xBO3_RMw2ov4pWGa2GvX0lARR9tU2Q0Xyw26-ZYtemWXSavTUu5v5phQTRARCBY1l2qLWDFQjn0dyE6NubeKN2I1isvHlPm7GBGRb_AugTwyfTwzak_kj5jTfyVEJms37Fmb258sGbPo5SGziK5YBAPy35jd-qbwjwFp0o0uwONUWacLT1rW9TP2D4Y2C7JsR2oiJ4OXLpZN9rVu8-d0qi57a1Jsm-iaO4aKkZJOIx5zk005biO2nL1qIN9Q16-niTi70ndud_rk1vmK-nx42D1ejHn7S1GI-4gwGZRWCnKnaO0C7a9ELeK1bKKEOT3ACXM8kJ5kIjGvNaBnZvl9rg8N4MeZLgOiUiWzQ--HFAqP-x6ovQDLFREY6ktbei1iIzte9zJteWS5kYCe4fqw98KBGs0V2dkUF0iaYmsXoaN2KEHR8SajdOIz2oJZomJ7xM7-_OCP9Xwd7sBS14xmhABu7E3a3dQAc1uE5Fi3MA70xiqiu0XrBm7b-uETStoxpMLyrOy45e_vL2ZRGShG9pzDwdWFCrEu2mlSqOKmZW0Q1wByg_zCFBR4eP63kqouDagKzBhIG6RYFrue-ph84w8oe0jqEuzZhdLXR41R3jU50NBkEvoGBOgmto0WqAG9DojJ3jg7dmGfA5YiwEFQO3hGQwq7w0yzg8LQe1TbwVhPU2bkTJYe8a5uulOcGdY7IoxsjXP1RiavYVN0QgE5nPptkLi1XDJrst6eb71RX8Fl7BbxQW-GtBBzwOxBZGdyuYA0VXq6K56zV6QEKLQjgyd9CAd7pIkgDjQR-68QXtaKutzlGbi3xMFKj63lM1UTJd9-49epjZjt4MGcyCF2Hdt0ShhOUGT0wI72NWuQItiUvhGSGrw4qTt7GUITE5hU2m5q246i_uHtiySj9H46JmDsWogmvo1qkfIrjVUygdjbEL_9r8iUITG8TF-w8BIz3luYBNfc0YTbnuHPoEQAZQ49onTefYOGr2PmXBix9iegTZ7BEXteaZQ7Qf0yNvQd2a-KIuGJCwDdPZiIp3hS9tvB1cnoWyP9qnzCuLmLi8UhPRA68TWcGHVdXNpyVFllww8UdhruyVNt_mVJMowFlViylBNCF1bCp_FlttH3NLxm4x5PoSpXHCeOko4OfEPB0E-2q4X4tJHnJRAsqs1CJR9nsJR1Z8sohgOOR9cnNZOGuQuAyR8ACKxG1DilQ1WGyaOiKrGHa-bNpBrqGASRpY-4fAu5obqmXYfgODQrqT66tIac_cAFL5D0qYGa4QMf_5-DnB6-Sq4gJOm6FdLIBy5xWrXUOr__SVtFhxlIt1uVFxno-kFdwpuCtj-vDRz_4MM3wrOz7ZsvCd_ynVNHBJ6JvIMrW8TVbcalvakohAeb86yB4ijUWXLGCAD3fYbiZZ5h7avoBzKuvud3fpYnM1Hy3wHHkRej-JYjMEe-A8P0EfhHuHWWEkOc63lKYZ7RR2tsT7jieEH_W6yJs9EFAsKjryliSvSF-FcsplEhAWsN34ldRwTKgh0qkLO5IkawWkY5bubCXOuVOH-hHXFrDFWXpOpYVeQ8JKgTTeT84lYZ6Kg_7I5BlI3rQyVZKryA-nkEYWFrzkSK7BQdjn7OlsnoEam3BhGPoXTJ0ahiebfHBUu1_45mb8ImAy3pnPNcbd9qFdprvzU3BeplNZnxUAVOUNEVMkKjvf1VQ76c84NRsWFXYeEpWf_U-8DdjzlUlVpfWKf2cncQ5AG5lRhma3Gxtgj2nCMgnQSFuCUtPEETYYnSgzy50lKtFvw2D7GTd630CXmqUkDDwMJe-xPfJ17KZ6XQQvahaWHfPXPQ5S0EsLFSgEU8oDal2qbCa9HHiLxngr9xz_Jn4gjlVN3kSVwqWYd0qOPQbHYNnmj9mHxeMRIj42E8YjgnFYQPeCXkfH56RrqRLiXI5fsylW-RYswKIIR8DAyUnCPiQGoW5jWoCJTvqs1ldt18Bh6QGUYKqa9gzxizqpCJacCcinx2tpUOdfM-Xi-aK6YaLJcO_YBt9cXoMlkBETE1LiwlAvg_cql5NDdEvAE7gQDHHfXX30GWVLczdCH6bp5aqFxj0M3vRg5XP5o9q5taJCdB7pZ1jGd3d5g6OVZMLDRSNWY5kBcad9U7IXaNO4HkMsWglCeO_LjVDal8OiJp3vELpzf9unGxKGG6m2HA8mOqB5VacsYWKlB51x7jL5Y3agSi5_mZVxCUEvCHitQ3dBBHwc7IphuHuuys-m4w8FTQgYawPFZmuUlAOzTW4kTXgrRGb3LgIYdX99HHCrK32kOAeRnX19j4pJ-G8irghbKM553Zf85aC87c_zbKsIqwfeEMv2hSmqgY9mxelaJ2PwmcpMz6Nig7cYSr6sTVsugHOKb59SQOqqQN0HG7K1TACQNhdR2JThFfSYqyXFnKGJ-trnE-Rw3kBPBHqpZYHs4wSlTv8Xf-5hJp4A9dJNpQmh_yk2hznIccamvBiCGD_ndyP0UUeIZhJnx-ykN4mlNspucxN3okfBCGH-sPJImLfxVZoFumknYpa164olZIPDr23sSM03m06agj6aZaKNmaRAix7adcEcZIl2z8eqtYCcTsCyoiN6cXN66aCnfav9BpQN3vff6aqpimXLwEnnd2acKCSzMXZEDRepoTFNwsiyWgr-7AXkHLsM0tEbXLbkEO7MgpTWwurTZ4UVvnKrPkZXzUdttvp-EpwuRDV3KgEz4YNzop_0G00"><h1 id="求解器中创建对象"><a class="markdownIt-Anchor" href="#求解器中创建对象"></a> 求解器中创建对象</h1><p><code>solver</code> 中的 <code>creatFields.H</code> 中：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">autoPtr&lt;psiReactionThermo&gt; pThermo(psiReactionThermo::New(mesh));</span><br><span class="line">psiReactionThermo&amp; thermo &#x3D; pThermo();</span><br></pre></td></tr></table></figure><p>创建 <code>thermo</code>，在 <code>reactingFoam</code> 自带算例中，创建的是 <code>hePsiThermo</code> 的对象，但是这里 thermo 是基类 <code>psiReactionThermo</code> 的引用，即只能使用 <code>psiReactionThermo</code> 这一继承链的方法。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">basicSpecieMixture&amp; composition &#x3D; thermo.composition();</span><br></pre></td></tr></table></figure><p>创建composition，是指系统中的混合物。可以调用继承链中 <code>mixture</code> 这一分支的方法。</p><p>燃烧类的求解器中，一般都没有对单个组分进行操作，这些操作都在热物理库里边进行。</p><p><code>multiComponentMixture</code> 类中的私有数据 <code>speciesData_</code> 的类型是 <code>PtrList&lt;sutherlandTransport&lt;species::thermo&lt;janafThermo&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt;&gt;</code>，它是组分的 <code>list</code>，可以用它获取组分的所有信息。solver 中可以通过 <code>multiComponentMixture</code> （<code>solver</code> 中<code>composition</code> 的类型是 <code>basicSpecieMixture</code>，需要强制转换成 <code>multiComponentMixture</code> 才行 ） 的 <code>speciesData()</code> 或者 <code>getLocalThermo(speciei)</code> 这两个函数来调用。如：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dynamic_cast&lt;const multiComponentMixture&lt;gasHThermoPhysics&gt;&amp;&gt;(composition).speciesData()[speciei].rho(p,T)</span><br></pre></td></tr></table></figure><p>也可以通过 <code>multiComponentMixture</code> 的派生类 <code>reactingMixture</code> 来调用。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dynamic_cast&lt;const reactingMixture&lt;gasHThermoPhysics&gt;&amp;&gt;(composition).speciesData()[speciei].rho(p,T)</span><br></pre></td></tr></table></figure><p>也可以通过派生类的派生类 <code>SpecieMixture</code> 来调用。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dynamic_cast&lt;const SpecieMixture&lt;reactingMixture&lt;gasHThermoPhysics&gt;&gt;&amp;&gt;(composition).speciesData()[speciei].rho(p,T)</span><br></pre></td></tr></table></figure><p>上述操作说明可以使用组分列表调用单个组分的函数（即 <code>sutherlandTransport&lt;species::thermo&lt;janafThermo&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt;</code> 继承链中的任何函数），如 <code>speciesData_[i].rho(p, T)</code>，这里的 <code>rho(p,T)</code> 来自于 <code>perfectGas</code> 类。</p><p>也可以在求解器中重新构造组分列表：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">autoPtr&lt;psiReactionThermo&gt; <span class="title">pThermo</span><span class="params">(psiReactionThermo::New(mesh))</span></span>;</span><br><span class="line">psiReactionThermo&amp; thermo = pThermo();</span><br><span class="line"></span><br><span class="line">basicSpecieMixture&amp; composition = thermo.composition();</span><br><span class="line">PtrList&lt;volScalarField&gt;&amp; Y = composition.Y();</span><br><span class="line"></span><br><span class="line"><span class="function">PtrList&lt;gasHThermoPhysics&gt; <span class="title">specieData</span><span class="params">(Y.<span class="built_in">size</span>())</span></span>;</span><br><span class="line">forAll(specieData, i)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//对于每个组分，通过 thermo 调用 Lib 中的 speciesData_ 来构造 solver 中的 specieData</span></span><br><span class="line">    specieData.<span class="built_in">set</span></span><br><span class="line">    (</span><br><span class="line">        i,</span><br><span class="line">        <span class="keyword">new</span> gasHThermoPhysics</span><br><span class="line">        (</span><br><span class="line">            <span class="keyword">dynamic_cast</span>&lt;<span class="keyword">const</span> reactingMixture&lt;gasHThermoPhysics&gt;&amp;&gt;</span><br><span class="line">                (thermo).speciesData()[i]</span><br><span class="line">        )</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 每个网格构造一个 mixture,这个 mixture 相当于 multiComponentMixture 中的私有数据 mixture_。</span></span><br><span class="line"><span class="comment">// 它是混合物等效成的一个组分，和单个组分同一类型，即 `gasHThermoPhysics`。</span></span><br><span class="line">forAll(T, celli)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">gasHThermoPhysics <span class="title">mixture</span><span class="params">(<span class="number">0.</span>*specieData[<span class="number">0</span>])</span></span>;</span><br><span class="line">    forAll(Y, speciei)</span><br><span class="line">    &#123;</span><br><span class="line">        mixture += Y[speciei][celli]*specieData[speciei];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>gasHThermoPhysics</code> 是 <code>sutherlandTransport&lt;species::thermo&lt;janafThermo&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt;</code> 的别名，它是单个组分的类型。<br>事实上，<code>multiComponentMixture</code> 类中的函数 <code>cellMixture</code> 函数可以用于获取 <code>mixture_</code>。</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ThermoType</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">const</span> <span class="title">ThermoType</span>&amp; <span class="title">Foam</span>:</span>:multiComponentMixture&lt;ThermoType&gt;::cellMixture</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> label celli</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    mixture_ = Y_[<span class="number">0</span>][celli]*speciesData_[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (label n=<span class="number">1</span>; n&lt;Y_.<span class="built_in">size</span>(); n++)</span><br><span class="line">    &#123;</span><br><span class="line">        mixture_ += Y_[n][celli]*speciesData_[n];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> mixture_;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用方法参考 <code>hePsiThermo.C</code>:</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> scalarField&amp; hCells = <span class="keyword">this</span>-&gt;he_;</span><br><span class="line"><span class="keyword">const</span> scalarField&amp; pCells = <span class="keyword">this</span>-&gt;p_;</span><br><span class="line"></span><br><span class="line">scalarField&amp; TCells = <span class="keyword">this</span>-&gt;T_.primitiveFieldRef();</span><br><span class="line">scalarField&amp; psiCells = <span class="keyword">this</span>-&gt;psi_.primitiveFieldRef();</span><br><span class="line">scalarField&amp; muCells = <span class="keyword">this</span>-&gt;mu_.primitiveFieldRef();</span><br><span class="line">scalarField&amp; alphaCells = <span class="keyword">this</span>-&gt;alpha_.primitiveFieldRef();</span><br><span class="line"></span><br><span class="line">forAll(TCells, celli)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">typename</span> MixtureType::thermoType&amp; mixture_ =</span><br><span class="line">        <span class="keyword">this</span>-&gt;cellMixture(celli);</span><br><span class="line"></span><br><span class="line">    TCells[celli] = mixture_.THE</span><br><span class="line">    (</span><br><span class="line">        hCells[celli],</span><br><span class="line">        pCells[celli],</span><br><span class="line">        TCells[celli]</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    psiCells[celli] = mixture_.psi(pCells[celli], TCells[celli]);</span><br><span class="line"></span><br><span class="line">    muCells[celli] = mixture_.mu(pCells[celli], TCells[celli]);</span><br><span class="line">    alphaCells[celli] = mixture_.alphah(pCells[celli], TCells[celli]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="rts-选择热物理模型"><a class="markdownIt-Anchor" href="#rts-选择热物理模型"></a> RTS 选择热物理模型</h1><h2 id="从字典文件中的设置到最终的对象构建"><a class="markdownIt-Anchor" href="#从字典文件中的设置到最终的对象构建"></a> 从字典文件中的设置到最终的对象构建</h2><p>下面介绍我们是如何从 <code>thermophysicalProperties</code> 字典文件中的下列设置构建对象的：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">thermoType</span><br><span class="line">&#123;</span><br><span class="line">    type            hePsiThermo;</span><br><span class="line">    mixture         reactingMixture;</span><br><span class="line">    transport       sutherland;</span><br><span class="line">    thermo          janaf;</span><br><span class="line">    energy          sensibleEnthalpy;</span><br><span class="line">    equationOfState perfectGas;</span><br><span class="line">    specie          specie;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>首先需要一个函数读取这些信息：</p><p><a href="https://cpp.openfoam.org/v3/a09872_source.html" target="_blank" rel="external nofollow noopener noreferrer">basicThermoTemplates.C</a> 中的 <code>lookupThermo</code> 函数：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">template&lt;class Thermo, class Table&gt;</span><br><span class="line">typename Table::iterator Foam::basicThermo::lookupThermo</span><br><span class="line">(</span><br><span class="line">    const dictionary&amp; thermoDict,</span><br><span class="line">    Table* tablePtr    &#x2F;&#x2F;即 fvMeshConstructorTablePtr_</span><br><span class="line">)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F; Construct the name of the thermo package from the components</span><br><span class="line">    const word thermoTypeName</span><br><span class="line">    (</span><br><span class="line">    word(thermoTypeDict.lookup(&quot;type&quot;)) + &#39;&lt;&#39;</span><br><span class="line">    + word(thermoTypeDict.lookup(&quot;mixture&quot;)) + &#39;&lt;&#39;</span><br><span class="line">    + word(thermoTypeDict.lookup(&quot;transport&quot;)) + &#39;&lt;&#39;</span><br><span class="line">    + word(thermoTypeDict.lookup(&quot;thermo&quot;)) + &#39;&lt;&#39;</span><br><span class="line">    + word(thermoTypeDict.lookup(&quot;equationOfState&quot;)) + &#39;&lt;&#39;</span><br><span class="line">    + word(thermoTypeDict.lookup(&quot;specie&quot;)) + &quot;&gt;&gt;,&quot;</span><br><span class="line">    + word(thermoTypeDict.lookup(&quot;energy&quot;)) + &quot;&gt;&gt;&gt;&quot;</span><br><span class="line">    );</span><br><span class="line">    &#x2F;&#x2F;通过字典文件读入的数据，构造 thermoTypeName: &#x2F;&#x2F;hePsiThermo&lt;reactingMixture&lt;sutherland&lt;janaf&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line">    return lookupThermo&lt;Thermo, Table&gt;</span><br><span class="line">    (</span><br><span class="line">    thermoTypeDict,</span><br><span class="line">    tablePtr,</span><br><span class="line">    nCmpt,</span><br><span class="line">    cmptNames,</span><br><span class="line">    thermoTypeName</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后返回值是调用 5 个参数的 <code>lookupThermo</code> 函数：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">template&lt;class Thermo, class Table&gt;</span><br><span class="line">typename Table::iterator Foam::basicThermo::lookupThermo</span><br><span class="line">(</span><br><span class="line">    const dictionary&amp; thermoTypeDict,</span><br><span class="line">    Table* tablePtr,</span><br><span class="line">    const int nCmpt,</span><br><span class="line">    const char* cmptNames[],</span><br><span class="line">    const word&amp; thermoTypeName</span><br><span class="line">)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F; Lookup the thermo package</span><br><span class="line">    typename Table::iterator cstrIter &#x3D; tablePtr-&gt;find(thermoTypeName);</span><br><span class="line">    return cstrIter;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;上述步骤是根据字典文件在备选库中选择我们需要的组合，那么备选库是怎么形成的呢？</span><br></pre></td></tr></table></figure><p>第一个 <code>lookupThermo</code> 函数的作用是，将<code>thermophysicalProperties</code> 字典文件中的设置翻译成：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hePsiThermo&lt;reactingMixture&lt;sutherland&lt;janaf&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><p>但该字符串并不是最终的 <code>class</code>，比如 <code>janaf</code>，实际上类名是 <code>janafThermo</code>。</p><p>第二个 <code>lookupThermo</code> 函数的作用就是，根据该字符串，在 <code>RTS</code> 库中找到我们选择的类。</p><p>找到之后，在下面这个 <code>New</code> 函数中新建对象：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">Thermo</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Foam</span>:</span>:autoPtr&lt;Thermo&gt; Foam::basicThermo::New(<span class="keyword">const</span> fvMesh&amp; mesh,<span class="keyword">const</span> <span class="keyword">word</span>&amp; phaseName)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">typename</span> Thermo::fvMeshConstructorTable::iterator cstrIter =</span><br><span class="line">        lookupThermo&lt;Thermo, <span class="keyword">typename</span> Thermo::fvMeshConstructorTable&gt;</span><br><span class="line">        (</span><br><span class="line">            thermoDict,</span><br><span class="line">            Thermo::fvMeshConstructorTablePtr_   </span><br><span class="line">        );</span><br><span class="line"><span class="comment">//fvMeshConstructorTablePtr_ </span></span><br><span class="line"><span class="comment">//这个是在 runTimeSelectionTables.H 的 declareRunTimeSelectionTable 函数中定义的。    </span></span><br><span class="line">    <span class="keyword">return</span> autoPtr&lt;Thermo&gt;(cstrIter()(mesh, phaseName));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>那么上面提到的字符串，怎么和 <code>RTS</code> 库中的组合匹配的呢？下面来看 <code>RTS</code> 库的生成过程。</p><p>按照<a href="http://xiaopingqiu.github.io/2016/03/12/RTS1/" target="_blank" rel="external nofollow noopener noreferrer">Giskard的博客</a>提到的 <code>RTS</code> 流程：</p><blockquote><ol><li>基类类体里调用 <code>TypeName</code> 和 <code>declareRunTimeSelectionTable</code> 两个函数，类体外面调用 <code>defineTypeNameAndDebug</code> ， <code>defineRunTimeSelectionTable</code> 和 <code>addToRunTimeSelectionTable</code> 三个函数；</li><li>基类中需要一个静态 <code>New</code> 函数作为 <code>selector</code>。</li><li>派生类类体中需要调用 <code>TypeName</code> 函数，类体外调用 <code>defineRunTimeSelectionTable</code> 和 <code>addToRunTimeSelectionTable</code> 两个宏函数。</li></ol></blockquote><p><code>makeReactionThermo.H</code> 中有两个个重要函数：<code>defineThermoPhysicsReactionThermo</code> 和 <code>makeThermoPhysicsReactionThermos</code>。</p><p>下面一一介绍：</p><h2 id="definethermophysicsreactionthermo"><a class="markdownIt-Anchor" href="#definethermophysicsreactionthermo"></a> defineThermoPhysicsReactionThermo</h2><p>其中的 <code>defineThermoPhysicsReactionThermo</code>, 这个函数通过一组形参列表得到 <code>CThermo##Mixture##ThermoPhys</code>，然后再转换成一串简化的字符串，用于 <code>RTS</code> 查询。这里的形参列表就是实例化所需要提供的各种类。<code>(BaseReactionThermo,CThermo,Mixture,ThermoPhys)</code>对应<code>(psiReactionThermo,hePsiThermo,reactingMixture,sutherlandTransport)</code>。</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> defineThermoPhysicsReactionThermo(BaseReactionThermo,CThermo,Mixture,ThermoPhys) \</span></span><br><span class="line">    <span class="keyword">typedef</span> CThermo<span class="comment">//hePsiThermo                                                         \</span></span><br><span class="line">    &lt;                                                                                    \</span><br><span class="line">        BaseReactionThermo,<span class="comment">//psiReactionThermo                                           \</span></span><br><span class="line">        SpecieMixture                                                                    \</span><br><span class="line">        &lt;                                                                                \</span><br><span class="line">            Mixture<span class="comment">//reactingMixture                                                     \</span></span><br><span class="line">            &lt;                                                                            \</span><br><span class="line">                ThermoPhys<span class="comment">//sutherlandTransport                                          \</span></span><br><span class="line">            &gt;                                                                            \</span><br><span class="line">        &gt;                                                                                \</span><br><span class="line">    &gt; CThermo##Mixture##ThermoPhys;                                                      \</span><br><span class="line">                                                                                         \</span><br><span class="line">    defineTemplateTypeNameAndDebugWithName                                               \</span><br><span class="line">    (                                                                                    \</span><br><span class="line">        CThermo##Mixture##ThermoPhys,                                                    \</span><br><span class="line">        (#CThermo<span class="string">"&lt;"</span> + Mixture&lt;ThermoPhys&gt;::typeName() + <span class="string">"&gt;"</span>).c_str(),                   \</span><br><span class="line">        <span class="number">0</span>                                                                                \</span><br><span class="line">    )</span><br><span class="line"><span class="comment">//作用：把尖括号表示的类变成字符串 CThermo##Mixture##ThermoPhys，然后再变成简化的尖括号。</span></span><br></pre></td></tr></table></figure><p>如：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">hePsiThermo</span><br><span class="line">&lt;</span><br><span class="line">psiReactionThermo,</span><br><span class="line">    SpecieMixture</span><br><span class="line">    &lt;</span><br><span class="line">        reactingMixture</span><br><span class="line">        &lt;</span><br><span class="line">            sutherlandTransport</span><br><span class="line">            &lt;</span><br><span class="line">                species::thermo</span><br><span class="line">                &lt;</span><br><span class="line">                    janafThermo&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy</span><br><span class="line">                &gt;</span><br><span class="line">            &gt;</span><br><span class="line">        &gt;</span><br><span class="line">    &gt;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure><p>变成 <code>RTS</code> 库中保存的字符串：<br><code>hePsiThermo&lt;reactingMixture&lt;sutherland&lt;janaf&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt;&gt;</code><br>隐藏了一些信息，如 <code>psiReactionThermo</code>和 <code>SpecieMixture</code> 。</p><p>具体过程：<br><code>typeName()</code> 依次调用 <code>reactingMixture</code>，<code>sutherlandTransport</code>, <code>species::thermo</code>, <code>janafThermo</code>, <code>sensibleEnthalpy</code>, <code>perfectGas</code>, <code>specie</code> 的 <code>typeName()</code>。返回值依次是：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;reactingMixture&lt;&quot; + ThermoType::typeName() + &#39;&gt;&#39;</span><br><span class="line">sutherland&lt;&quot; + Thermo::typeName() + &#39;&gt;&#39;</span><br><span class="line">Thermo::typeName() + &#39;,&#39; + Type&lt;thermo&lt;Thermo, Type&gt;&gt;::typeName()</span><br><span class="line">&quot;janaf&lt;&quot; + EquationOfState::typeName() + &#39;&gt;&#39;</span><br><span class="line">&quot;sensibleEnthalpy&quot;</span><br><span class="line">&quot;perfectGas&lt;&quot; + word(Specie::typeName_()) + &#39;&gt;&#39;</span><br></pre></td></tr></table></figure><p>最底层的 <code>specie</code> 类只有一个 <code>ClassName(&quot;specie&quot;)</code>;<br>我们找到一个文件<code>className.H</code> 中：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ClassName(TypeNameString)                             \</span></span><br><span class="line">ClassNameNoDebug(TypeNameString);                         \</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> debug</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ClassNameNoDebug(TypeNameString)                      \</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">char</span>* <span class="title">typeName_</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> TypeNameString; &#125; \</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> ::Foam::<span class="keyword">word</span> typeName</span><br></pre></td></tr></table></figure><h2 id="makethermophysicsreactionthermos"><a class="markdownIt-Anchor" href="#makethermophysicsreactionthermos"></a> makeThermoPhysicsReactionThermos</h2><p>调用了上边的 <code>defineThermoPhysicsReactionThermo</code> 用于创建 <code>RTS</code> 中的 <code>typeName</code>，调用了 <code>addThermoPhysicsThermo</code>（位于 <code>makeThermo.H</code>）, 用于写入到 <code>RTS</code> 库。</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> makeThermoPhysicsReactionThermos(BaseThermo,BaseReactionThermo,CThermo,Mixture,ThermoPhys)  \                                                                          </span></span><br><span class="line">    defineThermoPhysicsReactionThermo(BaseReactionThermo,CThermo,Mixture,ThermoPhys);               \                                                                      </span><br><span class="line">                                                                                                    \</span><br><span class="line">    addThermoPhysicsThermo(basicThermo, CThermo##Mixture##ThermoPhys);                              \</span><br><span class="line">    addThermoPhysicsThermo(fluidThermo, CThermo##Mixture##ThermoPhys);                              \</span><br><span class="line">    addThermoPhysicsThermo(BaseThermo, CThermo##Mixture##ThermoPhys);                               \</span><br><span class="line">    addThermoPhysicsThermo(BaseReactionThermo, CThermo##Mixture##ThermoPhys)</span><br></pre></td></tr></table></figure><p>函数的形参：<code>(BaseThermo,BaseReactionThermo,CThermo,Mixture,ThermoPhys)</code>，这是实例化需要提供的所有信息，比如其中的一种组合：<code>(psiThermo,psiReactionThermo,hePsiThermo,reactingMixture,gasHThermoPhysics)</code>（所有可能的组合在 <code>psiReactionThermos.C</code> 文件中列出）。</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> addThermoPhysicsThermo(BaseThermo,CThermoMixtureThermoPhys) <span class="comment">//定义于makeThermo.H  </span></span></span><br><span class="line">    addToRunTimeSelectionTable                                                       \</span><br><span class="line">    (                                                                                \</span><br><span class="line">        BaseThermo,                                                                  \</span><br><span class="line">        CThermoMixtureThermoPhys,                                                    \</span><br><span class="line">        fvMesh                                                                       \</span><br><span class="line">    );</span><br></pre></td></tr></table></figure><p>这里到底往 <code>RTS Table</code> 里 <code>add</code> 了什么？<br><code>BaseThermo</code> 是 <code>psiThermo</code>，<code>CThermoMixtureThermoPhys</code> 是<code>hePsiThermo##reactingMixture##gasHThermoPhysics</code>。</p><p>那前边提到的保存在 <code>RTS</code> 中的简化的尖括号字符串是干嘛的？</p><p><code>hePsiThermo&lt;reactingMixture&lt;sutherland&lt;janaf&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt;&gt;</code></p><p>其实这两个的含义是一样的，因为</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">typedef</span><br><span class="line">sutherlandTransport</span><br><span class="line">&lt;</span><br><span class="line">    species::thermo</span><br><span class="line">    &lt;</span><br><span class="line">        janafThermo</span><br><span class="line">        &lt;</span><br><span class="line">            perfectGas&lt;specie&gt;</span><br><span class="line">        &gt;,</span><br><span class="line">        sensibleEnthalpy</span><br><span class="line">    &gt;</span><br><span class="line">&gt; gasHThermoPhysics;</span><br></pre></td></tr></table></figure><p>即 <code>typedef sutherlandTransport&lt;species::thermo&lt;janafThermo&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt; gasHThermoPhysics;</code>。</p><p>但是此二者在 <code>RTS</code> 里边有什么联系呢？</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;This post analyze classes about species, mixture and thermo in thermophysicalModels LIB.&lt;/p&gt;
    
    </summary>
    
    
      <category term="OpenFOAM" scheme="https://openfoam.top/categories/OpenFOAM/"/>
    
      <category term="code analysis" scheme="https://openfoam.top/categories/OpenFOAM/code-analysis/"/>
    
    
      <category term="thermophysicalModels" scheme="https://openfoam.top/tags/thermophysicalModels/"/>
    
  </entry>
  
  <entry>
    <title>How to get temperature from enthalpy in OpenFOAM?</title>
    <link href="https://openfoam.top/T_calculate/"/>
    <id>https://openfoam.top/T_calculate/</id>
    <published>2018-02-04T23:00:00.000Z</published>
    <updated>2018-03-20T22:16:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>How to get temperature from enthalpy in OpenFOAM?</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><p>在 solver 中，求解完 h（单位是 J/Kg）的方程之后，调用 <code>thermo.correct();</code> 该函数位于 <a href="https://cpp.openfoam.org/v3/a09892_source.html" target="_blank" rel="external nofollow noopener noreferrer">/basic/psiThermo/hePsiThermo.C</a>的 <code>correct()</code> 函数中，调用了 <code>calculate()</code>，<code>calculate()</code> 大致内容如下：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> scalarField&amp; hCells = <span class="keyword">this</span>-&gt;he_;</span><br><span class="line"><span class="keyword">const</span> scalarField&amp; pCells = <span class="keyword">this</span>-&gt;p_;</span><br><span class="line">scalarField&amp; TCells = <span class="keyword">this</span>-&gt;T_.primitiveFieldRef();</span><br><span class="line"></span><br><span class="line">    TCells[celli] = mixture_.THE</span><br><span class="line">    (</span><br><span class="line">        hCells[celli],</span><br><span class="line">        pCells[celli],</span><br><span class="line">        TCells[celli]</span><br><span class="line">    );</span><br></pre></td></tr></table></figure><p><code>THE(h,p,T)</code> 函数在 <a href="https://cpp.openfoam.org/v3/a10302_source.html" target="_blank" rel="external nofollow noopener noreferrer">thermoI.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">inline</span> Foam::scalar Foam::species::thermo&lt;Thermo, Type&gt;::THE</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar he,</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T0</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> Type&lt;thermo&lt;Thermo, Type&gt;&gt;::THE(*<span class="keyword">this</span>, he, p, T0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>THE(*this, he, p, T0)</code> 函数在 <a href="https://cpp.openfoam.org/v3/a10298_source.html" target="_blank" rel="external nofollow noopener noreferrer">sensibleEnthalpy.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">scalar THE</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> Thermo&amp; thermo,</span><br><span class="line">    <span class="keyword">const</span> scalar h,</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T0</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> thermo.THs(h, p, T0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>THs(h, p, T0) 函数在 <a href="https://cpp.openfoam.org/v3/a10302_source.html" target="_blank" rel="external nofollow noopener noreferrer">thermoI.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">inline</span> Foam::scalar Foam::species::thermo&lt;Thermo, Type&gt;::THs</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar hs,</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T0</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> T</span><br><span class="line">    (</span><br><span class="line">        hs,</span><br><span class="line">        p,</span><br><span class="line">        T0,</span><br><span class="line">        &amp;thermo&lt;Thermo, Type&gt;::Hs,</span><br><span class="line">        &amp;thermo&lt;Thermo, Type&gt;::Cp,</span><br><span class="line">        &amp;thermo&lt;Thermo, Type&gt;::limit</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>T(···) 函数在 <a href="https://cpp.openfoam.org/v3/a10302_source.html" target="_blank" rel="external nofollow noopener noreferrer">thermoI.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">inline</span> Foam::scalar Foam::species::thermo&lt;Thermo, Type&gt;::T</span><br><span class="line">(</span><br><span class="line">    scalar f,</span><br><span class="line">    scalar p,</span><br><span class="line">    scalar T0,</span><br><span class="line">    scalar (thermo&lt;Thermo, Type&gt;::*F)(<span class="keyword">const</span> scalar, <span class="keyword">const</span> scalar) <span class="keyword">const</span>,</span><br><span class="line">    scalar (thermo&lt;Thermo, Type&gt;::*dFdT)(<span class="keyword">const</span> scalar, <span class="keyword">const</span> scalar) <span class="keyword">const</span>,</span><br><span class="line">    scalar (thermo&lt;Thermo, Type&gt;::*limit)(<span class="keyword">const</span> scalar) <span class="keyword">const</span></span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T0 &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FatalErrorInFunction</span><br><span class="line">            &lt;&lt; <span class="string">"Negative initial temperature T0: "</span> &lt;&lt; T0</span><br><span class="line">            &lt;&lt; <span class="built_in">abort</span>(FatalError);</span><br><span class="line">    &#125;</span><br><span class="line">    scalar Test = T0;</span><br><span class="line">    scalar Tnew = T0;</span><br><span class="line">    scalar Ttol = T0*tol_;</span><br><span class="line">    <span class="keyword">int</span>    iter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        Test = Tnew;</span><br><span class="line">        Tnew =</span><br><span class="line">            (<span class="keyword">this</span>-&gt;*limit)</span><br><span class="line">            (Test - ((<span class="keyword">this</span>-&gt;*F)(p, Test) - f)/(<span class="keyword">this</span>-&gt;*dFdT)(p, Test));</span><br><span class="line">        <span class="keyword">if</span> (iter++ &gt; maxIter_)</span><br><span class="line">        &#123;</span><br><span class="line">            FatalErrorInFunction</span><br><span class="line">                &lt;&lt; <span class="string">"Maximum number of iterations exceeded: "</span> &lt;&lt; maxIter_</span><br><span class="line">                &lt;&lt; <span class="built_in">abort</span>(FatalError);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (mag(Tnew - Test) &gt; Ttol);</span><br><span class="line">    <span class="keyword">return</span> Tnew;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上边的 F 是 Hs 函数（单位是 J/Kg），dFdT 是 Cp 函数，f 是输运方程求解得到的每个网格的 hs（单位是 J/Kg），Test 是 Told。</p><p>为了通过焓求温度，利用牛顿迭代法求解 Hs(p_old,T) - hs =0 ，令 f(x) = Hs(p_old,T) - hs，则：<br><code>T_new = T_old - [ Hs(p_old,T_old) - hs（输运方程得到的）]/Cp(p_old,T_old)</code></p><p>由 Ha 求 T 呢？也是<br><code>T_new = T_old - [ Ha(p_old,T_old) - ha（输运方程得到的）]/Cp(p_old,T_old)</code></p><p>上边用到了 Hs(p,T) 和 Cp(p,T) 函数，位于 <a href="https://cpp.openfoam.org/v3/a10297_source.html" target="_blank" rel="external nofollow noopener noreferrer">janafThermoI.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">inline</span> Foam::scalar Foam::janafThermo&lt;EquationOfState&gt;::Ha</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> coeffArray&amp; a = coeffs(T);</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">    (</span><br><span class="line">        ((((a[<span class="number">4</span>]/<span class="number">5.0</span>*T + a[<span class="number">3</span>]/<span class="number">4.0</span>)*T + a[<span class="number">2</span>]/<span class="number">3.0</span>)*T + a[<span class="number">1</span>]/<span class="number">2.0</span>)*T + a[<span class="number">0</span>])*T</span><br><span class="line">      + a[<span class="number">5</span>]</span><br><span class="line">    ) + EquationOfState::H(p, T);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Foam::scalar Foam::janafThermo&lt;EquationOfState&gt;::Hs</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> Ha(p, T) - Hc();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Foam::scalar Foam::janafThermo&lt;EquationOfState&gt;::Hc() <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> coeffArray&amp; a = lowCpCoeffs_;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">    (</span><br><span class="line">        (</span><br><span class="line">            (((a[<span class="number">4</span>]/<span class="number">5.0</span>*Tstd + a[<span class="number">3</span>]/<span class="number">4.0</span>)*Tstd + a[<span class="number">2</span>]/<span class="number">3.0</span>)*Tstd + a[<span class="number">1</span>]/<span class="number">2.0</span>)*Tstd</span><br><span class="line">          + a[<span class="number">0</span>]</span><br><span class="line">        )*Tstd + a[<span class="number">5</span>]</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Foam::scalar Foam::janafThermo&lt;EquationOfState&gt;::Cp</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> coeffArray&amp; a = coeffs(T);</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">        ((((a[<span class="number">4</span>]*T + a[<span class="number">3</span>])*T + a[<span class="number">2</span>])*T + a[<span class="number">1</span>])*T + a[<span class="number">0</span>])</span><br><span class="line">      + EquationOfState::Cp(p, T);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中 EquationOfState::Cp(p, T) 来自 <a href="https://cpp.openfoam.org/v3/a10228_source.html" target="_blank" rel="external nofollow noopener noreferrer">perfectGasI.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Foam::scalar Foam::perfectGas&lt;Specie&gt;::Cp(scalar p, scalar T) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上边 <a href="https://cpp.openfoam.org/v3/a10297_source.html" target="_blank" rel="external nofollow noopener noreferrer">janafThermoI.H</a> 还用到了机理 therm.dat 文件的系数，但是是经过转换的系数：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">inline</span> <span class="keyword">const</span> <span class="keyword">typename</span> Foam::janafThermo&lt;EquationOfState&gt;::coeffArray&amp;</span><br><span class="line">Foam::janafThermo&lt;EquationOfState&gt;::coeffs</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T &lt; Tcommon_)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> lowCpCoeffs_;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> highCpCoeffs_;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Convert coefficients to mass-basis</span></span><br><span class="line"><span class="keyword">for</span> (label coefLabel=<span class="number">0</span>; coefLabel&lt;nCoeffs_; coefLabel++)</span><br><span class="line">&#123;</span><br><span class="line">    highCpCoeffs_[coefLabel] *= <span class="keyword">this</span>-&gt;R();</span><br><span class="line">    lowCpCoeffs_[coefLabel] *= <span class="keyword">this</span>-&gt;R();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>意思就是，系数从 therm.dat 读取进来，先乘一个 R()， 再拿来使用的。</p><p>还有一个 HE 函数，忘了有什么用了。。。位于 <a href="https://cpp.openfoam.org/v3/a10298_source.html" target="_blank" rel="external nofollow noopener noreferrer">sensibleEnthalpy.H</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">scalar HE</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> Thermo&amp; thermo,</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> thermo.Hs(p, T);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>另外 <a href="https://cpp.openfoam.org/v3/a10302_source.html" target="_blank" rel="external nofollow noopener noreferrer">thermoI.H</a> 中：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">inline</span> Foam::scalar</span><br><span class="line">Foam::species::thermo&lt;Thermo, Type&gt;::HE(<span class="keyword">const</span> scalar p, <span class="keyword">const</span> scalar T) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> Type&lt;thermo&lt;Thermo, Type&gt;&gt;::HE(*<span class="keyword">this</span>, p, T);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">inline</span> Foam::scalar</span><br><span class="line">Foam::species::thermo&lt;Thermo, Type&gt;::he(<span class="keyword">const</span> scalar p, <span class="keyword">const</span> scalar T) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;HE(p, T)*<span class="keyword">this</span>-&gt;W();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可能是一般调用的是抽象出来的 <code>HE(p,T) 或 he(p,T)</code> 函数，最终实际调用的是 Hs(p, T) 或 Es 或 Ha 或 Ea（根据能量形式自动选择）。<br>小写单位是 [J/kmol]，大写单位是 [J/kg]。输运方程中求解的量也是 [J/kg]。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;How to get temperature from enthalpy in OpenFOAM?&lt;/p&gt;
    
    </summary>
    
    
      <category term="OpenFOAM" scheme="https://openfoam.top/categories/OpenFOAM/"/>
    
      <category term="code analysis" scheme="https://openfoam.top/categories/OpenFOAM/code-analysis/"/>
    
    
      <category term="thermophysicalModels" scheme="https://openfoam.top/tags/thermophysicalModels/"/>
    
  </entry>
  
  <entry>
    <title>notes when reading C++ primer</title>
    <link href="https://openfoam.top/CppPrimer/"/>
    <id>https://openfoam.top/CppPrimer/</id>
    <published>2018-01-31T23:00:00.000Z</published>
    <updated>2018-05-02T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>117 notes when reading C++ primer</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><ol><li><code>++val</code> 和 <code>val=val+1</code> 等效。</li><li><code>tmp</code> 指针后边加括号，返回的是它所指的对象。</li><li>成员函数的调用方法：<code>对象.函数()</code>，<code>引用.函数()</code> 或<code>指针-&gt;函数</code> <code>.</code>称为点操作符，函数名后边必须加括号，括号里边是实参列表，可以为空，也可以是另一个对象。</li><li>无符号类型 <code>unsigned</code></li><li><code>std::cout</code> 中的 <code>::</code> 是作用域操作符，一个命名空间后边接一个对象名。</li><li>初始化分两种：直接初始化和复制初始化。<ul><li>直接初始化： <code>int ival(1024);</code></li><li>复制初始化： <code>int ival=1024;</code></li></ul></li><li>定义如何进行初始化的成员函数称为构造函数，构造函数可以有多个，每个构造接受不同数目或者类型的参数。 此外，如果定义某个类的变量时没有提供初始化式，则使用默认构造函数。如果没有默认构造函数，则必须提供显式的初始化式。</li><li>对象可以用任意复杂的表达式（包括函数的返回值）来初始化:</li></ol><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">double</span> salary = <span class="number">99.99</span>, wage(salary + <span class="number">0.01</span>) ;          </span><br><span class="line"><span class="keyword">double</span> sale = sum(price,discount);</span><br></pre></td></tr></table></figure><ol start="11"><li>变量一定要初始化。</li><li>变量的定义（definition）用于为变量分配存储空间，还可以为变量指定初始值。在一个程序中，变量有且只有一个定义。</li><li>声明（declaration）用于向程序表明变量的类型和名字。定义也是声明：当定义变量时我们声明了它的类型和名字。可以通过使用extern关键字声明变量名而不定义它。不定义变量的声明包括对象名、对象类型和对象类型前的关键字extern</li><li><code>extern int i; // 声明但没有定义</code></li><li><code>int i; //声明并且定义了</code></li><li>变量可以申明多次，但只能定义一次。</li><li>例外，只有当 <code>extern</code> 声明位于函数外部时，才可以含有初始化式。 <code>extern double pi = 3.14</code> ( 声明并且定义了 )</li><li>变量必须且仅能定义一次，在使用变量前必须定义或声明变量。</li><li>多个文件共享一个变量，在一个文件中定义，其他文件中声明。</li><li>常量定义 <code>const int zuff = 512;</code></li><li>因为常量在定义后就不能修改，所以定义时必须初始化。</li><li>非 <code>const</code> 变量默认为 <code>extern</code>。要使 <code>const</code> 变量能够在其他的文件中访问，必须在定义它时显式地指定它为 <code>extern</code></li><li><code>int ival = 1024;</code></li><li><code>int &amp;refval = ival;</code></li><li>引用必须用与该引用同类型的对象初始化。</li><li>引用与被引用指向同一地址</li><li><code>const</code> 引用是指向 <code>const</code> 对象的引用，如下：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const int ival &#x3D; 1024;</span><br><span class="line">const int &amp;refval  &#x3D; ival;</span><br></pre></td></tr></table></figure></li><li><code>const</code> 对象不能有非 <code>const</code> 引用，如 <code>Int &amp;ref2 = ival</code> 是错误的！</li><li><code>const</code> 引用可以初始化为不同类型的对象或者初始化为右值。如：</li><li><code>int i = 42; const int &amp;r = 42; const int &amp;r2 = r + i;</code><br>上边的这两种初始化对于非const引用却是不合法的。</li><li><code>typedef</code> 用于给类型起别名，如 <code>typedef double wage</code> 表示 wage 就是 double 类型的别名，可以用来定义对象</li><li>类 通过构造函数初始化数据成员</li><li>struct 也可以定义类</li><li>默认情况下，struct 的成员是 pubic，而 class 的成员是 private</li><li>头文件不能包含定义，只能有声明，但有三个例外：头文件可以定义类，值在编译时就已知的 const 对象和 inline 函数。</li><li>argc 是程序的参数数量，包含程序名本身</li><li>argv[] 指向命令行的每个字符</li><li>vector 是类模板， <code>vector&lt;int&gt; ival;</code> 类型放在尖括号中</li><li>双冒号（::）用法<ul><li>表示“域操作符”<br>例：声明了一个类 A，类 A 里声明了一个成员函数void f()，但没有在类的声明里给出f的定义，那么在类外定义 f 时，就要写成void A::f()，表示这个 f()函数是类A的成员函数</li></ul></li><li>c++ 中冒号（:）和双冒号（::）的用法 构造函数后边有一个冒号，那是初始化列表区</li><li>指针定义： <code>int a = 1; int *b = &amp;a;</code> * 是解引用操作符，&amp; 是取地址操作符。</li><li>指针本身是地址，* 加指针表示该存储在该地址的对象</li><li>指向 const 的指针，很明显，我们不能通过指针来修改这一数据，但我们可以改变指针所指对象啊。const double *ptr 这个特性可用作函数形参，防止在函数中修改这一变量。const double pi = 3.14; const double *ptr = π</li><li>const 指针： <code>int err = 0; int *const cur = &amp;err;</code> 只能指向这个对象，不能指其他人。必须在定义时初始化</li><li>指向 const 对象的 const 指针，既不能指向它处，也不能修改值。</li><li>函数的形参，如果是普通变量时，是按值传递的，即把实参复制一遍给形参。当使用指针或引用时，即为按址传递，但这样可能不安全（实参有被篡改的风险），所以有了const引用（或指向const的指针）的形参，这样既能按址传递，又能保护实参不被修改。 意思就是，我把实参传过去，只是让它起一些作用，我并不希望修改实参。所以就用const引用。</li><li>使用 const 引用形参有一个好处，即传递给他的实参既可以是 const 类型也可以是非 const 类型。而非 const 引用形参，只能传递给他非 const 实参，字面值常量也不允许传递给他，产生右值的表达式也不能传递给他。</li><li><ul><li>迭代器表示 vector 索引。相当于数组名加下标</li></ul></li><li>对于多维数组，ia[3][4] 表示三行四列，ia[2] 表示最后一行</li><li>可以将 a[3][2] 看成是一个具有 3 个元素的一维数组，因此 a.size()=3</li><li>通过引用传递数组，<code>return_type function(int (&amp;arr)[10]) { body }</code></li><li>返回引用的函数 在函数名前加 &amp;，最前边加上 const 表示返回值不可被修改。即，函数返回值不能当做左值，不能被赋值。</li><li>函数不能仅通过返回类型不同来重载</li><li><a href="http://www.cnblogs.com/yc_sunniwell/archive/2010/07/14/1777416.html" target="_blank" rel="external nofollow noopener noreferrer">C/C++ 中 const 关键字详解</a></li><li>常成员函数： <code>类名::fun(形参) const</code> 又名 const 成员函数，const 成员函数不能修改调用该函数的对象。</li><li>C++ 不允许在常量对象上调用成员函数，除非成员函数本身也被声明为常量。</li><li>当存在同名同参数和返回值的常量函数和非常量函数时，具体调用哪个函数是根据调用对象是常量对像还是非常量对象来决定的。常量对象调用常量成员；非常量对象调用非常量的成员。</li><li>对于非引用形参，const 和非 const 不可以重载。而对于引用或指针形参，const 和非 const 可以重载。<br>对于指针，说的是指向 const 对象的指针，并不是说 const 指针。对于引用，就是 const 引用，即指向 const 的引用。举例：<code>const 类型 &amp;或*</code></li><li>const 位于函数前中后，哪个可以重载？ 后！常量函数和非常量函数可以重载 中，也可以，不过需要引用形参</li><li>• const 在函数后面，保证函数不会修改调用对象。这是常量函数。<br>• const 在函数前面，用于当函数返回值是引用时，不能使用返回的引用来直接修改它指向的结构。<br>• const 在形数表中时，保证既能按引用传递，又不会改变实参原来的值。</li><li>带有默认实参的函数，调用它时，可以省略一个实参。重载的时候，这个默认参数可以不考虑，相当于这个参数不存在。</li><li>对于 const 引用形参的函数，它既可以用 const 实参来调用，也可以用非 const 实参来调用。但同时也存在非 const 形参的函数（即 const 形参和非const形参重载）时，非const实参优先调用非const形参的函数。</li><li>当形参以副本传递时，不能基于形参是否为 const 来实现来重载。就是说非引用形参</li><li>函数的形参可以是指向函数的指针。</li><li>类型转换 <code>static_cast&lt;int&gt;(2.56)</code> 将 2.56 转换成 int 型</li><li>C 风格的强制类型转换(Type Cast)很简单，不管什么类型的转换统统是：<code>TYPE b = (TYPE)a;</code></li><li><a href="http://www.cnblogs.com/goodhacker/archive/2011/07/20/2111996.html" target="_blank" rel="external nofollow noopener noreferrer">C++ 风格的类型转换</a></li><li>在类内部定义的成员函数，自动作为 inline 函数。</li><li>类外定义的函数，在前边加上 inline 就行，类内声明的时候，可以不加 inline。声明和定义，随便加一个 inline 就行。</li><li>const 指针：始终指向某个对象 int *const cur = &amp;err;<br>PS：指向 const 的指针： const int * abc = &amp;var;</li><li>const 引用：指向 const 的引用 const int &amp;refval = ival;</li><li>对于引用或指针形参，const 和非 const 可以重载。这里指的是是否指向 const 对象。</li><li>const函数和非 const 函数也可以重载。</li><li>调用类的成员使用点操作符，对于指针，使用-&gt;操作符。</li><li>定义默认构造函数的时候，如果其中有些成员数据的类型自身有默认构造函数，可以不初始化它，这样调用这个数据的默认构造函数。</li><li>构造函数不能声明为 const，因为他的作用本来就是给新建的对象赋初值，而 const 成员函数不能修改调用它的对象。</li><li>默认构造函数可以在冒号之后初始化，也可以在函数体内初始化。</li><li>但是有些成员，必须在冒号后，即初始化列表中初始化。这些成员是：没有默认构造函数的类型的成员，以及 const 或引用类型的成员。</li><li>构造函数冒号之后，函数体之前，那些变量应该都已经分配内存了，所以引用必须确定引用的对象是谁，const 也必须确定，没有默认构造函数的类型，也必须初始化。那些可以默认初始化的类型，随便都行，比如 int 之类的。</li><li>构造函数初始化的顺序是按类中定义的顺序，不管你在初始化中怎样的顺序。</li><li>逗号操作符从左至右计算每个表达式的值，并返回最右边操作数的值。有什么意义呢？</li><li>在基类中定义 virtual 函数，表示这个函数希望在派生类中重新定义。那么为什么要在基类中出现呢？基类不定义，派生类定义，这样不行吗？用于多态啊</li><li>基类希望派生类继承的函数不能定义为虚函数。</li><li>通过基类的引用（或指针）调用虚函数时，发生动态绑定。基类的引用既可以指向基类对象，也可以指向派生类对象，动态绑定表示运行时，被调用的函数根据引用指向的对象的实际类型来决定。</li><li>除了构造函数之外，任意非 static 成员函数都可以是虚函数。</li><li>private 成员只能由基类的成员和友元访问。派生类对基类 的public和private成员的访问权限同其他代码一样，并不是继承者就可以随意访问，它也无法使用基类的private成员。但有些成员需要派生类访问，所以有了protected。</li><li>protected 相当于给了派生类特权，可以访问基类的某些成员。</li><li>派生类只能通过派生类对象访问基类的 protected 成员，不能访问基类对象的 protected 成员。</li><li>基类提供给派生类的接口包括protected和public</li><li>派生 class classname:access_label base_class 可以指定多个基类.</li><li>派生类中虚函数的声明必须与基类中的定义方式完全一致。但有一个例外，返回对基类的引用的虚函数，派生类中的对应函数既可以返回对派生类的引用，也可以返回对基类的引用。</li><li>派生类定义虚函数时，可以加 virtual，也可以不加。虚函数不管继承多少次，永远是虚函数。</li><li>因为每个派生类对象都包含基类部分，所以可将基类类型的引用绑定到派生类对象的基类部分，也可以用指向基类的指针指向派生类对象。</li><li>任何可以在基类对象上执行的操作也可以通过派生类对象使用。</li><li>如果调用非虚函数，则无论实际对象是什么类型，都执行基类类型所定义的函数；虚函数则根据对象类型来判断。</li><li>使用 class 定义派生类默认具有 private 继承，使用 struct 定义派生类默认具有 public 继承。</li><li>友元可以访问类的 private 和 protected 成员。友元关系不能继承，基类的友元对派生类来说就是普通人一样。</li><li>如果基类和派生类都需要访问另一个类，则那个类必须将访问权限授予 基类和每一个派生类。</li><li>static 成员，相当于整个类的公有变量。对于他的所有派生类也一样，基类和派生类共享 static 成员。</li><li>因为派生类对象也是基类对象，所以存在从派生类引用到基类引用的自动转换，即，可以将派生类对象的引用转换为基类子对象的引用，对指针也类似。</li><li>但是，没有从基类引用到派生类引用的转换。</li><li>虽然一般可以使用派生类的对象对基类对象进行初始化或赋值，但，没有从派生类对象到基类对象的直接转换。只能通过引用或指针。</li><li>当一个函数的形参是基类引用时，可以将派生类对象当做实参，这样的话，形参引用直接绑定到派生类对象上。对象未被复制。</li><li>当一个函数的形参是基类对象时，可以将派生类对象当做实参，这样的话，派生类对象的基类部分复制到形参。</li><li>用派生类对象对基类对象进行初始化或赋值时，实际调用的是基类的复制构造函数和复制操作符，只是这些函数本应该传入一个基类对象，实际上传入的是派生类对象。</li><li>用派生类对象调用基类的复制构造函数或赋值操作符时，将发生下列步骤：</li><li>将派生类对象转换为基类引用，这仅仅意味着将一个基类引用绑定到派生类对象。</li><li>将该引用作为实参传给复制构造函数或赋值操作符。</li><li>那些操作符使用派生类的基类部分分别对调用构造函数或赋值的基类对象的成员进行初始化或赋值。</li><li>一旦操作符执行完毕，对象即为基类对象。它包含派生类的基类部分的副本，但实参的派生类部分被忽略。</li><li>当构造、复制、赋值和撤销派生类对象时，也会构造、复制、赋值和撤销这些基类子对象。</li><li>某些类需要只希望派生类使用的特殊构造函数，这样的构造函数应该定义为 protected。</li><li>派生类的构造函数受继承关系的影响，每个派生类构造函数除了初始化自己的数据成员之外，还要初始化基类。基类部分可以由默认构造函数初始化。</li><li>内置类型，无法默认初始化。</li><li>如果派生类构造函数没有定义基类成员，则自动调用基类默认构造函数，并且是先调用基类构造函数，然后运行派生类构造函数的初始化列表，最后再运行函数体。</li><li>也可以在派生类构造函数中显式指定基类的构造函数。</li><li>在基类构造函数或析构函数中，将派生类对象当做基类对象对待。这会影响动态绑定。</li><li>arugument 实参 parameter 形参</li><li>在普通的非 const 成员函数中，this 的类型是一个指向类类型的 const 指针。可以改变this 所指向的值，但不能改变 this 所保存的地址。<br>在 const 成员函数中，this 的类型是一个指向 const 类类型对象的 const 指针。既不能改变 this 所指向的对象，也不能改变 this 所保存的地址。<br>AAA</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;117 notes when reading C++ primer&lt;/p&gt;
    
    </summary>
    
    
      <category term="C++" scheme="https://openfoam.top/categories/C/"/>
    
    
      <category term="C++" scheme="https://openfoam.top/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>Linux learning</title>
    <link href="https://openfoam.top/linuxLearning/"/>
    <id>https://openfoam.top/linuxLearning/</id>
    <published>2018-01-31T23:00:00.000Z</published>
    <updated>2018-05-18T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>some powerful codes</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><h1 id="大杀器-sed"><a class="markdownIt-Anchor" href="#大杀器-sed"></a> 大杀器 sed</h1><blockquote><p>sed 用法：<br>d 删除<br>a 在下一行新增<br>i 在上一行插入<br>c 以行为单位的取代<br>-i 直接修改文件<br>-r ???</p></blockquote><ul><li>替换<br><code>sed -r -i 's/被替换字符/替换后的字符/g' fileName</code><br>如果被替换的字符串中包含空格，？？？<br>如果被替换的字符串中 有变量，把最外层的单引号改成双引号，如<br><code>sed -r &quot;s/160.268/$var/g&quot; fileName</code></li><li>替换多行</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">##C list</span></span></span><br><span class="line">python&lt;&lt;EOF</span><br><span class="line">import numpy as np</span><br><span class="line">x=np.linspace(0,1,51)</span><br><span class="line">y=x*x</span><br><span class="line">f = open("Clist", 'w+')  </span><br><span class="line">for y in y:</span><br><span class="line">    print&gt;&gt;f,y</span><br><span class="line">EOF</span><br><span class="line">abc=`awk '&#123;print $1&#125;' Clist|tr "\n" "#"` # 将换行符替换成“#”，将abc缩为一行。</span><br><span class="line">sed -i -e '&#123;:begin;  /)/! &#123; $! &#123; N; b begin &#125;; &#125;; s/C_param\n(.*)/C_param\n(\n'$&#123;abc&#125;')/; &#125;;' ./file</span><br><span class="line"><span class="meta">#</span><span class="bash"> 将C_param下面的括号中的所有行，替换成abc。</span></span><br><span class="line">sed -i 's/#/\n/g' ./fileName #将“#”替换成换行符，就是将abc还原成了一个多行数据。</span><br></pre></td></tr></table></figure><pre><code>这里用python先生成一个数组，然后输出到文件，然后读取这个文件，读取出来是一列数据，我打算将这一列数据替换掉某个文件中的一列其它数据。</code></pre><ul><li>删除行<br><code>sed -i '1d' fileName</code> 删除第一行<br><code>sed -i '$d' fileName</code> 删除最后一行<br><code>sed '/^\s*$/d' fileName</code> 删除空行<br><code>awk '!a[$0]++' fileName</code> 删除重复行<br><code>sed -i 1,35d fileName</code> 删除1-35行<br><code>sed -i 1~2d fileName</code> 从第一行开始,每2行删除一行，即删除1··3··5··7··行。</li><li>删除字符串<br>删除字符串，即把它替换成空。<br><code>sed -r -i 's/欲删除字符串//g' fileName</code></li><li>删除文件中含特定字符串 abc 的行<br>   <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sed -e &#39;&#x2F;abc&#x2F;d&#39; fileName &gt;fileName_NEW</span><br><span class="line">#这个操作好像不能使用 -i ，只能把结果重定向到一个新的文件</span><br><span class="line">sed -e &#39;&#x2F;abc&#x2F;d&#39; fileName &gt;fileName</span><br><span class="line">#这样是不对的，生成的 fileName 是一个空文件</span><br></pre></td></tr></table></figure></li></ul><h1 id="大杀器-awk"><a class="markdownIt-Anchor" href="#大杀器-awk"></a> 大杀器 awk</h1><p>基本用法： <code>awk -F &quot;用于分隔的符号或者字符串&quot; '{print $分隔后你需要的列号}'</code><br>awk 提取某一列字符,如：</p><pre>stp <font size="4" color="red"><b>=</b></font>     1    dt <font size="4" color="red"><b>=</b></font> 1.00e-09 s    ord <font size="4" color="red"><b>=</b></font> 1    time <font size="4" color="red"><b>=</b></font> <font size="4" color="green"><b>1e-06 msT_max</b></font> <font size="4" color="red"><b>=</b></font>  897.7 KT_st <font size="4" color="red"><b>=</b></font>  875.1 K</pre><p>一个 log 文件，格式的每一行如上所示，现在需要提取 time 和 T_max 到一个新的文件，代码如下：</p><pre>grep stp log | awk -F "<font size="4" color="red"><b>=</b></font>" '{print $5}'|awk -F "<font size="4" color="red"><b>ms</b></font>" '{print $1}' >timegrep stp log | awk -F "<font size="4" color="red"><b>=</b></font>" '{print $6}'|awk -F "<font size="4" color="red"><b>K</b></font>" '{print $1}' >temppaste time temp | awk '{print $1"\t"$2}' >ignition.txt</pre><p>解释，grep 是获取 log 文件中含有 stp 的所有行，awk 的主要功能是对列操作，这里按“等于”号将每一行分隔为若干列，然后取第 5 列，即第四个等于号和第五个等于号之间的字符串<code>1e-06 ms T_max</code>，然后将<code>1e-06 ms T_max</code>按ms分为两列，取第 1 列，即我们需要的“时间”。<br>第二行代码亦如此，获取到<code>T_max</code>，输出到temp文件。<code>&gt;</code>大于号表示输出到文件，若该文件不存在，创建之；若存在，里边内容会被清空。如果使用两个大于号，则不同，<code>&gt;&gt;</code>表示输出到文件，但是是在文件末尾添加新写进去的内容。<br>第三行表示将time文件和temp文件合并成一个，time作为第一列，temp作为第二列。</p><p>列数为变量时如何使用：<br><code>awk -v N=274 '{ print $N}' fileName</code><br>获取第274列数据。</p><h1 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h1><pre><code>sort -g # 可以对科学计数法进行从小到大排序逆序：sort -g -r</code></pre><h1 id="循环-自增操作"><a class="markdownIt-Anchor" href="#循环-自增操作"></a> 循环、自增操作</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for i in `seq 1 100`  </span><br><span class="line">do  </span><br><span class="line">    echo $i  </span><br><span class="line">done</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">files=`ls Pre*`</span><br><span class="line">for file in $files</span><br><span class="line">do  </span><br><span class="line">    echo $file</span><br><span class="line">done</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">transients=`ls *tout.kg|awk -F "t" '&#123;print $2&#125;'|awk -F "ms" '&#123;print $1&#125;'|sort -g`</span><br><span class="line">x=10000</span><br><span class="line">for transient in $transients; do</span><br><span class="line">    mv *"$transient"ms.tout.kg chi$x</span><br><span class="line">    x=`expr $x + 1`#自增</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>break跳出循环。<br>continue命令与break命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</p><h1 id="判断大小"><a class="markdownIt-Anchor" href="#判断大小"></a> 判断大小</h1><p>推荐第三种！</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">if [ $T -lt 1200 ]; then  </span><br><span class="line">语句块</span><br><span class="line">fi</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果 T 小于1200，这里只使用于整数间的比较</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">if [ `expr $T \&lt; $T_ext` -eq 1 ]; then </span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果 T 小于 T_ext</span></span><br><span class="line"><span class="meta">#</span><span class="bash">不支持科学计数法，默认<span class="keyword">if</span>成立，可能会出现 bug</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">if [ $(echo "$chi &gt; $chi_ignition" | bc) -eq 1 ]; then </span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果 chi 大于 chi_ignition</span></span><br><span class="line"><span class="meta">#</span><span class="bash">不支持科学计数法，默认 <span class="keyword">if</span> 不成立，即跳过科学计数</span></span><br></pre></td></tr></table></figure><p>PS：科学计数法转十进制：<br>方法1： <code>printf &quot;%f\n&quot; 3.1188622400e+06</code><br>方法2： <code>echo 3.1188622400e+06 | awk '{printf(&quot;%f\n&quot;,$0)}'</code></p><h1 id="删除所有文件except-some-file"><a class="markdownIt-Anchor" href="#删除所有文件except-some-file"></a> 删除所有文件，except some file</h1><p><code>find ./ -name '[^C][^1][^2]*' | xargs rm -rf</code> #删除除了 <code>C12</code> 开头以外的其它文件</p><h1 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h1><p><code>index</code> 从 0 开始<br><code>${abc[i]}</code> 表示数组 <code>abc</code> 的第 <code>i</code> 个分量</p><h1 id="实数运算"><a class="markdownIt-Anchor" href="#实数运算"></a> 实数运算</h1><h2 id="整数的加减乘除"><a class="markdownIt-Anchor" href="#整数的加减乘除"></a> 整数的加减乘除：</h2><p>方法一：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">b&#x3D;$((5*5+5-6&#x2F;2))</span><br><span class="line">echo $b</span><br><span class="line">输出：27</span><br></pre></td></tr></table></figure><p>方法二：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">i&#x3D;5</span><br><span class="line">c&#x3D;&#96;expr $i &#x2F; 2&#96;</span><br><span class="line">echo $c</span><br><span class="line">输出：2，可以看出，这里不支持小数</span><br><span class="line">PS: 操作符号两边要有空格，这里的“&#x2F;”也可以是“+”“－”“*”，*不行！</span><br></pre></td></tr></table></figure><h2 id="小数点位数"><a class="markdownIt-Anchor" href="#小数点位数"></a> 小数点位数</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">time=0.00015</span><br><span class="line">time=$(printf "%.4f" `echo "$time + 0.0001"|bc`)</span><br><span class="line">echo $time</span><br></pre></td></tr></table></figure><p>输出：0.0002<br>保留4位小数，后边直接截断，不进行四舍五入。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">time=0.00015</span><br><span class="line">time=$(echo $time 0.0001 | awk '&#123; printf "%0.4f\n" ,$1+$2&#125;')#time+0.0001</span><br><span class="line">echo $time</span><br></pre></td></tr></table></figure><p>输出：0.0003<br>四舍五入，保留4位小数。</p><h2 id="浮点数的加减乘除"><a class="markdownIt-Anchor" href="#浮点数的加减乘除"></a> 浮点数的加减乘除：</h2><p>方法一：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">c=$(echo "5.01-4*2.0"|bc)</span><br><span class="line">echo $c</span><br><span class="line">输出：-2.99</span><br></pre></td></tr></table></figure><p>例外：<code>c=$(echo &quot;1/1000&quot;|bc)</code>输出为0，因为它是小于1的小数。如何才能正确输出小数呢？</p><p>方法二：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">c&#x3D;$(awk &#39;BEGIN&#123;print 7.01*5-4.01 &#125;&#39;)</span><br><span class="line">echo $c</span><br><span class="line">输出：31.04</span><br><span class="line">c&#x3D;$(awk &#39;BEGIN&#123;print 1&#x2F;1000 &#125;&#39;)</span><br><span class="line">echo $c</span><br><span class="line">输出：0.001</span><br></pre></td></tr></table></figure><p>例外：我想输出从 0 到 1 之间的等间距小数</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for i in &#96;seq 0 10&#96; </span><br><span class="line">do</span><br><span class="line">c&#x3D;$(awk &#39;BEGIN&#123;print $i&#x2F;10 &#125;&#39;)</span><br><span class="line">echo $c </span><br><span class="line">done</span><br><span class="line">输出 11 个 0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for i in &#96;seq 1 10&#96; </span><br><span class="line">do</span><br><span class="line">    c&#x3D;$(printf &quot;%.4f&quot; &#96;echo &quot;$i &#x2F; 10&quot;|bc&#96;)</span><br><span class="line">    echo $c </span><br><span class="line">done</span><br><span class="line">依然输出一堆 0.0000，只有最后一个是1.0000</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for i in &#96;seq 1 10&#96; </span><br><span class="line">do</span><br><span class="line">    c&#x3D;$(echo $i 10 | awk &#39;&#123; printf &quot;%0.4f\n&quot; ,$1&#x2F;$2&#125;&#39;)</span><br><span class="line">    echo $c </span><br><span class="line">done</span><br><span class="line">这个才是正常输出的。</span><br></pre></td></tr></table></figure><h1 id="修改文件名"><a class="markdownIt-Anchor" href="#修改文件名"></a> 修改文件名</h1><h2 id="先来点简单的操作"><a class="markdownIt-Anchor" href="#先来点简单的操作"></a> 先来点简单的操作</h2><p>增加后缀</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find  . -type f -exec mv '&#123;&#125;' '&#123;&#125;'.old \;</span><br></pre></td></tr></table></figure><p>增加前缀</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for files in $(ls *.png)</span><br><span class="line">    do mv $files "pic."$files</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>去除前缀<br>？？？<br>去除后缀<br><a href="http://www.tracholar.top/2018/06/10/remove-a-fixed-prefix-suffix-from-a-string-in-bash/" target="_blank" rel="external nofollow noopener noreferrer">网址</a></p><h2 id="再来点高级的"><a class="markdownIt-Anchor" href="#再来点高级的"></a> 再来点高级的</h2><p>将文件名拆分，然后重组，如：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ls fileName | sed -r -n 's/(.*)分隔字符(.*)/mv &amp; 替换后的字符\1\2/e'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这里表示将原文件名按‘分隔字符’拆分为两部分，分别由(.*)对应，也对应 \1 和 \2。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 后边的部分即为新文件名，可以添加任意字符在\1 \2的任何位置，也可以不要 \2，即删去“分隔字符”及其后边的部分。</span></span><br></pre></td></tr></table></figure><p>举例：</p><pre>ls chi* | sed -r -n 's/.*tf(.*)/mv & \1/e' # 分隔为 tf 之后部分，全部保留，即保留 tf 后边的字符串# 原文件名：chi23.0769tf<font size="4" color="red">0363to0900Tst2227.kg</font># 操作后：0363to0900Tst2227.kg#  .* 加不加括号的区别在于，加括号后，才计入分隔的部分中;# 如果不加括号，仅仅表示中间还有若干字符，但是不计入分隔后的部分。ls chi* | sed -r -n 's/(.*)tf.*/mv & \1/e' # 分隔为 tf 之前部分，全部保留，即删去 tf 以及后边的所有字符串。# 原文件名：<font size="4" color="red">chi23.0769</font>tf0363to0900Tst2227.kg# 操作后：chi23.0769ls chi* | sed -r -n 's/(.*)tf.*.kg(.*)/mv & \1\2/e' # 分隔为 tf 之前，和 .kg 之后# 这里分隔后，\1表示chi23.0769，即前边那个(.*)对应的部分，\2表示'AAA'，即后边那个(.*)对应的部分。# 原文件名：<font size="4" color="red">chi23.0769</font>tf0363to0900Tst2227.kg<font size="4" color="red">AAA</font># 操作后：chi23.0769AAAls chi* | sed -r -n 's/(.*)tf(.*).kg(.*)/mv & \1\2\3/e' # tf 和 .kg 把原文件名分隔为三部分，全部保留。# 原文件名：<font size="4" color="red">chi23.0769</font>tf<font size="4" color="red">0363to0900Tst2227</font>.kg<font size="4" color="red">BBB</font># 操作后：chi23.07690363to0900Tst2227BBB</pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;some powerful codes&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://openfoam.top/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://openfoam.top/tags/Linux/"/>
    
      <category term="shell" scheme="https://openfoam.top/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>how to find chemical mechanisms?</title>
    <link href="https://openfoam.top/mechanisms/"/>
    <id>https://openfoam.top/mechanisms/</id>
    <published>2018-01-27T23:00:00.000Z</published>
    <updated>2018-03-19T23:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>website collections for chemical mechanism downloading</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><h2 id="1-soot详细反应动力学"><a class="markdownIt-Anchor" href="#1-soot详细反应动力学"></a> 1. <a href="http://combustion.berkeley.edu/soot/" target="_blank" rel="external nofollow noopener noreferrer">soot详细反应动力学</a></h2><ul><li>C2 oxidation - with aromatics up to pyrene (Wang and Frenklach, 1997)</li><li>C2 oxidation - a modified version of the above (Appel, Bockhorn, and Frenklach, 2000)</li></ul><h2 id="2-llnl"><a class="markdownIt-Anchor" href="#2-llnl"></a> 2. <a href="https://combustion.llnl.gov/archived-mechanisms/" target="_blank" rel="external nofollow noopener noreferrer">LLNL</a></h2><ul><li>Ethanol</li><li>Hydrogen</li><li>Alkanes<ul><li>C8-C16 n-Alkanes</li><li>n -Heptane, Detailed Mechanism Version 2</li><li>Heptane, Reduced Mechanism</li><li>iso-Octane, Version 2</li></ul></li><li>Cycloalkanes<ul><li>Methylcyclohexane</li></ul></li><li>Surrogates<ul><li>Primary Reference Fuels iso-Octane / n-Heptane Mixture</li></ul></li></ul><h2 id="3-gri-30"><a class="markdownIt-Anchor" href="#3-gri-30"></a> 3. <a href="http://combustion.berkeley.edu/gri-mech/version30/text30.html" target="_blank" rel="external nofollow noopener noreferrer">GRI 3.0</a></h2><h2 id="4-wang-hai"><a class="markdownIt-Anchor" href="#4-wang-hai"></a> 4. <a href="http://ignis.usc.edu/Mechanisms/Model%20release.html" target="_blank" rel="external nofollow noopener noreferrer">Wang Hai</a></h2><h2 id="5-tianfeng-lu"><a class="markdownIt-Anchor" href="#5-tianfeng-lu"></a> 5. <a href="http://www.engr.uconn.edu/~tlu/mechs/mechs.htm" target="_blank" rel="external nofollow noopener noreferrer">Tianfeng Lu</a></h2><h2 id="6-erc"><a class="markdownIt-Anchor" href="#6-erc"></a> 6. <a href="https://www.erc.wisc.edu/chemicalreaction.php" target="_blank" rel="external nofollow noopener noreferrer">ERC</a></h2><ul><li>n-heptane</li><li>n-heptane/n-butanol/PAH</li><li>ERC-MultiChem+Bio</li><li>n-heptane/toluene/PAH</li><li>Reduced PRF</li><li>Reduced PRF-methanol-ethanol-DTBP</li><li>Reduced n-dodecane-PAH</li></ul><h2 id="7-pitsch"><a class="markdownIt-Anchor" href="#7-pitsch"></a> 7. <a href="http://web.stanford.edu/group/pitsch/" target="_blank" rel="external nofollow noopener noreferrer">pitsch</a></h2><ul><li>n-heptane</li><li>iso-octane</li><li>PRF</li></ul><h2 id="8-pitsch2"><a class="markdownIt-Anchor" href="#8-pitsch2"></a> 8. <a href="http://www.itv.rwth-aachen.de/downloads/verschiedenes/" target="_blank" rel="external nofollow noopener noreferrer">pitsch2</a></h2><ul><li>代码：Red-Mech-Code</li><li>n-Heptane</li><li>PRF-Ethanol</li><li>A Surrogate Fuel for Kerosene:N-Dekan/Trimethylbenzol正癸烷/三甲基苯</li></ul><h2 id="9-催化剂"><a class="markdownIt-Anchor" href="#9-催化剂"></a> 9. <a href="http://www.detchem.com/mechanisms.html" target="_blank" rel="external nofollow noopener noreferrer">催化剂</a></h2><h2 id="10-nist失效"><a class="markdownIt-Anchor" href="#10-nist失效"></a> 10. <a href="http://www.nist.gov/srd/" target="_blank" rel="external nofollow noopener noreferrer">NIST失效</a></h2><h2 id="11-四川大学"><a class="markdownIt-Anchor" href="#11-四川大学"></a> 11. <a href="http://ccg.scu.edu.cn/mechanism/" target="_blank" rel="external nofollow noopener noreferrer">四川大学</a></h2><ul><li>链烷烃<br>正庚烷、异辛烷、正癸烷、正十二烷</li><li>环烷烃<br>正丙基环己烷、甲基环己烷</li><li>航空煤油<br>石油基工程燃料、国外航空煤油、国产RP3</li></ul><h2 id="12-krithika-narayanaswamy"><a class="markdownIt-Anchor" href="#12-krithika-narayanaswamy"></a> 12. <a href="http://krithikasivaram.github.io/" target="_blank" rel="external nofollow noopener noreferrer">Krithika Narayanaswamy</a></h2><ul><li>biodiesel surrogate</li><li>jet fuel surrogates</li><li>methylcyclohexane</li><li>n-dodecane(275 Species)</li></ul><h2 id="13-polimi"><a class="markdownIt-Anchor" href="#13-polimi"></a> 13. <a href="http://creckmodeling.chem.polimi.it/menu-kinetics" target="_blank" rel="external nofollow noopener noreferrer">polimi</a></h2><h2 id="14-c3-combustion-chemistry-centre"><a class="markdownIt-Anchor" href="#14-c3-combustion-chemistry-centre"></a> 14. <a href="http://c3.nuigalway.ie/mechanisms.html" target="_blank" rel="external nofollow noopener noreferrer">C3-Combustion Chemistry Centre</a></h2><ul><li>HYDROGEN AND SYNGAS<ul><li>Hydrogen (2004)</li><li>Hydrogen and Syngas (2013)</li></ul></li><li>ALKANES<ul><li>Natural gas (2006/07)</li><li>Natural gas to/including C5 (2007/08)</li><li>Natural gas to/including nC5 (2010)</li><li>C1_C2_C3 mixtures volume histories</li><li>C1_C3 mixtures volume histories</li><li>CH4/DME 2014</li><li>Butane</li><li>Pentane isomers</li><li>n-Hexane</li><li>n-Heptane</li></ul></li><li>ALKENES<ul><li>Propene</li><li>1-butene</li><li>2-butene</li><li>Isobutene</li><li>Di-isobutylene</li></ul></li><li>ALCOHOLS<ul><li>Methanol</li><li>Ethanol</li><li>Propanol</li><li>Bio-butanol</li></ul></li><li>ESTERS<ul><li>Methyl butanoate</li><li>Ethyl propanoate</li></ul></li><li>ETHERS<ul><li>EME, DEE, MTBE and ETBE (Ethers)</li><li>CH4/DME 2014</li></ul></li><li>FURANS<ul><li>Furan, 2-Methyllfuran and 2,5-Dimethylfuran</li></ul></li><li>KETONES<ul><li>Acetone</li><li>3-Pentanone</li></ul></li><li>AramcoMech1.3 (2013)</li><li>AramcoMech2.0 (2016)</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;website collections for chemical mechanism downloading&lt;/p&gt;
    
    </summary>
    
    
      <category term="combustion" scheme="https://openfoam.top/categories/combustion/"/>
    
    
      <category term="chemical mechanisms" scheme="https://openfoam.top/tags/chemical-mechanisms/"/>
    
  </entry>
  
  <entry>
    <title>How to update properties for mixture in OpenFOAM</title>
    <link href="https://openfoam.top/mixture/"/>
    <id>https://openfoam.top/mixture/</id>
    <published>2018-01-27T23:00:00.000Z</published>
    <updated>2018-04-26T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>How to update properties for mixture in OpenFOAM</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><p>本文代码全部在 <code>/src/thermophysicalModels</code> 文件夹下。</p><p>温度更新于 <a href="https://cpp.openfoam.org/v3/a09892_source.html" target="_blank" rel="external nofollow noopener noreferrer">/basic/psiThermo/hePsiThermo.C</a> 中：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">forAll(TCells, celli)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">typename</span> MixtureType::thermoType&amp; mixture_ =</span><br><span class="line">        <span class="keyword">this</span>-&gt;cellMixture(celli);</span><br><span class="line">    TCells[celli] = mixture_.THE</span><br><span class="line">    (</span><br><span class="line">        hCells[celli],</span><br><span class="line">        pCells[celli],</span><br><span class="line">        TCells[celli]</span><br><span class="line">    );</span><br><span class="line">    psiCells[celli] = mixture_.psi(pCells[celli], TCells[celli]);</span><br><span class="line">    muCells[celli] = mixture_.mu(pCells[celli], TCells[celli]);</span><br><span class="line">    alphaCells[celli] = mixture_.alphah(pCells[celli], TCells[celli]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>第一步： <code>mixture_ = this-&gt;cellMixture(celli);</code> 先通过质量分数加权得到 <code>mixture</code> 的值，<code>mixture</code> 相当于一个特殊的 <code>specie</code>。</p></li><li><p>第二步：使用 <code>THE</code> 这个函数用焓更新温度，这个过程比较复杂，<a href="https://openfoam.top/T_calculate/">见本站另一篇文章</a>。</p></li><li><p>第三步：计算 <code>psi</code>，函数见 <a href="https://cpp.openfoam.org/v3/a10228_source.html" target="_blank" rel="external nofollow noopener noreferrer">specie/equationOfState/perfectGasI.H</a>：<code>return 1.0/(this-&gt;R()*T);</code><br>其中 R() 在<code>specie\specie</code> 计算: <code>return RR/molWeight_;</code> <code>R()</code> 的单位是 <code>[J/(kg K)]</code>。这里的 <code>molWeight_</code> 是 <code>mixture</code> 的值，<code>W()</code> 也能返回 <code>molWeight_</code>，单位是<code>[kg/kmol]</code>。<br><code>RR</code> 的位置更加隐蔽。首先给出结果：<code>RR=1000*R=8314.47J/(kmol·k)</code>。详细代码挖掘见本文末尾。</p></li><li><p>第四步：计算 <code>mu</code>，见 <a href="https://cpp.openfoam.org/v3/a10311_source.html" target="_blank" rel="external nofollow noopener noreferrer">/specie/transport/sutherland/sutherlandTransportI.H</a>，<code>return As_*::sqrt(T)/(1.0 + Ts_/T);</code></p></li><li><p>第五步：计算 <code>alpha[kg/m/s]</code>，同样见 <a href="https://cpp.openfoam.org/v3/a10311_source.html" target="_blank" rel="external nofollow noopener noreferrer">/specie/transport/sutherland/sutherlandTransportI.H</a>，<code>return kappa(p,T) /Cp(p,T)</code> 这里的 <code>kappa</code> 就是导热系数，我们所说的 <code>lamda</code>。</p></li></ol><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">alphah---Thermal diffusivity of enthalpy [kg/ms]    在Sutherland中计算</span><br><span class="line">kappa----Thermal conductivity [W/mK]              也在Sutherland中计算</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">Thermo</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">inline</span> <span class="title">Foam</span>:</span>:scalar Foam::sutherlandTransport&lt;Thermo&gt;::kappa</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar p, <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    scalar Cv_ = <span class="keyword">this</span>-&gt;Cv(p, T);</span><br><span class="line">    <span class="keyword">return</span> mu(p, T)*Cv_*(<span class="number">1.32</span> + <span class="number">1.77</span>*<span class="keyword">this</span>-&gt;R()/Cv_);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">Thermo</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">inline</span> <span class="title">Foam</span>:</span>:scalar Foam::sutherlandTransport&lt;Thermo&gt;::alphah</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> kappa(p, T)/<span class="keyword">this</span>-&gt;Cp(p, T);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//thermI.H 中：</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">Thermo</span>, <span class="title">template</span>&lt;class&gt; <span class="title">class</span> <span class="title">Type</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">inline</span> <span class="title">Foam</span>:</span>:scalar</span><br><span class="line">Foam::species::thermo&lt;Thermo, Type&gt;::Cpv(<span class="keyword">const</span> scalar p, <span class="keyword">const</span> scalar T)</span><br><span class="line"><span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> Type&lt;thermo&lt;Thermo, Type&gt;&gt;::Cpv(*<span class="keyword">this</span>, p, T);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//单位：</span></span><br><span class="line"><span class="comment">//- Heat capacity at constant volume [J/kg/K]</span></span><br><span class="line"><span class="comment">//virtual tmp&lt;volScalarField&gt; Cv() const = 0;</span></span><br><span class="line"><span class="comment">//大写是[J/kg/K]，小写是[J/kmol/K]???</span></span><br><span class="line"><span class="comment">//Cv = cv(p, T)/this-&gt;W()</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//cpv(或者Cpv)：当能量是焓的形式，cpv = cp，若能量是内能形式，cpv = cv</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//那么 mixture 的 Cp(p, T) 又是如何计算的？</span></span><br><span class="line"><span class="comment">//单个组分的 Cp 计算见 [janafThermoI.H](https://cpp.openfoam.org/v3/a10297_source.html)，使用机理文件 therm.dat 中的系数计算得到。</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">EquationOfState</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">inline</span> <span class="title">Foam</span>:</span>:scalar Foam::janafThermo&lt;EquationOfState&gt;::Cp</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> coeffArray&amp; a = coeffs(T);</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">        ((((a[<span class="number">4</span>]*T + a[<span class="number">3</span>])*T + a[<span class="number">2</span>])*T + a[<span class="number">1</span>])*T + a[<span class="number">0</span>])</span><br><span class="line">      + EquationOfState::Cp(p, T);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//SpecieMixture.C 中：</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">MixtureType</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Foam</span>:</span>:scalar Foam::SpecieMixture&lt;MixtureType&gt;::Cp</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> label speciei,</span><br><span class="line">    <span class="keyword">const</span> scalar p,</span><br><span class="line">    <span class="keyword">const</span> scalar T</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;getLocalThermo(speciei).Cp(p, T);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后，什么是 mixture 的加权平均？<br>见 <a href="https://cpp.openfoam.org/v3/a10140_source.html" target="_blank" rel="external nofollow noopener noreferrer">\reactionThermo\mixtures\multiComponentMixture\multiComponentMixture.C</a></p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ThermoType</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">const</span> <span class="title">ThermoType</span>&amp; <span class="title">Foam</span>:</span>:multiComponentMixture&lt;ThermoType&gt;::cellMixture</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">const</span> label celli</span><br><span class="line">) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    mixture_ = Y_[<span class="number">0</span>][celli]*speciesData_[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (label n=<span class="number">1</span>; n&lt;Y_.<span class="built_in">size</span>(); n++)</span><br><span class="line">    &#123;</span><br><span class="line">        mixture_ += Y_[n][celli]*speciesData_[n];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mixture_;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>mixture_ = sum( Y[i] * speciesData[i])</code> i 从 1 到组分个数</p><p>就是说混合物，是每个组分按照质量分数加权得到的。<br><code>speciesData_</code> 包括哪些数据？ <code>PtrList&lt;ThermoType&gt; speciesData_;</code><br><code>speciesData_</code> 是由所有组分的元素组成的一个 <code>list</code>。<br>这里的 <code>ThermoType</code> 是指<code>sutherlandTransport&lt;species::thermo&lt;janafThermo&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt;</code>。<br><code>sutherlandTransport</code> 继承自 <code>species::thermo</code>。<br><code>species::thermo</code> 继承自 <code>janafThermo + sensibleEnthalpy</code>。<br><code>janafThermo</code> 继承自 <code>perfectGas</code>。<br><code>perfectGas</code> 继承自 <code>specie</code>。<br>此外，<code>sensibleEnthalpy</code> 继承自 <code>species::thermo</code>。<br><code>sensibleEnthalpy&lt; species::thermo&lt;janafThermo&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt; &gt;</code><br><code>species</code> 是命名空间。<br>另外，它还有一个别名，见 <a href="https://cpp.openfoam.org/v3/a10233_source.html" target="_blank" rel="external nofollow noopener noreferrer">thermoPhysicsTypes.H</a>：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span></span><br><span class="line">sutherlandTransport</span><br><span class="line">&lt;</span><br><span class="line">    species::thermo</span><br><span class="line">    &lt;</span><br><span class="line">        janafThermo</span><br><span class="line">        &lt;</span><br><span class="line">            perfectGas&lt;specie&gt;</span><br><span class="line">        &gt;,</span><br><span class="line">        sensibleEnthalpy</span><br><span class="line">    &gt;</span><br><span class="line">&gt; gasHThermoPhysics;</span><br><span class="line"><span class="comment">//即 typedef sutherlandTransport&lt;species::thermo&lt;janafThermo&lt;perfectGas&lt;specie&gt;&gt;,sensibleEnthalpy&gt;&gt; gasHThermoPhysics;</span></span><br></pre></td></tr></table></figure><p>同样，<code>mixture_</code> 也是这个类型，说明混合物在这里相当于一个组分，代表所有组分的一个组分。质量分数加权，就是把单个组分的所有信息都加权一遍！如下图所示的所有信息。包括：<code>Y_ moleWeight_ name_ Tcommon_ Thigh_ Tlow_ highCpCoeffs_ lowCpCoeffs_ As_ Ts_</code>。</p><ul><li><code>As_</code> <code>Ts_</code> 是由 <code>suterlandTransport</code> 提供的；</li><li><code>Tcommon_</code> <code>Thigh_</code> <code>Tlow_</code> <code>highCpCoeffs_</code> <code>lowCpCoeffs_</code> 是由 <code>janafThermo</code> 提供的；therm.dat 文件中，每个组分有 14（或者 15，最后一个没用）参数，依次是高温的 7 个系数和低温的 7 个系数。但并不是 <code>highCpCoeffs_</code> ，还需要 <code>*R()</code>，即 <code>*RR/moleWeight_</code> 才成为 <code>highCpCoeffs_</code> 。<code>RR=8314.47 J/(kmol·k)</code>，<code>moleWeight</code> 单位是 g/mol（亦即 kg/kmol）。</li><li><code>Y_</code> <code>moleWeight_ ``name_</code> 是由 <code>Foam::specie</code> 提供的。</li></ul><p><img src="//wx3.sinaimg.cn/large/a2a8de49ly1frok2wwj8wj20ss0920ug.jpg" alt=""></p><h1 id="rr-代码挖掘"><a class="markdownIt-Anchor" href="#rr-代码挖掘"></a> RR 代码挖掘：</h1><p>定义在\src\OpenFOAM\global\constants\thermodynamic\thermodynamicConstants.C<br><code>const scalar RR = 1e3*physicoChemical::R.value();</code></p><p>R 的定义在 \src\OpenFOAM\global\constants\physicoChemical\physicoChemicalConstants.C</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">defineDimensionedConstantWithDefault</span><br><span class="line">(</span><br><span class="line">    physicoChemical::group,</span><br><span class="line">    physicoChemical::R,</span><br><span class="line">    dimensionedScalar</span><br><span class="line">    (</span><br><span class="line">        <span class="string">"R"</span>,</span><br><span class="line">        physicoChemical::NA*physicoChemical::k</span><br><span class="line">    ),</span><br><span class="line">    constantphysicoChemicalR,</span><br><span class="line">    <span class="string">"R"</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>k 见 \etc\controlDict:</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">physicoChemical</span><br><span class="line">&#123;</span><br><span class="line">    mu              mu [<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>] <span class="number">1.66054e-27</span>;</span><br><span class="line">    k               k [<span class="number">1</span> <span class="number">2</span> <span class="number">-2</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>] <span class="number">1.38065e-23</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>另外这个文件还定义了 Pstd=1e5，Tstd=298.15。<br>NA 见 \src\OpenFOAM\global\constants\fundamental\fundamentalConstants.C</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">defineDimensionedConstantWithDefault</span><br><span class="line">(</span><br><span class="line">    physicoChemical::group,</span><br><span class="line">    physicoChemical::NA,</span><br><span class="line">    Foam::dimensionedScalar</span><br><span class="line">    (</span><br><span class="line">        <span class="string">"NA"</span>,</span><br><span class="line">        dimensionSet(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>), <span class="comment">//Foam::dimless/Foam::dimMoles,</span></span><br><span class="line">        <span class="number">6.0221417930e+23</span></span><br><span class="line">    ),</span><br><span class="line">    constantphysicoChemicalNA,</span><br><span class="line">    <span class="string">"NA"</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>至此，<code>R=NA*k=6.0221417930e+23*1.38065e-23=8.31447J/(mol·k)</code>，<code>RR=1000*R=8314.47J/(kmol·k)</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;How to update properties for mixture in OpenFOAM&lt;/p&gt;
    
    </summary>
    
    
      <category term="OpenFOAM" scheme="https://openfoam.top/categories/OpenFOAM/"/>
    
      <category term="code analysis" scheme="https://openfoam.top/categories/OpenFOAM/code-analysis/"/>
    
    
      <category term="thermophysicalModels" scheme="https://openfoam.top/tags/thermophysicalModels/"/>
    
  </entry>
  
  <entry>
    <title>using chemical mechanisms in chemkin format</title>
    <link href="https://openfoam.top/chemkin/"/>
    <id>https://openfoam.top/chemkin/</id>
    <published>2018-01-27T23:00:00.000Z</published>
    <updated>2018-06-02T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>Several notes about using chemical mechanisms in chemkin format</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><ol><li>ALL LETTERS SHOULD BE CAPITALIZED.</li><li>If a liquid fuel is used, the fuel name in chemkin files must match the name in liquid properties library. Such as NC7H16 in chemkin files (both mech.inp and therm.dat) should be replaced by C7H16.</li><li>In <code>therm.dat</code>, the line where C7H16 lies is misplaced. Need revise.</li><li>In <code>therm.dat</code>, the last line should be 1 2 3 4 for each species. If there are other number near before 1 2 3 4, delete them.</li><li>The first line of <code>therm.dat</code> should be <code>THERMO ALL</code>.</li><li>In <code>thermophysicalProperties</code>, don’t use <code>new format</code>.</li><li>Make sure the file format is unix.</li><li>Sometimes, there are <code>0</code> after the keyword <code>TROE</code>, replace <code>0</code> with <code>1E-30</code>.</li><li>如果发散（最大迭代数溢出），把 therm.dat 文件中每个组分的 temperature range 改成一致就可以了。<a href="https://www.cfd-online.com/Forums/openfoam-solving/59816-foam-fatal-error-maximum-number-iterations-exceeded-2.html" target="_blank" rel="external nofollow noopener noreferrer">解决方案来自 CFD-Online</a> 可以使用 chemkin 中的 Utility/FitData 功能来修正 temperature range。</li></ol><p>一个正确的机理文件（删减版）示范：<br>chem.inp 文件（这是一个甲烷的机理，<a href="../sources/chem.inp">完整版点击这里</a>，<a href="http://combustion.berkeley.edu/drm/" target="_blank" rel="external nofollow noopener noreferrer">机理来源点击这里</a>）：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ELEMENTS                                                                        </span><br><span class="line">O  H  C  N  AR                                                                  </span><br><span class="line">END                                                                             </span><br><span class="line">SPECIES                                                                         </span><br><span class="line">H2      O2                                                                                       </span><br><span class="line">END                                                                             </span><br><span class="line">REACTIONS                                                                                </span><br><span class="line">O+HO2&lt;&#x3D;&gt;OH+O2                            2.000E+13    0.000      0.00           </span><br><span class="line">END</span><br></pre></td></tr></table></figure><p>therm.dat 文件（<a href="../sources/therm.dat">完整版点击这里</a>）：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">THERMO ALL</span><br><span class="line">   200.000  1000.000  5000.000</span><br><span class="line">O                 L 1&#x2F;90O   1   00   00   00G   200.000  3500.000  1000.0      1</span><br><span class="line"> 2.56942078E+00-8.59741137E-05 4.19484589E-08-1.00177799E-11 1.22833691E-15    2</span><br><span class="line"> 2.92175791E+04 4.78433864E+00 3.16826710E+00-3.27931884E-03 6.64306396E-06    3</span><br><span class="line">-6.12806624E-09 2.11265971E-12 2.91222592E+04 2.05193346E+00 6.72540300E+03    4</span><br><span class="line">END</span><br></pre></td></tr></table></figure><p>请严格按照这个示范文件来修改你的机理文件。<br>比如 therm.dat 文件的第二行中的三个数字，它们所在的列数区间是有严格限制的。</p><blockquote><p>在第二行的 1－30 列上给出低温、常温、高温三个温度范围，每个数字均匀分布在 10 列位置上。</p></blockquote><p>再如这两个文件中的 <code>END</code> 一定不要漏掉。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Several notes about using chemical mechanisms in chemkin format&lt;/p&gt;
    
    </summary>
    
    
      <category term="OpenFOAM" scheme="https://openfoam.top/categories/OpenFOAM/"/>
    
      <category term="using skills" scheme="https://openfoam.top/categories/OpenFOAM/using-skills/"/>
    
    
      <category term="chemkin" scheme="https://openfoam.top/tags/chemkin/"/>
    
      <category term="chemical mechanisms" scheme="https://openfoam.top/tags/chemical-mechanisms/"/>
    
  </entry>
  
  <entry>
    <title>using functionObject for post-processing in OpenFOAM</title>
    <link href="https://openfoam.top/functionObject/"/>
    <id>https://openfoam.top/functionObject/</id>
    <published>2018-01-24T23:00:00.000Z</published>
    <updated>2018-05-18T22:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>using functionObject for post-processing in OpenFOAM</p><a id="more"></a><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-CN",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,multilanguagePage:!0,gaTrack:!0,gaId:"UA-119919860-1"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><p>In OpenFOAM, functionObjects are code snippets that can be loaded into any solver during run-time. This enables each solver to be coupled with some additional functionality, that is independent from the flow model. All functionObjects have to be included in system/controlDict like the following:</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    &lt;name&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        type &lt;type&gt;;</span><br><span class="line">        functionObjectLibs (<span class="string">"&lt;lib&gt;"</span>);</span><br><span class="line">        outputControl timeStep;</span><br><span class="line">        outputInterval <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// Specific parameters for the functionObject</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="使用方法"><a class="markdownIt-Anchor" href="#使用方法"></a> 使用方法</h1><h2 id="大概是-of-40-以前的版本"><a class="markdownIt-Anchor" href="#大概是-of-40-以前的版本"></a> 大概是 OF-4.0 以前的版本</h2><ul><li>运行时：<br>先在 <code>controlDict</code> 中添加 <code>functions</code>，然后直接运行算例即可。支持并行算例。</li><li>运行后：<br>先在 <code>controlDict</code> 中添加 <code>functions</code>，然后执行这个命令 <code>execFlowFunctionObjects -noFlow</code><br>支持并行，使用命令 <code>mpirun -np 2 execFlowFunctionObjects -noFlow -parallel</code></li></ul><h1 id="of-dev"><a class="markdownIt-Anchor" href="#of-dev"></a> OF-dev</h1><ul><li><p>在 <code>controlDict</code> 中添加 <code>functions</code> 之后，直接运行求解器即可。支持并行算例。</p></li><li><p>运行后，在 controlDict 文件中添加 functions之后，运行 <code>postProcess -fields '(T p U)'</code><br><code>-fields</code> 一定要加，因为这相当于输入的场信息，和 <code>functions</code> 里 <code>fields</code> 的不一样，那个是操作的场。输入的场要包含操作的场才行。</p></li><li><p>高级用法：运行后，可以只对某个（些）时间文件夹进行处理，如：<code>postProcess -fields '(T p)' -time '1.75e-05'</code>。或者：<code>postProcess -fields '(T p)' -time ':1.75e-05'</code> 冒号表示从最开始到 1.75e-05 所有的时间。另外还可以处理不连续的时间，如 <code>postProcess -fields '(T p)' -time '1.25e-05,1.75e-05'</code> 用逗号隔开即可。运行 <code>solver</code> 时好像不支持只对某些时间段进行操作。<br>支持并行，使用命令 <code>mpirun -np 2 postProcess -fields '(T p U)' -parallel</code></p></li></ul><blockquote><p><code>functionObjects</code> 分为两大类 <code>libfieldFunctionObjects</code> 和 <code>libutilityFunctionObjects</code></p><p>所有可选的 <code>type</code> 可以通过这个命令获取： <code>postProcess -list</code>。</p></blockquote><h1 id="libfieldfunctionobjects"><a class="markdownIt-Anchor" href="#libfieldfunctionobjects"></a> libfieldFunctionObjects</h1><p>常用操作举例：</p><h2 id="vol-场操作"><a class="markdownIt-Anchor" href="#vol-场操作"></a> vol 场操作</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    my_name</span><br><span class="line">    &#123;</span><br><span class="line">        type    volFieldValue;</span><br><span class="line">        functionObjectLibs    (<span class="string">"libfieldFunctionObjects.so"</span>);</span><br><span class="line">fields (Qdot);</span><br><span class="line">writeFields no;</span><br><span class="line">operation volIntegrate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>operation 有：</p><table><thead><tr><th>operation</th><th>说明</th><th>代码</th></tr></thead><tbody><tr><td>CoV</td><td>Coefficient of variation: standard deviation/mean</td><td>略</td></tr><tr><td>average</td><td>Ensemble average</td><td><code>gSum(values)/nCells()</code></td></tr><tr><td>max</td><td>Maximum</td><td><code>gMax(values)</code></td></tr><tr><td>min</td><td>Minimum</td><td><code>gMin(values)</code></td></tr><tr><td>none</td><td>No operation</td><td></td></tr><tr><td>sum</td><td>Sum</td><td><code>gSum(values)</code></td></tr><tr><td>sumMag</td><td>Sum of component magnitudes</td><td><code>gSum(cmptMag(values))</code></td></tr><tr><td>volAverage</td><td>Volume weighted average</td><td><code>gSum(V*values)/this-&gt;V()</code></td></tr><tr><td>volIntegrate</td><td>Volume integral</td><td><code>gSum(V*values)</code></td></tr><tr><td>weightedAverage</td><td>Weighted average</td><td><code>gSum(weightField*values)/gSum(weightField)</code></td></tr><tr><td>weightedSum</td><td>Weighted sum</td><td><code>gSum(weightField*values)</code></td></tr><tr><td>weightedVolAverage</td><td>Weighted volume average</td><td><code>gSum(weightField*V*values)/gSum(weightField*V)</code></td></tr><tr><td>weightedVolIntegrate</td><td>Weighted volume integral</td><td><code>gSum(weightField*V*values)</code></td></tr></tbody></table><h2 id="surface-场操作"><a class="markdownIt-Anchor" href="#surface-场操作"></a> Surface 场操作</h2><h3 id="operation"><a class="markdownIt-Anchor" href="#operation"></a> operation：</h3><table><thead><tr><th>operation</th><th>说明</th><th>代码</th></tr></thead><tbody><tr><td>CoV</td><td>Coefficient of variation: standard deviation/mean</td><td>略</td></tr><tr><td>average</td><td>ensemble average</td><td><code>sum(values)/values.size()</code></td></tr><tr><td>max</td><td>maximum</td><td><code>max(values)</code></td></tr><tr><td>min</td><td>minimum</td><td><code>min(values)</code></td></tr><tr><td>none</td><td>no operation</td><td></td></tr><tr><td>sum</td><td>sum</td><td><code>sum(values)</code></td></tr><tr><td>sumMag</td><td>sum of component magnitudes</td><td><code>sum(cmptMag(values))</code></td></tr><tr><td>areaAverage</td><td>area weighted average</td><td><code>sum(magSf*values)/sum(magSf)</code></td></tr><tr><td>areaIntegrate</td><td>area integral</td><td><code>sum(magSf*values)</code></td></tr><tr><td>areaNormalAverage</td><td>area weighted average in face normal direction</td><td><code>vector( sum(values &amp; Sf)/sum(mag(Sf)), 0.0, 0.0 )</code></td></tr><tr><td>areaNormalIntegrate</td><td>area weighted integral in face normal directon</td><td><code>vector( sum(values &amp; Sf), 0.0, 0.0 )</code></td></tr><tr><td>weightedAreaAverage</td><td>weighted area average</td><td><code>sum(weightField*magSf*values)/sum(magSf*weightField)</code></td></tr><tr><td>weightedAreaIntegrate</td><td>weighted area integral</td><td><code>sum(weightField*magSf*values)</code></td></tr><tr><td>weightedAverage</td><td>weighted average</td><td><code>sum(weightField*values)/sum(weightField)</code></td></tr><tr><td>weightedSum</td><td>weighted sum</td><td><code>sum(weightField*values)</code></td></tr><tr><td>sumDirection</td><td>sum values which are positive in given direction</td><td>略</td></tr><tr><td>sumDirectionBalance</td><td>sum of balance of values in given direction</td><td>略</td></tr></tbody></table><h3 id="surface-场操作举例1"><a class="markdownIt-Anchor" href="#surface-场操作举例1"></a> Surface 场操作举例1</h3><p>面平均，计算 <code>f0</code> 这个 <code>faceZone</code> 上 <code>zeta</code> 的平均值</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    poolHeight</span><br><span class="line">    &#123;</span><br><span class="line">        type            surfaceFieldValue;</span><br><span class="line">        libs            (<span class="string">"libfieldFunctionObjects.so"</span>);</span><br><span class="line">        writeControl    timeStep;</span><br><span class="line">        writeInterval   <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">log</span>             yes;</span><br><span class="line">        writeTotalArea  no;</span><br><span class="line">        writeFields     no;</span><br><span class="line">        regionType      faceZone;</span><br><span class="line">        name            f0;</span><br><span class="line">        operation       areaAverage;</span><br><span class="line">        fields</span><br><span class="line">        (</span><br><span class="line">            zeta</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="surface-场操作举例2"><a class="markdownIt-Anchor" href="#surface-场操作举例2"></a> Surface 场操作举例2</h3><p>面求和，计算 <code>inlet</code> 这个 <code>patch</code> 上 <code>rhoPhi</code> 的和</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    inletFlux</span><br><span class="line">    &#123;</span><br><span class="line">        type            surfaceFieldValue;</span><br><span class="line">        libs            (<span class="string">"libfieldFunctionObjects.so"</span>);</span><br><span class="line">        writeControl   timeStep;</span><br><span class="line">        <span class="built_in">log</span>             <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// Output field values as well</span></span><br><span class="line">        writeFields     <span class="literal">false</span>;</span><br><span class="line">        regionType      patch;</span><br><span class="line">        name            inlet;</span><br><span class="line">        operation       sum;</span><br><span class="line">        fields</span><br><span class="line">        (</span><br><span class="line">            rhoPhi</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    outletFlux</span><br><span class="line">    &#123;</span><br><span class="line">        $inletFlux;</span><br><span class="line">        name            outlet;</span><br><span class="line">    &#125;</span><br><span class="line">    atmosphereFlux</span><br><span class="line">    &#123;</span><br><span class="line">        $inletFlux;</span><br><span class="line">        name            atmosphere;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="时间平均"><a class="markdownIt-Anchor" href="#时间平均"></a> 时间平均</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    field_average    </span><br><span class="line">    &#123;</span><br><span class="line">        type fieldAverage;  <span class="comment">// fieldAverage 是时间平均</span></span><br><span class="line">        functionObjectLibs (<span class="string">"libfieldFunctionObjects.so"</span>);</span><br><span class="line">        enabled <span class="literal">true</span>;</span><br><span class="line">        outputControl outputTime;</span><br><span class="line">        fields</span><br><span class="line">        (</span><br><span class="line">            U</span><br><span class="line">            &#123;</span><br><span class="line">                mean on;</span><br><span class="line">                prime2Mean on;</span><br><span class="line">                base time;</span><br><span class="line">            &#125;</span><br><span class="line">            k</span><br><span class="line">            &#123;</span><br><span class="line">                mean on;</span><br><span class="line">                prime2Mean off;</span><br><span class="line">                base time;</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://xiaopingqiu.github.io/2015/04/12/fieldAverage/" target="_blank" rel="external nofollow noopener noreferrer">更多关于时间平均的细节请看这里</a></p><h2 id="极值"><a class="markdownIt-Anchor" href="#极值"></a> 极值</h2><p>这个好像前边的场操作 <code>volFieldValue</code> 也能实现。</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    minMax</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Type of functionObject</span></span><br><span class="line">        type            fieldMinMax;</span><br><span class="line">        <span class="comment">// Where to load it from (if not already in solver)</span></span><br><span class="line">        functionObjectLibs (<span class="string">"libfieldFunctionObjects.so"</span>);</span><br><span class="line">        <span class="comment">// Function object enabled flag</span></span><br><span class="line">        enabled         <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// Log to output (default: false)</span></span><br><span class="line">        <span class="built_in">log</span>             <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">// Write information to file (default: true)</span></span><br><span class="line">        <span class="built_in">write</span>           <span class="literal">true</span>;</span><br><span class="line">        location        no;</span><br><span class="line">        <span class="comment">// Fields to be monitored - runTime modifiable</span></span><br><span class="line">        fields (U p T);</span><br><span class="line">        <span class="comment">//fields (T);</span></span><br><span class="line">        writeControl    timeStep;</span><br><span class="line">        writeInterval   <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="streamline"><a class="markdownIt-Anchor" href="#streamline"></a> streamLine</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    streamLines</span><br><span class="line">    &#123;</span><br><span class="line">        type            streamLine;</span><br><span class="line">        <span class="comment">// Where to load it from (if not already in solver)</span></span><br><span class="line">        libs            (<span class="string">"libfieldFunctionObjects.so"</span>);</span><br><span class="line">        <span class="comment">// Output every</span></span><br><span class="line">        writeControl    writeTime;</span><br><span class="line">        <span class="comment">// writeInterval 10;</span></span><br><span class="line">        setFormat       vtk; <span class="comment">//gnuplot;//xmgr;//raw;//jplot;//csv;//ensight;</span></span><br><span class="line">        <span class="comment">// Tracked forwards (+U) or backwards (-U)</span></span><br><span class="line">        trackForward    <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// Names of fields to sample. Should contain above velocity field!</span></span><br><span class="line">        fields (p k U);</span><br><span class="line">        <span class="comment">// Steps particles can travel before being removed</span></span><br><span class="line">        lifeTime        <span class="number">10000</span>;</span><br><span class="line">        <span class="comment">// Number of steps per cell (estimate). Set to 1 to disable subcycling.</span></span><br><span class="line">        nSubCycle <span class="number">5</span>;</span><br><span class="line">        <span class="comment">// Cloud name to use</span></span><br><span class="line">        cloudName       particleTracks;</span><br><span class="line">        <span class="comment">// Seeding method.</span></span><br><span class="line">        seedSampleSet</span><br><span class="line">        &#123;</span><br><span class="line">            type        uniform;</span><br><span class="line">            axis        x;  <span class="comment">//distance;</span></span><br><span class="line">            start       (<span class="number">-0.0205</span> <span class="number">0.001</span>  <span class="number">0.00001</span>);</span><br><span class="line">            <span class="built_in">end</span>         (<span class="number">-0.0205</span> <span class="number">0.0251</span> <span class="number">0.00001</span>);</span><br><span class="line">            nPoints     <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="machno"><a class="markdownIt-Anchor" href="#machno"></a> MachNo</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    libs            (<span class="string">"libfieldFunctionObjects.so"</span>);</span><br><span class="line">    Ma</span><br><span class="line">    &#123;</span><br><span class="line">        type            MachNo;</span><br><span class="line">        executeControl  writeTime;</span><br><span class="line">        writeControl    writeTime;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="probes"><a class="markdownIt-Anchor" href="#probes"></a> probes</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    my_name</span><br><span class="line">    &#123;</span><br><span class="line">        type    probes;</span><br><span class="line">        probeLocations</span><br><span class="line">        (</span><br><span class="line">            (<span class="number">0.0</span> <span class="number">0.05</span> <span class="number">0.0</span>)</span><br><span class="line">        );</span><br><span class="line">        functionObjectLibs    (<span class="string">"libfieldFunctionObjects.so"</span>);</span><br><span class="line">fields (T);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="libutilityfunctionobjects"><a class="markdownIt-Anchor" href="#libutilityfunctionobjects"></a> libutilityFunctionObjects：</h1><h2 id="所有可选-type"><a class="markdownIt-Anchor" href="#所有可选-type"></a> 所有可选 type：</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">abort</span></span><br><span class="line">coded<span class="comment">//使用代码</span></span><br><span class="line">patchProbes</span><br><span class="line">probes<span class="comment">//检测某些点的某些物理量,需要指定 probeLocations fields,和上边重复了。。。</span></span><br><span class="line">psiReactionThermoMoleFractions</span><br><span class="line">removeRegisteredObject</span><br><span class="line">residuals</span><br><span class="line">rhoReactionThermoMoleFractions</span><br><span class="line">setTimeStep<span class="comment">//设置时间步长，如：从表格中读取，sine函数等。</span></span><br><span class="line">sets</span><br><span class="line">surfaces</span><br><span class="line">systemCall</span><br><span class="line">time</span><br><span class="line">timeActivatedFileUpdate<span class="comment">//可以设置多套controlDict，运行到某一时刻自动切换</span></span><br><span class="line">writeDictionary</span><br><span class="line">writeObjects<span class="comment">//write一些计算过程中的对象，可以多输出一些信息</span></span><br></pre></td></tr></table></figure><h2 id="writeobjects"><a class="markdownIt-Anchor" href="#writeobjects"></a> writeObjects</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    writeFields <span class="comment">// name of the function object</span></span><br><span class="line">    &#123;</span><br><span class="line">        type writeObjects;</span><br><span class="line">        libs ( <span class="string">"libutilityFunctionObjects.so"</span> );</span><br><span class="line"> </span><br><span class="line">        objects</span><br><span class="line">        (</span><br><span class="line">    T U rho <span class="comment">// list of fields/variables to be written</span></span><br><span class="line">        );</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// E.g. write every 1e-5 seconds of simulation time only the specified fields</span></span><br><span class="line">        writeControl runTime;</span><br><span class="line">        writeInterval <span class="number">1e-5</span>; <span class="comment">// write every 1e-5 seconds</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>You can also define multiple function objects in order to write different subsets of fields at different times. You can also use wildcards in the list of fields- for example, in order to write out all fields starting with “RR_” you can add</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;RR_.*&quot;</span><br></pre></td></tr></table></figure><p>可以输出每个组分的反应速率？放热率呢？如何输出？Qdot[1 -1 -3 0 0 0 0] 是dQ[1 2 -3 0 0 0 0]除以体积，dQ的单位是J/s。那么我们需要对Qdot进行volumeIntegrate 操作。</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">定义：fvc::volumeIntegrate(df)=df.mesh().V()*df.field()<span class="comment">//df是被操作的场</span></span><br><span class="line">使用：volScalarField dQ = fvc::volumeIntegrate(Qdot);<span class="comment">//dQ的量纲是多少？</span></span><br></pre></td></tr></table></figure><h2 id="settimestep"><a class="markdownIt-Anchor" href="#settimestep"></a> setTimeStep</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">timeStepping</span><br><span class="line">    &#123;</span><br><span class="line">        type            setTimeStep;</span><br><span class="line">        functionObjectLibs (<span class="string">"libutilityFunctionObjects.so"</span>);</span><br><span class="line">        enabled         yes;</span><br><span class="line">        deltaT          tableFile;</span><br><span class="line">        file            <span class="string">"system/deltaTvalues"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="timeactivatedfileupdate"><a class="markdownIt-Anchor" href="#timeactivatedfileupdate"></a> timeActivatedFileUpdate</h2><p>运行时更改某些文件</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Performs a file copy/replacement once a specified time has been reached.</span><br><span class="line"></span><br><span class="line">Example usage to update the fvSolution dictionary at various times throughout the calculation:</span><br><span class="line"></span><br><span class="line">\verbatim</span><br><span class="line">fileUpdate1</span><br><span class="line">&#123;</span><br><span class="line">    type              timeActivatedFileUpdate;</span><br><span class="line">    libs              (<span class="string">"libutilityFunctionObjects.so"</span>);</span><br><span class="line">    writeControl      timeStep;</span><br><span class="line">    writeInterval     <span class="number">1</span>;</span><br><span class="line">    fileToUpdate      <span class="string">"$FOAM_CASE/system/fvSolution"</span>;</span><br><span class="line">    timeVsFile</span><br><span class="line">    (</span><br><span class="line">        (<span class="number">-1</span> <span class="string">"$FOAM_CASE/system/fvSolution.0"</span>)</span><br><span class="line">        (<span class="number">0.10</span> <span class="string">"$FOAM_CASE/system/fvSolution.10"</span>)</span><br><span class="line">        (<span class="number">0.20</span> <span class="string">"$FOAM_CASE/system/fvSolution.20"</span>)</span><br><span class="line">        (<span class="number">0.35</span> <span class="string">"$FOAM_CASE/system/fvSolution.35"</span>)</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line">\endverbatim</span><br></pre></td></tr></table></figure><h2 id="coded"><a class="markdownIt-Anchor" href="#coded"></a> coded</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    timeStep</span><br><span class="line">    &#123;</span><br><span class="line">        type coded;</span><br><span class="line">        libs            (<span class="string">"libutilityFunctionObjects.so"</span>);</span><br><span class="line">        name setDeltaT;</span><br><span class="line">        code</span><br><span class="line">        #&#123;</span><br><span class="line">        #&#125;;</span><br><span class="line">        codeExecute</span><br><span class="line">        #&#123;</span><br><span class="line">            <span class="keyword">const</span> Time&amp; runTime = mesh().time();</span><br><span class="line">            <span class="keyword">if</span> (runTime.timeToUserTime(runTime.value()) &gt;= <span class="number">-15.0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">const_cast</span>&lt;Time&amp;&gt;(runTime).setDeltaT</span><br><span class="line">                (</span><br><span class="line">                    runTime.userTimeToTime(<span class="number">0.025</span>)</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        #&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    error</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Load the library containing the 'coded' functionObject</span></span><br><span class="line">        libs            (<span class="string">"libutilityFunctionObjects.so"</span>);</span><br><span class="line">        type coded;</span><br><span class="line">        <span class="comment">// Name of on-the-fly generated functionObject</span></span><br><span class="line">        name error;</span><br><span class="line">        codeEnd</span><br><span class="line">        #&#123;</span><br><span class="line">            <span class="comment">// Lookup U</span></span><br><span class="line">            Info&lt;&lt; <span class="string">"Looking up field U\n"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">const</span> volVectorField&amp; U = mesh().lookupObject&lt;volVectorField&gt;(<span class="string">"U"</span>);</span><br><span class="line">            Info&lt;&lt; <span class="string">"Reading inlet velocity uInfX\n"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            scalar ULeft = <span class="number">0.0</span>;</span><br><span class="line">            label leftI = mesh().boundaryMesh().findPatchID(<span class="string">"left"</span>);</span><br><span class="line">            <span class="keyword">const</span> fvPatchVectorField&amp; fvp = U.boundaryField()[leftI];</span><br><span class="line">            <span class="keyword">if</span> (fvp.<span class="built_in">size</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                ULeft = fvp[<span class="number">0</span>].x();</span><br><span class="line">            &#125;</span><br><span class="line">            reduce(ULeft, maxOp&lt;scalar&gt;());</span><br><span class="line">            dimensionedScalar uInfX</span><br><span class="line">            (</span><br><span class="line">                <span class="string">"uInfx"</span>,</span><br><span class="line">                dimensionSet(<span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">                ULeft</span><br><span class="line">            );</span><br><span class="line">            Info &lt;&lt; <span class="string">"U at inlet = "</span> &lt;&lt; uInfX.value() &lt;&lt; <span class="string">" m/s"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            scalar magCylinder = <span class="number">0.0</span>;</span><br><span class="line">            label cylI = mesh().boundaryMesh().findPatchID(<span class="string">"cylinder"</span>);</span><br><span class="line">            <span class="keyword">const</span> fvPatchVectorField&amp; cylFvp = mesh().C().boundaryField()[cylI];</span><br><span class="line">            <span class="keyword">if</span> (cylFvp.<span class="built_in">size</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                magCylinder = mag(cylFvp[<span class="number">0</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            reduce(magCylinder, maxOp&lt;scalar&gt;());</span><br><span class="line">            dimensionedScalar radius</span><br><span class="line">            (</span><br><span class="line">                <span class="string">"radius"</span>,</span><br><span class="line">                dimensionSet(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">                magCylinder</span><br><span class="line">            );</span><br><span class="line">            Info &lt;&lt; <span class="string">"Cylinder radius = "</span> &lt;&lt; radius.value() &lt;&lt; <span class="string">" m"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            volVectorField UA</span><br><span class="line">            (</span><br><span class="line">                IOobject</span><br><span class="line">                (</span><br><span class="line">                    <span class="string">"UA"</span>,</span><br><span class="line">                    mesh().time().timeName(),</span><br><span class="line">                    U.mesh(),</span><br><span class="line">                    IOobject::NO_READ,</span><br><span class="line">                    IOobject::AUTO_WRITE</span><br><span class="line">                ),</span><br><span class="line">                U</span><br><span class="line">            );</span><br><span class="line">            Info&lt;&lt; <span class="string">"\nEvaluating analytical solution"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">const</span> volVectorField&amp; centres = UA.mesh().C();</span><br><span class="line">            <span class="function">volScalarField <span class="title">magCentres</span><span class="params">(mag(centres))</span></span>;</span><br><span class="line">            <span class="function">volScalarField <span class="title">theta</span><span class="params">(<span class="built_in">acos</span>((centres &amp; <span class="built_in">vector</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>))/magCentres))</span></span>;</span><br><span class="line">            volVectorField cs2theta</span><br><span class="line">            (</span><br><span class="line">                <span class="built_in">cos</span>(<span class="number">2</span>*theta)*<span class="built_in">vector</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">              + <span class="built_in">sin</span>(<span class="number">2</span>*theta)*<span class="built_in">vector</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line">            );</span><br><span class="line">            UA = uInfX*(dimensionedVector(<span class="built_in">vector</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>))</span><br><span class="line">              - <span class="built_in">pow</span>((radius/magCentres),<span class="number">2</span>)*cs2theta);</span><br><span class="line">            <span class="comment">// Force writing of UA (since time has not changed)</span></span><br><span class="line">            UA.<span class="built_in">write</span>();</span><br><span class="line">            <span class="function">volScalarField <span class="title">error</span><span class="params">(<span class="string">"error"</span>, mag(U-UA)/mag(UA))</span></span>;</span><br><span class="line">            Info&lt;&lt;<span class="string">"Writing relative error in U to "</span> &lt;&lt; error.objectPath()</span><br><span class="line">                &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            error.<span class="built_in">write</span>();</span><br><span class="line">        #&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="misc"><a class="markdownIt-Anchor" href="#misc"></a> Misc</h1><h2 id="probes-前面有另一种实现方法"><a class="markdownIt-Anchor" href="#probes-前面有另一种实现方法"></a> probes 前面有另一种实现方法</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    probes</span><br><span class="line">    &#123;</span><br><span class="line">        type            probes;</span><br><span class="line">        libs            (<span class="string">"libsampling.so"</span>);</span><br><span class="line">        writeControl   timeStep;</span><br><span class="line">        writeInterval  <span class="number">1</span>;</span><br><span class="line">        probeLocations</span><br><span class="line">        (</span><br><span class="line">            (<span class="number">0</span> <span class="number">9.95</span> <span class="number">19.77</span>)</span><br><span class="line">            (<span class="number">0</span> <span class="number">-9.95</span> <span class="number">19.77</span>)</span><br><span class="line">        );</span><br><span class="line">        fixedLocations  <span class="literal">false</span>;</span><br><span class="line">        fields</span><br><span class="line">        (</span><br><span class="line">            p</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>##等值面</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    surfaces</span><br><span class="line">    &#123;</span><br><span class="line">        type            surfaces;</span><br><span class="line">        libs            (<span class="string">"libsampling.so"</span>);</span><br><span class="line">        writeControl    adjustableRunTime;</span><br><span class="line">        writeInterval   <span class="number">0.01</span>;</span><br><span class="line">        timeStart       <span class="number">10</span>;</span><br><span class="line">        surfaceFormat   vtk;</span><br><span class="line">        fields          (p_rgh U);</span><br><span class="line">        interpolationScheme cellPoint;</span><br><span class="line">        surfaces</span><br><span class="line">        (</span><br><span class="line">            interface</span><br><span class="line">            &#123;</span><br><span class="line">                type            isoSurface;</span><br><span class="line">                isoField        alpha.water;</span><br><span class="line">                isoValue        <span class="number">0.5</span>;</span><br><span class="line">                interpolate     <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="forces"><a class="markdownIt-Anchor" href="#forces"></a> forces</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">functions</span><br><span class="line">&#123;</span><br><span class="line">    forces</span><br><span class="line">    &#123;</span><br><span class="line">        type            forces;</span><br><span class="line">        libs            (<span class="string">"libforces.so"</span>);</span><br><span class="line">        writeControl    writeTime;</span><br><span class="line">        patches         (floatingObject);</span><br><span class="line">        rho             rhoInf;</span><br><span class="line">        <span class="built_in">log</span>             yes;</span><br><span class="line">        rhoInf          <span class="number">1000</span>;</span><br><span class="line">        CofR            (<span class="number">0</span> <span class="number">0</span> <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="输出控制"><a class="markdownIt-Anchor" href="#输出控制"></a> 输出控制</h1><p>这里分两种情况，分别是 solver 运行时和运行后。</p><ul><li>运行后，一定需要记住的是必须使用参数 <code>-fields</code> 指定此次后处理过程中涉及的所有场（作为输入信息）。可以使用前面提到的 <code>-time</code> 参数来控制需要处理的时间段。</li><li>运行时<br>在 solver 运行时可以手动控制输出时间间隔，通过这两个选项： writeControl writeInterval。<br><code>writeControl</code> 常用的可选项：</li></ul><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">outputTime<span class="comment">//同主程序输出间隔相同。</span></span><br><span class="line">writeTime<span class="comment">//每 writeInterval个输出步长写一次。这里的输出步长指主程序的write步长。即，如果主程序每秒write一次，这里的function就是每3秒写一次。 </span></span><br><span class="line">adjustableRunTime<span class="comment">//每 writeInterval 秒物理时间写一次，但是对于可调节步长的话，会自动调节最后一次的时间步长，以便准确时间输出。</span></span><br></pre></td></tr></table></figure><p><code>writeControl</code> 所有的可选项：</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">outputTime<span class="comment">//同主程序输出间隔相同。</span></span><br><span class="line">runTime<span class="comment">//每 writeInterval 秒物理时间写一次。</span></span><br><span class="line">adjustableRunTime<span class="comment">//每 writeInterval 秒物理时间写一次，但是对于可调节步长的话，会自动调节最后一次的时间步长，以便准确时间输出。</span></span><br><span class="line">clockTime<span class="comment">//每 writeInterval 秒实际时间写一次。</span></span><br><span class="line">cpuTime<span class="comment">//每 writeInteral 秒 cpu 时间写一次。</span></span><br><span class="line">none<span class="comment">//不输出。</span></span><br><span class="line">writeTime<span class="comment">//每 writeInterval个输出步长写一次。这里的输出步长指主程序的write步长。即，如果主程序每秒write一次，这里的function就是每3秒写一次。</span></span><br><span class="line">timeStep<span class="comment">//每 writeInterval 个时间步长写一次。</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;using functionObject for post-processing in OpenFOAM&lt;/p&gt;
    
    </summary>
    
    
      <category term="OpenFOAM" scheme="https://openfoam.top/categories/OpenFOAM/"/>
    
      <category term="Tips &amp; Tricks" scheme="https://openfoam.top/categories/OpenFOAM/Tips-Tricks/"/>
    
    
      <category term="functionObject" scheme="https://openfoam.top/tags/functionObject/"/>
    
  </entry>
  
</feed>
