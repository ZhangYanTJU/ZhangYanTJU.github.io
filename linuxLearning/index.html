<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="linux 命令收藏"><meta name="keywords" content="linux,shell"><meta name="author" content="Yan Zhang"><meta name="copyright" content="Yan Zhang"><title>linux 命令收藏 | OpenFOAM 成长之路</title><link rel="shortcut icon" href="/album/linktocat.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?38997e7d3b8e8c254bf0ddb7d2452127";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script"),ga("create","UA-119919860-1","auto"),ga("send","pageview")</script><script>var GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容:${query}"}},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"}}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="OpenFOAM 成长之路" type="application/atom+xml"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#大杀器-sed"><span class="toc-number">1.</span> <span class="toc-text">大杀器 sed</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#大杀器-awk"><span class="toc-number">2.</span> <span class="toc-text">大杀器 awk</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#排序"><span class="toc-number">3.</span> <span class="toc-text">排序</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#循环-自增操作"><span class="toc-number">4.</span> <span class="toc-text">循环、自增操作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#判断大小"><span class="toc-number">5.</span> <span class="toc-text">判断大小</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#删除所有文件except-some-file"><span class="toc-number">6.</span> <span class="toc-text">删除所有文件，except some file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数组"><span class="toc-number">7.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#实数运算"><span class="toc-number">8.</span> <span class="toc-text">实数运算</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#整数的加减乘除"><span class="toc-number">8.1.</span> <span class="toc-text">整数的加减乘除：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#小数点位数"><span class="toc-number">8.2.</span> <span class="toc-text">小数点位数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#浮点数的加减乘除"><span class="toc-number">8.3.</span> <span class="toc-text">浮点数的加减乘除：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#修改文件名"><span class="toc-number">9.</span> <span class="toc-text">修改文件名</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#先来点简单的操作"><span class="toc-number">9.1.</span> <span class="toc-text">先来点简单的操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#再来点高级的"><span class="toc-number">9.2.</span> <span class="toc-text">再来点高级的</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/album/192.jpg"></div><div class="author-info__name text-center">Yan Zhang</div><div class="author-info__description text-center">OpenFOAM 成长之路</div><div class="follow-button"><a href="https://github.com/ZhangYanTJU" target="_blank" rel="external nofollow noopener noreferrer">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">39</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">30</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">9</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"><a id="site-name" href="/">OpenFOAM 成长之路</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i> <span class="pull-right menus"><a class="site-page" href="/">首页</a><a class="site-page" href="/about">关于</a><a class="site-page" href="/subscribe">订阅</a><a class="site-page" href="/en">English</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i> <span>搜索</span></a></span></div><div id="post-info"><div id="post-title">linux 命令收藏</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2018-02-01<span class="post-meta__separator">|</span><i class="fa fa-calendar-check-o" aria-hidden="true"></i> 更新于 2018-07-04</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/linux/">linux</a><div class="post-meta-wordcount"><span>字数总计:</span> <span class="word-count">2.1k</span><span class="post-meta__separator">|</span><span>阅读时长: 8 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>一些很有用的命令</p><a id="more"></a><h1 id="大杀器-sed"><a class="markdownIt-Anchor" href="#大杀器-sed"></a> 大杀器 sed</h1><blockquote><p>sed 用法：<br>d 删除<br>a 在下一行新增<br>i 在上一行插入<br>c 以行为单位的取代<br>-i 直接修改文件<br>-r ???</p></blockquote><ul><li>替换<br><code>sed -r -i 's/被替换字符/替换后的字符/g' fileName</code><br>如果被替换的字符串中包含空格，？？？<br>如果被替换的字符串中 有变量，把最外层的单引号改成双引号，如<br><code>sed -r &quot;s/160.268/$var/g&quot; fileName</code></li><li>替换多行</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">##C list</span></span></span><br><span class="line">python&lt;&lt;EOF</span><br><span class="line">import numpy as np</span><br><span class="line">x=np.linspace(0,1,51)</span><br><span class="line">y=x*x</span><br><span class="line">f = open("Clist", 'w+')  </span><br><span class="line">for y in y:</span><br><span class="line">    print&gt;&gt;f,y</span><br><span class="line">EOF</span><br><span class="line">abc=`awk '&#123;print $1&#125;' Clist|tr "\n" "#"` # 将换行符替换成“#”，将abc缩为一行。</span><br><span class="line">sed -i -e '&#123;:begin;  /)/! &#123; $! &#123; N; b begin &#125;; &#125;; s/C_param\n(.*)/C_param\n(\n'$&#123;abc&#125;')/; &#125;;' ./file</span><br><span class="line"><span class="meta">#</span><span class="bash"> 将C_param下面的括号中的所有行，替换成abc。</span></span><br><span class="line">sed -i 's/#/\n/g' ./fileName #将“#”替换成换行符，就是将abc还原成了一个多行数据。</span><br></pre></td></tr></table></figure><pre><code>这里用python先生成一个数组，然后输出到文件，然后读取这个文件，读取出来是一列数据，我打算将这一列数据替换掉某个文件中的一列其它数据。
</code></pre><ul><li>删除行<br><code>sed -i '1d' fileName</code> 删除第一行<br><code>sed -i '$d' fileName</code> 删除最后一行<br><code>sed '/^\s*$/d' fileName</code> 删除空行<br><code>awk '!a[$0]++' fileName</code> 删除重复行<br><code>sed -i 1,35d fileName</code> 删除1-35行<br><code>sed -i 1~2d fileName</code> 从第一行开始,每2行删除一行，即删除1··3··5··7··行。</li><li>删除字符串<br>删除字符串，即把它替换成空。<br><code>sed -r -i 's/欲删除字符串//g' fileName</code></li><li>删除文件中含特定字符串 abc 的行<br>   <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sed -e &#39;&#x2F;abc&#x2F;d&#39; fileName &gt;fileName_NEW</span><br><span class="line">#这个操作好像不能使用 -i ，只能把结果重定向到一个新的文件</span><br><span class="line">sed -e &#39;&#x2F;abc&#x2F;d&#39; fileName &gt;fileName</span><br><span class="line">#这样是不对的，生成的 fileName 是一个空文件</span><br></pre></td></tr></table></figure></li><li>修改文件中包含某个字符串的那一行（适合在脚本中修改 OpenFOAM的参数设置）<br><a href="https://blog.csdn.net/u010312436/article/details/48376725" target="_blank" rel="external nofollow noopener noreferrer">参考</a><br>比如：</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">PBS -N caseName</span></span><br><span class="line"><span class="meta">#</span><span class="bash">PBS -l nodes=2:ppn=10</span></span><br><span class="line"><span class="meta">#</span><span class="bash">PBS -j oe</span></span><br><span class="line"><span class="meta">#</span><span class="bash">PBS -l walltime=150:30:00</span></span><br><span class="line">cd $PBS_O_WORKDIR</span><br><span class="line">NP=`cat $PBS_NODEFILE|wc -l`</span><br><span class="line"></span><br><span class="line">n=`grep -n "numberOfSubdomains" system/decomposeParDict | awk -F':' '&#123;print $1&#125;'` </span><br><span class="line">sed -i "$[n]c numberOfSubdomains $NP;" system/decomposeParDict</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这里表示修改第 n 行，c 表示修改某一行</span></span><br><span class="line"></span><br><span class="line">blockMesh</span><br><span class="line">decomposePar -force</span><br><span class="line">mpirun -np $NP -hostfile $PBS_NODEFILE reactingFoam -parallel 2&gt;&amp;1 | tee run.log</span><br></pre></td></tr></table></figure><p>这里的 NP 就是所使用的核心数（这里等于 20），每次修改脚本的 <code>nodes=2:ppn=10</code> 这一行后，就可以不管下边的设置了，关键是不需要修改 decomposeParDict 文件了！因为有时候会忘记改这个参数。</p><h1 id="大杀器-awk"><a class="markdownIt-Anchor" href="#大杀器-awk"></a> 大杀器 awk</h1><p>基本用法： <code>awk -F &quot;用于分隔的符号或者字符串&quot; '{print $分隔后你需要的列号}'</code><br>awk 提取某一列字符,如：</p><pre>stp <font size="4" color="red"><b>=</b></font>     1    dt <font size="4" color="red"><b>=</b></font> 1.00e-09 s    ord <font size="4" color="red"><b>=</b></font> 1    time <font size="4" color="red"><b>=</b></font> <font size="4" color="green"><b>1e-06 ms	T_max</b></font> <font size="4" color="red"><b>=</b></font>  897.7 K	T_st <font size="4" color="red"><b>=</b></font>  875.1 K</pre><p>一个 log 文件，格式的每一行如上所示，现在需要提取 time 和 T_max 到一个新的文件，代码如下：</p><pre>
grep stp log | awk -F "<font size="4" color="red"><b>=</b></font>" '{print $5}'|awk -F "<font size="4" color="red"><b>ms</b></font>" '{print $1}' >time
grep stp log | awk -F "<font size="4" color="red"><b>=</b></font>" '{print $6}'|awk -F "<font size="4" color="red"><b>K</b></font>" '{print $1}' >temp
paste time temp | awk '{print $1"\t"$2}' >ignition.txt
</pre><p>解释，grep 是获取 log 文件中含有 stp 的所有行，awk 的主要功能是对列操作，这里按“等于”号将每一行分隔为若干列，然后取第 5 列，即第四个等于号和第五个等于号之间的字符串<code>1e-06 ms T_max</code>，然后将<code>1e-06 ms T_max</code>按ms分为两列，取第 1 列，即我们需要的“时间”。<br>第二行代码亦如此，获取到<code>T_max</code>，输出到temp文件。<code>&gt;</code>大于号表示输出到文件，若该文件不存在，创建之；若存在，里边内容会被清空。如果使用两个大于号，则不同，<code>&gt;&gt;</code>表示输出到文件，但是是在文件末尾添加新写进去的内容。<br>第三行表示将time文件和temp文件合并成一个，time作为第一列，temp作为第二列。</p><p>列数为变量时如何使用：<br><code>awk -v N=274 '{ print $N}' fileName</code><br>获取第274列数据。</p><h1 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h1><pre><code>sort -g # 可以对科学计数法进行从小到大排序
逆序：sort -g -r
</code></pre><h1 id="循环-自增操作"><a class="markdownIt-Anchor" href="#循环-自增操作"></a> 循环、自增操作</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for i in `seq 1 100`  </span><br><span class="line">do  </span><br><span class="line">    echo $i  </span><br><span class="line">done</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">files=`ls Pre*`</span><br><span class="line">for file in $files</span><br><span class="line">do  </span><br><span class="line">    echo $file</span><br><span class="line">done</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">transients=`ls *tout.kg|awk -F "t" '&#123;print $2&#125;'|awk -F "ms" '&#123;print $1&#125;'|sort -g`</span><br><span class="line">x=10000</span><br><span class="line">for transient in $transients; do</span><br><span class="line">    mv *"$transient"ms.tout.kg chi$x</span><br><span class="line">    x=`expr $x + 1`#自增</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>break跳出循环。<br>continue命令与break命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</p><h1 id="判断大小"><a class="markdownIt-Anchor" href="#判断大小"></a> 判断大小</h1><p>推荐第三种！</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">if [ $T -lt 1200 ]; then  </span><br><span class="line">语句块</span><br><span class="line">fi</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果 T 小于1200，这里只使用于整数间的比较</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">if [ `expr $T \&lt; $T_ext` -eq 1 ]; then </span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果 T 小于 T_ext</span></span><br><span class="line"><span class="meta">#</span><span class="bash">不支持科学计数法，默认<span class="keyword">if</span>成立，可能会出现 bug</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">if [ $(echo "$chi &gt; $chi_ignition" | bc) -eq 1 ]; then </span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果 chi 大于 chi_ignition</span></span><br><span class="line"><span class="meta">#</span><span class="bash">不支持科学计数法，默认 <span class="keyword">if</span> 不成立，即跳过科学计数</span></span><br></pre></td></tr></table></figure><p>PS：科学计数法转十进制：<br>方法1： <code>printf &quot;%f\n&quot; 3.1188622400e+06</code><br>方法2： <code>echo 3.1188622400e+06 | awk '{printf(&quot;%f\n&quot;,$0)}'</code></p><h1 id="删除所有文件except-some-file"><a class="markdownIt-Anchor" href="#删除所有文件except-some-file"></a> 删除所有文件，except some file</h1><p><code>find ./ -name '[^C][^1][^2]*' | xargs rm -rf</code> #删除除了 <code>C12</code> 开头以外的其它文件</p><h1 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h1><p><code>index</code> 从 0 开始<br><code>${abc[i]}</code> 表示数组 <code>abc</code> 的第 <code>i</code> 个分量</p><h1 id="实数运算"><a class="markdownIt-Anchor" href="#实数运算"></a> 实数运算</h1><h2 id="整数的加减乘除"><a class="markdownIt-Anchor" href="#整数的加减乘除"></a> 整数的加减乘除：</h2><p>方法一：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">b&#x3D;$((5*5+5-6&#x2F;2))</span><br><span class="line">echo $b</span><br><span class="line">输出：27</span><br></pre></td></tr></table></figure><p>方法二：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">i&#x3D;5</span><br><span class="line">c&#x3D;&#96;expr $i &#x2F; 2&#96;</span><br><span class="line">echo $c</span><br><span class="line">输出：2，可以看出，这里不支持小数</span><br><span class="line">PS: 操作符号两边要有空格，这里的“&#x2F;”也可以是“+”“－”“*”，*不行！</span><br></pre></td></tr></table></figure><h2 id="小数点位数"><a class="markdownIt-Anchor" href="#小数点位数"></a> 小数点位数</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">time=0.00015</span><br><span class="line">time=$(printf "%.4f" `echo "$time + 0.0001"|bc`)</span><br><span class="line">echo $time</span><br></pre></td></tr></table></figure><p>输出：0.0002<br>保留4位小数，后边直接截断，不进行四舍五入。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">time=0.00015</span><br><span class="line">time=$(echo $time 0.0001 | awk '&#123; printf "%0.4f\n" ,$1+$2&#125;')#time+0.0001</span><br><span class="line">echo $time</span><br></pre></td></tr></table></figure><p>输出：0.0003<br>四舍五入，保留4位小数。</p><h2 id="浮点数的加减乘除"><a class="markdownIt-Anchor" href="#浮点数的加减乘除"></a> 浮点数的加减乘除：</h2><p>方法一：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">c=$(echo "5.01-4*2.0"|bc)</span><br><span class="line">echo $c</span><br><span class="line">输出：-2.99</span><br></pre></td></tr></table></figure><p>例外：<code>c=$(echo &quot;1/1000&quot;|bc)</code>输出为0，因为它是小于1的小数。如何才能正确输出小数呢？</p><p>方法二：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">c&#x3D;$(awk &#39;BEGIN&#123;print 7.01*5-4.01 &#125;&#39;)</span><br><span class="line">echo $c</span><br><span class="line">输出：31.04</span><br><span class="line">c&#x3D;$(awk &#39;BEGIN&#123;print 1&#x2F;1000 &#125;&#39;)</span><br><span class="line">echo $c</span><br><span class="line">输出：0.001</span><br></pre></td></tr></table></figure><p>例外：我想输出从 0 到 1 之间的等间距小数</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for i in &#96;seq 0 10&#96; </span><br><span class="line">do</span><br><span class="line">c&#x3D;$(awk &#39;BEGIN&#123;print $i&#x2F;10 &#125;&#39;)</span><br><span class="line">echo $c </span><br><span class="line">done</span><br><span class="line">输出 11 个 0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for i in &#96;seq 1 10&#96; </span><br><span class="line">do</span><br><span class="line">    c&#x3D;$(printf &quot;%.4f&quot; &#96;echo &quot;$i &#x2F; 10&quot;|bc&#96;)</span><br><span class="line">    echo $c </span><br><span class="line">done</span><br><span class="line">依然输出一堆 0.0000，只有最后一个是1.0000</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for i in &#96;seq 1 10&#96; </span><br><span class="line">do</span><br><span class="line">    c&#x3D;$(echo $i 10 | awk &#39;&#123; printf &quot;%0.4f\n&quot; ,$1&#x2F;$2&#125;&#39;)</span><br><span class="line">    echo $c </span><br><span class="line">done</span><br><span class="line">这个才是正常输出的。</span><br></pre></td></tr></table></figure><h1 id="修改文件名"><a class="markdownIt-Anchor" href="#修改文件名"></a> 修改文件名</h1><h2 id="先来点简单的操作"><a class="markdownIt-Anchor" href="#先来点简单的操作"></a> 先来点简单的操作</h2><p>增加后缀</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find  . -type f -exec mv '&#123;&#125;' '&#123;&#125;'.old \;</span><br></pre></td></tr></table></figure><p>增加前缀</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for files in $(ls *.png)</span><br><span class="line">    do mv $files "pic."$files</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>去除前缀<br>？？？<br>去除后缀<br>？？？<br><a href="http://www.tracholar.top/2018/06/10/remove-a-fixed-prefix-suffix-from-a-string-in-bash/" target="_blank" rel="external nofollow noopener noreferrer">网址</a></p><h2 id="再来点高级的"><a class="markdownIt-Anchor" href="#再来点高级的"></a> 再来点高级的</h2><p>将文件名拆分，然后重组，如：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ls fileName | sed -r -n 's/(.*)分隔字符(.*)/mv &amp; 替换后的字符\1\2/e'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这里表示将原文件名按‘分隔字符’拆分为两部分，分别由(.*)对应，也对应 \1 和 \2。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 后边的部分即为新文件名，可以添加任意字符在\1 \2的任何位置，也可以不要 \2，即删去“分隔字符”及其后边的部分。</span></span><br></pre></td></tr></table></figure><p>举例：</p><pre>
ls chi* | sed -r -n 's/.*tf(.*)/mv & \1/e' 
# 分隔为 tf 之后部分，全部保留，即保留 tf 后边的字符串
# 原文件名：chi23.0769tf<font size="4" color="red">0363to0900Tst2227.kg</font>
# 操作后：0363to0900Tst2227.kg

#  .* 加不加括号的区别在于，加括号后，才计入分隔的部分中;
# 如果不加括号，仅仅表示中间还有若干字符，但是不计入分隔后的部分。

ls chi* | sed -r -n 's/(.*)tf.*/mv & \1/e' 
# 分隔为 tf 之前部分，全部保留，即删去 tf 以及后边的所有字符串。
# 原文件名：<font size="4" color="red">chi23.0769</font>tf0363to0900Tst2227.kg
# 操作后：chi23.0769

ls chi* | sed -r -n 's/(.*)tf.*.kg(.*)/mv & \1\2/e' 
# 分隔为 tf 之前，和 .kg 之后
# 这里分隔后，\1表示chi23.0769，即前边那个(.*)对应的部分，\2表示'AAA'，即后边那个(.*)对应的部分。
# 原文件名：<font size="4" color="red">chi23.0769</font>tf0363to0900Tst2227.kg<font size="4" color="red">AAA</font>
# 操作后：chi23.0769AAA


ls chi* | sed -r -n 's/(.*)tf(.*).kg(.*)/mv & \1\2\3/e' 
# tf 和 .kg 把原文件名分隔为三部分，全部保留。
# 原文件名：<font size="4" color="red">chi23.0769</font>tf<font size="4" color="red">0363to0900Tst2227</font>.kg<font size="4" color="red">BBB</font>
# 操作后：chi23.07690363to0900Tst2227BBB
</pre></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noopener noreferrer" target="_blank">Yan Zhang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://openfoam.top/linuxLearning/">https://openfoam.top/linuxLearning/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="external nofollow noopener noreferrer">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://openfoam.top">OpenFOAM 成长之路</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a><a class="post-meta__tags" href="/tags/shell/">shell</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="/album/wechatPay.jpg"><div class="post-qr-code__desc">您的肯定会给我更大动力~</div></div></div><div class="social-share pull-right" data-disabled="tencent,douban,qzone,diandian,facebook,twitter,google"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><nav id="pagination"><div class="prev-post pull-left"><a href="/CppPrimer/"><i class="fa fa-chevron-left"></i><span>C++ primer 阅读笔记</span></a></div><div class="next-post pull-right"><a href="/mixture/"><span>OpenFOAM 如何更新混合物的属性</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk=new Gitalk({clientID:"9dfad189aeefc4c2dde2",clientSecret:"69b4d95e0c4be2508135adae20b05bf6f298f386",repo:"zhangyantju.github.io",owner:"ZhangYanTJU",admin:"ZhangYanTJU",id:md5(decodeURI(location.pathname)),language:"zh-CN"});gitalk.render("gitalk-container")</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2020 By Yan Zhang</div><div class="framework-info"><span>驱动 -</span> <a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 -</span> <a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="external nofollow noopener noreferrer"><span>Melody</span></a></div><div class="footer_custom_text">Hosted by <a target="_blank" rel="external nofollow noopener noreferrer" href="https://pages.coding.me"><b>Coding Pages</b></a></div></div><script id="maid-script" src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js?v=undefined"></script><script>if(window.mermaid){var options=JSON.parse(document.getElementById("maid-script").getAttribute("mermaidoptioins"));mermaid.initialize(options)}</script></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script src="/js/katex.js"></script><script src="/js/search/local-search.js"></script><script>/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)&&($("#nav").addClass("is-mobile"),$("footer").addClass("is-mobile"),$("#top-container").addClass("is-mobile"))</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49b1f5">hexo-generator-search</a> <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>